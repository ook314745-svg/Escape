
local BLUE_ACCENT = Color3.fromRGB(25, 85, 160)
local DARK_GLASS = Color3.fromRGB(10, 15, 30)
local FIELD_BG = Color3.fromRGB(18, 25, 45)
local TEXT_COLOR = Color3.fromRGB(235, 235, 235)
local SUBTITLE_COLOR = Color3.fromRGB(180, 200, 230)
local correctKey = "Hiimfares"
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer


local SAFE_Y_POS = -2.73
local SAFE_Z_POS = -6.61
local DETECTION_RANGE = 120
local isDodging = false
local isGuarding = false
local isInstantGuarding = false
local isCollectingCoins = false
local COLLECTOR_SPEED = 2000
local SAFE_POINT = Vector3.new(133.81, 3.27, -45.37)
local isInstaGrabActive = false
local function findTsunamiWaves()
    local waves = {}
    local folders = {workspace:FindFirstChild("ActiveTsunamis"), workspace:FindFirstChild("Tsunami"), workspace:FindFirstChild("Waves"), workspace:FindFirstChild("Events")}
    for _, folder in pairs(folders) do
        if folder then
            for _, part in pairs(folder:GetDescendants()) do
                if part:IsA("BasePart") and (part.Name == "Hitbox" or part.Name:find("Damage")) then
                    table.insert(waves, part)
                end
            end
        end
    end
    for _, part in pairs(workspace:GetChildren()) do
        if part.Name:find("Wave") or part.Name:find("Tsunami") or part.Name:find("Onda") then
            local hitbox = part:FindFirstChild("Hitbox", true) or part:FindFirstChildWhichIsA("BasePart", true)
            if hitbox then table.insert(waves, hitbox) end
        end
    end
    return waves
end
local function findAndTeleportToGap(isInstant)
    local char = LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    local gapsFolder = workspace.Misc:FindFirstChild("Gaps") or workspace:FindFirstChild("Gaps")
    if not hrp or not gapsFolder then return end
    local nearestGap = nil
    local minDistance = math.huge
    for _, part in pairs(gapsFolder:GetDescendants()) do
        if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
            local distance = (hrp.Position - part.Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                nearestGap = part
            end
        end
    end
    if nearestGap then
        isDodging = true
        hrp.CFrame = CFrame.new(nearestGap.Position.X, SAFE_Y_POS, SAFE_Z_POS)
        hrp.Velocity = Vector3.zero
        RunService.Heartbeat:Wait()
        if not isInstant then task.wait(0.4) end
        isDodging = false
    end
end
local function findRadioactiveCoins()
    local coins = {}
    if workspace:FindFirstChild("EventParts") then
        for _, part in pairs(workspace.EventParts:GetDescendants()) do
            if part.Name == "Radioactive Coin" and part:IsA("BasePart") then
                table.insert(coins, part)
            end
        end
    end
    for _, part in pairs(workspace:GetDescendants()) do
        if part.Name == "Radioactive Coin" and part:IsA("BasePart") then
            local found = false
            for _, existingCoin in pairs(coins) do
                if existingCoin == part then found = true; break end
            end
            if not found then table.insert(coins, part) end
        end
    end
    return coins
end
local function findNearestCoin()
    local char = LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    if not hrp then return nil, nil end
    local coins = findRadioactiveCoins()
    local nearestCoin = nil
    local minDistance = math.huge
    for _, coin in pairs(coins) do
        if coin and coin.Parent then
            local distance = (hrp.Position - coin.Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                nearestCoin = coin
            end
        end
    end
    return nearestCoin, minDistance
end
local function tweenTeleport(targetPosition)
    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end
    local distance = (hrp.Position - targetPosition).Magnitude
    if distance < 3 then
        hrp.CFrame = CFrame.new(targetPosition)
        return true
    end
    local duration = math.max(distance / COLLECTOR_SPEED, 0.05)
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(hrp, tweenInfo, {CFrame = CFrame.new(targetPosition)})
    tween:Play()
    local startTime = tick()
    while (hrp.Position - targetPosition).Magnitude > 2 and (tick() - startTime) < duration + 0.2 do
        task.wait()
    end
    hrp.CFrame = CFrame.new(targetPosition)
    return true
end
local function startFlashCollectorLoop()
    task.spawn(function()
        while isCollectingCoins do
            local success, err = pcall(function()
                local char = LocalPlayer.Character
                if not char then return end
                local hrp = char:FindFirstChild("HumanoidRootPart")
                if not hrp then return end
                local hum = char:FindFirstChild("Humanoid")
                if hum and hum.Health <= 0 then return end
                local nearestCoin, dist = findNearestCoin()
                if nearestCoin and nearestCoin.Parent then
                    local teleported = tweenTeleport(nearestCoin.Position)
                    if teleported then
                        hrp.Velocity = Vector3.zero
                        if nearestCoin:IsA("BasePart") then
                            firetouchinterest(hrp, nearestCoin, 0)
                            task.wait(0.02)
                            firetouchinterest(hrp, nearestCoin, 1)
                        end
                        task.wait(0.05)
                    end
                else
                    if (hrp.Position - SAFE_POINT).Magnitude > 30 then
                        tweenTeleport(SAFE_POINT)
                    end
                    task.wait(0.5)
                end
            end)
            if not success then
                warn("[FaresHub] Flash Collector Error:", err)
            end
            task.wait(0.03)
        end
    end)
end

-- الفانكشنات القديمة
local function upgradespeed() ReplicatedStorage.RemoteFunctions.UpgradeSpeed:InvokeServer(5) end
local function upgradecarry() ReplicatedStorage.RemoteFunctions.UpgradeCarry:InvokeServer() end
local function rebirth() ReplicatedStorage.RemoteFunctions.Rebirth:InvokeServer() end
local function speedchanger() local speed = getgenv().Scv or 16; LocalPlayer:SetAttribute("CurrentSpeed", speed) end


local function ExecuteHub()
    repeat task.wait() until game:IsLoaded()

    local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()
    local Window = Rayfield:CreateWindow({Name = "Escape  Tsunami for brainrot | سكربت فارس V4.2", LoadingTitle = "سكربت فارس", LoadingSubtitle = "Fares Script", ConfigurationSaving = { Enabled = false }, KeySystem = false})

    local MainTab = Window:CreateTab("القائمة الرئيسية", 4483362458)

-- سكربتات اخرى
local OtherScriptsTab = Window:CreateTab("سكربتات أخرى من صنع فارس", 4483362458)


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local moving = false
local moveConnection

OtherScriptsTab:CreateToggle({
    Name = "يحركك للامام بدون جهد منك",
    CurrentValue = false,
    Flag = "ForwardMoveToggle",
    Callback = function(Value)
        moving = Value

        if moving then
            moveConnection = RunService.RenderStepped:Connect(function()
                local char = player.Character
                if char and char:FindFirstChild("Humanoid") then
                    char.Humanoid:Move(Vector3.new(0, 0, -1), true)
                end
            end)
        else
            if moveConnection then
                moveConnection:Disconnect()
                moveConnection = nil
            end
        end
    end,
})

OtherScriptsTab:CreateButton({
    Name = "Anti-AFK by Fares",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/FaresXForest/antiafk-by-flex-and-fares/refs/heads/main/faresxflex"))()
    end
})

OtherScriptsTab:CreateButton({
	Name = "Infinite Jump (By Fares)(شكل الواجهه خرا بس اعذروني غصب عني) ",
	Callback = function()
		loadstring([[
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local localPlayer = Players.LocalPlayer

if localPlayer.PlayerGui:FindFirstChild("InfiniteJumpGUI") then return end

local isJumpActive = false
local jumpPower = 100
local jumpConnection = nil

local DraggableGUI = Instance.new("ScreenGui")
DraggableGUI.Name = "InfiniteJumpGUI"
DraggableGUI.Parent = localPlayer:WaitForChild("PlayerGui")
DraggableGUI.IgnoreGuiInset = true

local MainFrame = Instance.new("Frame")
MainFrame.Parent = DraggableGUI
MainFrame.Size = UDim2.new(0,220,0,125)
MainFrame.Position = UDim2.new(0.1,0,0.15,0)
MainFrame.BackgroundColor3 = Color3.fromRGB(204,51,51)
MainFrame.Active = true
MainFrame.Draggable = true

local UICorner = Instance.new("UICorner")
UICorner.Parent = MainFrame
UICorner.CornerRadius = UDim.new(0,8)

local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.Size = UDim2.new(0,120,0,22)
Title.Position = UDim2.new(0.07,0,0.1,0)
Title.Text = "InfiniteJump v1 (byFares)"
Title.TextColor3 = Color3.new(1,1,1)
Title.BackgroundColor3 = Color3.fromRGB(153,51,51)

local Btn = Instance.new("TextButton")
Btn.Parent = MainFrame
Btn.Size = UDim2.new(0,88,0,50)
Btn.Position = UDim2.new(0.07,0,0.4,0)
Btn.Text = "OFF"
Btn.TextSize = 24
Btn.BackgroundColor3 = Color3.fromRGB(255,230,230)

local function activate()
	if jumpConnection then return end
	jumpConnection = UserInputService.JumpRequest:Connect(function()
		if isJumpActive and localPlayer.Character then
			local hrp = localPlayer.Character:FindFirstChild("HumanoidRootPart")
			if hrp then
				hrp.Velocity = Vector3.new(hrp.Velocity.X, jumpPower, hrp.Velocity.Z)
			end
		end
	end)
end

local function deactivate()
	if jumpConnection then
		jumpConnection:Disconnect()
		jumpConnection = nil
	end
end

Btn.MouseButton1Click:Connect(function()
	isJumpActive = not isJumpActive
	if isJumpActive then
		Btn.Text = "ON"
		activate()
	else
		Btn.Text = "OFF"
		deactivate()
	end
end)
		]])()
	end
})

OtherScriptsTab:CreateButton({
	Name = "سكربت يعرفك متى الشيء النادر يترسبن",
	Callback = function()
	
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")


local originalTextLabel =
    workspace.Model:GetChildren()[16]
    .SurfaceGui.Frame.TextLabel




local screenGui = Instance.new("ScreenGui")
screenGui.Name = "RespawnTextTranslator"
screenGui.ResetOnSpawn = false
screenGui.Parent = PlayerGui


local frame = Instance.new("Frame")
-- INCREASED THE HEIGHT SCALE FROM 0.1 to 0.15
frame.Size = UDim2.new(0.8, 0, 0.15, 0) -- 80% width, 15% height
frame.Position = UDim2.new(0.5, 0, 0.2, 0)
frame.AnchorPoint = Vector2.new(0.5, 0)
frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
frame.BackgroundTransparency = 0.1
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui


--  adjust it slightly to better fit the new height. Original was ~380/80=4.75. New is ~380/120=3.1
local aspectRatio = Instance.new("UIAspectRatioConstraint")
aspectRatio.AspectRatio = 3.5 -- Adjusted ratio for the new height
aspectRatio.DominantAxis = Enum.DominantAxis.Width
aspectRatio.Parent = frame

local sizeConstraint = Instance.new("UISizeConstraint")
sizeConstraint.MaxSize = Vector2.new(450, math.huge) -- Slightly increased max size as well
sizeConstraint.Parent = frame


local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(1, -10, 0.5, -5)
textLabel.Position = UDim2.new(0, 5, 0, 5)
textLabel.BackgroundTransparency = 1
textLabel.TextWrapped = true
textLabel.TextScaled = true
textLabel.Font = Enum.Font.GothamBold
textLabel.TextColor3 = Color3.fromRGB(255, 105, 180) -- Pink
textLabel.Parent = frame


local translationLabel = Instance.new("TextLabel")
translationLabel.Size = UDim2.new(1, -10, 0.5, -5)
translationLabel.Position = UDim2.new(0, 5, 0.5, 0)
translationLabel.BackgroundTransparency = 1
translationLabel.TextWrapped = true
translationLabel.TextScaled = true
translationLabel.Font = Enum.Font.GothamBold
translationLabel.TextColor3 = Color3.fromRGB(0, 255, 255) -- Cyan
translationLabel.Parent = frame



local function translateTimer(text)
    local time = text:match("(%d%d:%d%d)")
    if time then
        return "الحاجه النادرة فشخ هتترسبن بعد " .. time
    else
        return ""
    end
end

local function updateText()
    local original = originalTextLabel.Text
    textLabel.Text = original
    translationLabel.Text = translateTimer(original)
end

originalTextLabel:GetPropertyChangedSignal("Text"):Connect(updateText)
updateText()

	end
})

OtherScriptsTab:CreateButton({
    Name = "Anti-AFKv2 By Fares (لازم PC) ",
    Callback = function()
       

local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")


local old = playerGui:FindFirstChild("AntiAFK_Fares_SEREX_v8")
if old then old:Destroy() end



local environment = {
	isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled,
	isPC = UserInputService.KeyboardEnabled,
	hasVirtualUser = pcall(function() VirtualUser:CaptureController() end),
	hasCamera = workspace.CurrentCamera ~= nil
}

local settings = {
	enabled = false,
	baseInterval = 60,
	jitter = 0.4,
	isWindowFocused = true,
	unfocusedMultiplier = 0.7
}

local ui = {}
local connections = {}



local function randRange(a,b)
	return a + math.random() * (b - a)
end

local function nextWait()
	local base = settings.baseInterval
	local jitter = base * settings.jitter
	local w = base + randRange(-jitter, jitter)
	if not settings.isWindowFocused then
		w *= settings.unfocusedMultiplier
	end
	return math.max(8, w)
end

local function makeDraggable(frame)
	local dragging, startPos, startInput

	frame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1
		or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			startPos = frame.Position
			startInput = input.Position
		end
	end)

	frame.InputChanged:Connect(function(input)
		if dragging
		and (input.UserInputType == Enum.UserInputType.MouseMovement
		or input.UserInputType == Enum.UserInputType.Touch) then
			local delta = input.Position - startInput
			frame.Position = UDim2.new(
				startPos.X.Scale,
				startPos.X.Offset + delta.X,
				startPos.Y.Scale,
				startPos.Y.Offset + delta.Y
			)
		end
	end)

	UserInputService.InputEnded:Connect(function()
		dragging = false
	end)
end



local function updateUI()
	if not ui.main then return end

	local statusText, statusColor, btnText, btnColor

	if settings.enabled then
		statusText = settings.isWindowFocused and "SYSTEM ONLINE" or "UNFOCUSED"
		statusColor = settings.isWindowFocused and Color3.fromRGB(0,255,255) or Color3.fromRGB(255,165,0)
		btnText = "DISABLE"
		btnColor = Color3.fromRGB(0,150,150)
	else
		statusText = "SYSTEM OFFLINE"
		statusColor = Color3.fromRGB(180,40,40)
		btnText = "ENABLE"
		btnColor = Color3.fromRGB(40,42,48)
	end

	
	ui.status.Text = statusText
	ui.button.Text = btnText

	
	TweenService:Create(ui.status, TweenInfo.new(0.25), {
		TextColor3 = statusColor
	}):Play()

	TweenService:Create(ui.button, TweenInfo.new(0.25), {
		BackgroundColor3 = btnColor
	}):Play()

	TweenService:Create(ui.pulse, TweenInfo.new(0.4), {
		BackgroundTransparency = settings.enabled and 0.5 or 1
	}):Play()
end

local function setEnabled(v)
	settings.enabled = v
	updateUI()
end



local function characterMove()
	local hum = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
	if hum then
		hum:Move(Vector3.new(math.random(-1,1),0,math.random(-1,1)), false)
		task.wait(0.1)
		hum:Move(Vector3.zero, false)
	end
end

local function cameraNudge()
	local cam = workspace.CurrentCamera
	if not cam then return end
	local cf = cam.CFrame
	cam.CFrame = cf * CFrame.Angles(0, math.rad(math.random(-2,2)), 0)
	task.wait(0.1)
	cam.CFrame = cf
end

local function virtualClick()
	if not environment.hasVirtualUser then return end
	VirtualUser:CaptureController()
	VirtualUser:ClickButton2(Vector2.new())
end

local function performAction()
	if not settings.enabled then return end
	local pool = {characterMove}
	if environment.hasCamera then table.insert(pool, cameraNudge) end
	if environment.hasVirtualUser then table.insert(pool, virtualClick) end
	pool[math.random(#pool)]()
end



local gui = Instance.new("ScreenGui", playerGui)
gui.Name = "AntiAFK_Fares_SEREX_v8"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0,260,0,45)
main.Position = UDim2.new(0.5,0,0,20)
main.AnchorPoint = Vector2.new(0.5,0)
main.BackgroundColor3 = Color3.fromRGB(22,24,28)
main.Active = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0,8)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(0,150,0,20)
title.Position = UDim2.new(0,15,0,4)
title.BackgroundTransparency = 1
title.Text = "ANTIAFK FOR PC by Fares"
title.Font = Enum.Font.Gotham
title.TextSize = 14
title.TextColor3 = Color3.fromRGB(200,200,200)
title.TextXAlignment = Enum.TextXAlignment.Left

local status = Instance.new("TextLabel", main)
status.Size = UDim2.new(0,150,0,15)
status.Position = UDim2.new(0,15,0,24)
status.BackgroundTransparency = 1
status.Text = "SYSTEM OFFLINE"
status.Font = Enum.Font.GothamBold
status.TextSize = 11
status.TextColor3 = Color3.fromRGB(180,40,40)
status.TextXAlignment = Enum.TextXAlignment.Left

local button = Instance.new("TextButton", main)
button.Size = UDim2.new(0,70,0,28)
button.Position = UDim2.new(1,-80,0.5,-14)
button.BackgroundColor3 = Color3.fromRGB(40,42,48)
button.Text = "ENABLE"
button.Font = Enum.Font.GothamBold
button.TextSize = 12
button.TextColor3 = Color3.fromRGB(220,220,220)
Instance.new("UICorner", button).CornerRadius = UDim.new(0,5)

local pulse = Instance.new("Frame", main)
pulse.Size = UDim2.new(1,0,0,1)
pulse.Position = UDim2.new(0,0,1,0)
pulse.BackgroundColor3 = Color3.fromRGB(0,255,255)
pulse.BackgroundTransparency = 1

makeDraggable(main)

ui = {gui=gui, main=main, status=status, button=button, pulse=pulse}
updateUI()



button.MouseButton1Click:Connect(function()
	setEnabled(not settings.enabled)
end)

player.Idled:Connect(function()
	if settings.enabled then
		task.spawn(performAction)
	end
end)

task.spawn(function()
	while gui.Parent do
		if settings.enabled then
			performAction()
			task.wait(nextWait())
		else
			task.wait(1)
		end
	end
end) 
    end
})

OtherScriptsTab:CreateSection("© Copyright by FARES")

    local FaresTab = Window:CreateTab("AutoCollect_ByFares", 4483362458)
    
FaresTab:CreateButton({
    Name = "تجميع الفلوس تلقاءي من صنع فارس",
    Callback = function()
        -- سكربت كوليكت





local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

if PlayerGui:FindFirstChild("AutoCollectGUI_Fares") then
    PlayerGui.AutoCollectGUI_Fares:Destroy()
end


local ScreenGui = Instance.new("ScreenGui", PlayerGui)
ScreenGui.Name = "AutoCollectGUI_Fares"
ScreenGui.ResetOnSpawn = false 
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 32, 38)
MainFrame.Size = UDim2.new(0, 240, 0, 130)
MainFrame.Position = UDim2.new(0.5, -120, 0.5, -65)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 8)
Instance.new("UIStroke", MainFrame).Color = Color3.fromRGB(80, 82, 90)
Instance.new("UIStroke", MainFrame).Thickness = 1.5

local Header = Instance.new("Frame", MainFrame)
Header.BackgroundColor3 = Color3.fromRGB(40, 42, 48)
Header.Size = UDim2.new(1, 0, 0, 32)
Instance.new("UICorner", Header).CornerRadius = UDim.new(0, 8)
local UIGradient_Header = Instance.new("UIGradient", Header)
UIGradient_Header.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.fromRGB(55, 58, 64)), ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 42, 48))})
UIGradient_Header.Rotation = 90

local TitleLabel = Instance.new("TextLabel", Header)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Size = UDim2.new(1, 0, 1, 0)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.Text = "Script autocollect by Fares"
TitleLabel.TextColor3 = Color3.fromRGB(220, 221, 222)
TitleLabel.TextSize = 16

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.BackgroundColor3 = Color3.fromRGB(231, 76, 60)
ToggleButton.Position = UDim2.new(0.5, -50, 0, 42)
ToggleButton.Size = UDim2.new(0, 100, 0, 28)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "OFF"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 18
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 6)

local NoteLabel = Instance.new("TextLabel", MainFrame)
NoteLabel.BackgroundTransparency = 1
NoteLabel.Position = UDim2.new(0.05, 0, 0, 78)
NoteLabel.Size = UDim2.new(0.9, 0, 0, 48)
NoteLabel.Font = Enum.Font.SourceSans


NoteLabel.Text = 'ملاحظة: لازم بيتك يكون كامل ومصمم من 3 أدوار وفي كل دور brainrot، إلا ممكن تحتاج تعمل كتير  (OFF/ON) او هتفضل AFK بس لازم تشغل سكربت antiafk ( حاجه مهمة لازم تكون داخل بيتك عشان يشتغل  بكفاءه و يجمع الفلوس).' 


NoteLabel.TextColor3 = Color3.fromRGB(255, 193, 7)
NoteLabel.TextSize = 12
NoteLabel.TextWrapped = true
NoteLabel.TextXAlignment = Enum.TextXAlignment.Center


local COLLECT_ENABLED = false
local TargetBase = nil 
local originalJumpPower = 50
local jumpPowerConnection = nil
local JUMP_THREAD_ACTIVE = false
local originalCollisions = {} -- The NEW table to store original states


local FlySpeed = 100
local LandingSpeed = 20
local BodyGyro, BodyVelocity


local function setNoclip(state)
    local character = LocalPlayer.Character
    if not character then return end
    
    if state then
        
        originalCollisions = {}
        for _, part in ipairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                originalCollisions[part] = part.CanCollide
                part.CanCollide = false
            end
        end
    else
        
        for part, canCollide in pairs(originalCollisions) do
            if part and part.Parent then
                part.CanCollide = canCollide
            end
        end
        originalCollisions = {} -- Clear the table
    end
end

local function identifyClosestBase()
    if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then return nil end
    local playerPosition = LocalPlayer.Character.HumanoidRootPart.Position
    local minDistance = math.huge
    local foundBase = nil
    local basesFolder = Workspace:FindFirstChild("Bases_NEW")
    if not basesFolder then return nil end
    for _, base in ipairs(basesFolder:GetChildren()) do
        if base:IsA("Model") and base:FindFirstChild("Slots") and base.PrimaryPart then
            local distance = (playerPosition - base.PrimaryPart.Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                foundBase = base
            end
        end
    end
    return foundBase
end

local function flyToTarget(targetPart)
    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart or not targetPart then return end

    if not BodyGyro or not BodyGyro.Parent then
        BodyGyro = Instance.new("BodyGyro", rootPart)
        BodyGyro.P = 20000
        BodyGyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
    end
    if not BodyVelocity or not BodyVelocity.Parent then
        BodyVelocity = Instance.new("BodyVelocity", rootPart)
        BodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    end

    local approachPosition = targetPart.Position + Vector3.new(0, 8, 0)
    while COLLECT_ENABLED and targetPart and targetPart.Parent and (rootPart.Position - approachPosition).Magnitude > 5 do
        local direction = (approachPosition - rootPart.Position).Unit
        BodyGyro.CFrame = CFrame.new(rootPart.Position, approachPosition)
        BodyVelocity.Velocity = direction * FlySpeed
        RunService.Heartbeat:Wait()
    end
    if not COLLECT_ENABLED then return end

    local targetPosition = targetPart.Position
    while COLLECT_ENABLED and targetPart and targetPart.Parent and (rootPart.Position - targetPosition).Magnitude > 0.5 do
        local direction = (targetPosition - rootPart.Position).Unit
        BodyGyro.CFrame = CFrame.new(rootPart.Position, targetPosition)
        BodyVelocity.Velocity = direction * LandingSpeed
        RunService.Heartbeat:Wait()
    end

    if BodyVelocity then
        BodyVelocity.Velocity = Vector3.new(0, 0, 0)
    end
end


ToggleButton.MouseButton1Click:Connect(function()
    COLLECT_ENABLED = not COLLECT_ENABLED
    JUMP_THREAD_ACTIVE = COLLECT_ENABLED
    
    local onColor = Color3.fromRGB(46, 204, 113)
    local offColor = Color3.fromRGB(231, 76, 60)
    ToggleButton.BackgroundColor3 = COLLECT_ENABLED and onColor or offColor
    ToggleButton.Text = COLLECT_ENABLED and "ON" or "OFF"

    local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end

    setNoclip(COLLECT_ENABLED)

    if COLLECT_ENABLED then
        TargetBase = identifyClosestBase()
        originalJumpPower = humanoid.JumpPower
        humanoid.UseJumpPower = true
        humanoid.JumpPower = 1
        jumpPowerConnection = humanoid:GetPropertyChangedSignal("JumpPower"):Connect(function()
            if humanoid.JumpPower ~= 1 then humanoid.JumpPower = 1 end
        end)
    else
        TargetBase = nil
        if jumpPowerConnection then jumpPowerConnection:Disconnect() end
        if BodyGyro then BodyGyro:Destroy() end
        if BodyVelocity then BodyVelocity:Destroy() end
        humanoid.JumpPower = originalJumpPower
    end
end)


coroutine.wrap(function()
    while true do
        if JUMP_THREAD_ACTIVE then
            local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                RunService.Heartbeat:Wait()
                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            else
                task.wait()
            end
        else
            task.wait(0.1)
        end
    end
end)()


coroutine.wrap(function()
    local cps = 7
    local interval = 1 / cps
    while true do
        if JUMP_THREAD_ACTIVE then
            local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end
        task.wait(interval)
    end
end)()


coroutine.wrap(function()
    while true do
        if COLLECT_ENABLED and TargetBase and TargetBase.Parent then
            local slotsFolder = TargetBase:FindFirstChild("Slots")
            if slotsFolder then
                local slotsTable = slotsFolder:GetChildren()
                table.sort(slotsTable, function(a, b)
                    local numA, numB = tonumber(a.Name), tonumber(b.Name)
                    if numA and numB then return numA < numB end
                    return a.Name < b.Name
                end)
                
                for _, slot in ipairs(slotsTable) do
                    if not COLLECT_ENABLED then break end
                    local targetPart = slot:FindFirstChild("Collect")
                    if targetPart and targetPart:IsA("BasePart") then
                        flyToTarget(targetPart)
                        task.wait(0.2)
                    end
                end
            end
        end
        task.wait(0.5)
    end
end)()



    end
})

FaresTab:CreateParagraph({
        Title = "  ملاحظة مهمة بخصوص الاوتو كوليكت /التجميع التلقاءي",
        Content = "لازم تكون داخل بيتك و الا راح يصير لك قلتشات ولو رايح تنام و تترك الجهاز يجمع شغل سكربت Antiafk."
    })

FaresTab:CreateSection("© Copyright by FARES")

    local MiscTab = Window:CreateTab("MISC", 4483362458)
    local InfoTab = Window:CreateTab("INFO", 4483362458)

    
    MiscTab:CreateSection("مميزات جديدة! ")
    MiscTab:CreateToggle({Name = " تفادي التسونامي (العادي)", CurrentValue = false, Callback = function(v) isGuarding = v; if v then isInstantGuarding = false; Rayfield:Notify({Title="تفادي التسونامي العادي", Content="تم التفعيل (عمو فارس بيحبك)!", Duration=3}) end end})
    MiscTab:CreateToggle({Name = " تفادي التسونامي (السريع فشخ)", CurrentValue = false, Callback = function(v) isInstantGuarding = v; if v then isGuarding = false; Rayfield:Notify({Title="تفادي التسونامي السريع فشخ", Content="تم التفعيل (عمو فارس بيحبك) ", Duration=3}) end end})
    
    
    MiscTab:CreateParagraph({
        Title = " ملاحظة هامة بخصوص تفادي التسونامي",
        Content = "لازم تكون قريب من المكان الي تستخبي فيه عشان لو بعيد هيحصل قلتش و تموت."
    })

    MiscTab:CreateToggle({Name = "تجميع عملات حدث الراديو اكتف تلقائي", CurrentValue = false, Callback = function(v) isCollectingCoins = v; if v then startFlashCollectorLoop(); Rayfield:Notify({Title="FLASH COLLECTOR ON", Content="شغال " .. COLLECTOR_SPEED .. " studs/s!", Duration=3}) else Rayfield:Notify({Title="FLASH COLLECTOR OFF", Content="واقف", Duration=2}) end end})
    MiscTab:CreateSlider({Name = "سرعة التجميع", Range = {500, 3000}, Increment = 100, CurrentValue = 2000, Callback = function(v) COLLECTOR_SPEED = v; Rayfield:Notify({Title="Collector Speed", Content="تم ضبط السرعة على: " .. v, Duration=2}) end})
    MiscTab:CreateToggle({Name = "شيل الشخصيات ب سرعة ", CurrentValue = false, Callback = function(v) isInstaGrabActive = v; if v then Rayfield:Notify({Title="شيل الشخصيات بسرعه", Content="تم التفعيل!", Duration=3}) end end})
    MiscTab:CreateSection("© Script by Fares")

    
    InfoTab:CreateSection("معلومات السكربت")
    InfoTab:CreateParagraph({Title = "نسخة السكربت", Content = "هذا الاصدار 4.2 .\n تم تحسين بعض المشاكلوويعمل بكفاءه اقوي و تمت اضافه مميزات  و اضافة سكربتات جديدة و قوية و اضافة auto collect و العديد من المميزات اكتشفها بنفسك (اذا اكتشفت اي مشاكل في السكربت تواصل معي في التيك توك علي الخاص  ._.f.o_  ) وواضافه misc.\nالسكربت هذا تم تطويره من FARES."})
    
    InfoTab:CreateParagraph({Title = "Script Version", Content = "This is the release V4.2 .\n Problems have been improved, new features have been added, Misc has been added,auto collect has been added, if you had any problems dm me in tiktok (._.f.o_)  and added more taps more scripts take a LOOK by yourself, and the script  works more efficiently on phones.\nThis script has been developed by FARES."})
    
    InfoTab:CreateParagraph({Title = "المطور / Developer", Content = "FARES (egyptiandeveloper)"})

    InfoTab:CreateParagraph({Title = "ملاحظات / Notes", Content = "السكربت هذا تم تطويره من FARES.\nBESTCHEAT Like and Follow."})
    InfoTab:CreateSection("© Copyright by FARES")
    MainTab:CreateSection(" المميزات")
    MainTab:CreateToggle({Name = "تطوير السرعة تلقائي", CurrentValue = false, Callback = function(v) getgenv().Aus = v end})
    MainTab:CreateToggle({Name = "تطوير ال carry تلقائي ", CurrentValue = false, Callback = function(v) getgenv().Auc = v end})
    MainTab:CreateToggle({Name = "اوتو ريبيرث", CurrentValue = false, Callback = function(v) getgenv().Ar = v end})
    MainTab:CreateToggle({Name = "تغيير السرعة", CurrentValue = false, Callback = function(v) getgenv().Sc = v end})
    MainTab:CreateSlider({Name = "قيمة السرعة", Range = {16, 1000}, Increment = 1, CurrentValue = 16, Callback = function(v) getgenv().Scv = v end})
    MainTab:CreateSection("©  Copyright by Fares")

    -- لوبات القايمه رايسيه
    
    RunService.Stepped:Connect(function() if isCollectingCoins then local char = LocalPlayer.Character; if char then for _, part in pairs(char:GetDescendants()) do if part:IsA("BasePart") then part.CanCollide = false end end end end end)
    task.spawn(function() while task.wait(0.5) do if getgenv().Sc then pcall(speedchanger) end end end)
    task.spawn(function() while task.wait(1) do if getgenv().Aus then pcall(upgradespeed) end; if getgenv().Auc then pcall(upgradecarry) end; if getgenv().Ar then pcall(rebirth) end end end)
    task.spawn(function() while task.wait(1) do if isInstaGrabActive then for _, prompt in pairs(workspace:GetDescendants()) do if prompt:IsA("ProximityPrompt") then prompt.HoldDuration = 0 end end end end end)
    RunService.Heartbeat:Connect(function() local shouldRun = isGuarding or isInstantGuarding; if shouldRun and not isDodging then local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart"); if not hrp then return end; local waves = findTsunamiWaves(); for _, wave in pairs(waves) do if (hrp.Position - wave.Position).Magnitude <= DETECTION_RANGE then findAndTeleportToGap(isInstantGuarding); break end end end end)
end


local gui = Instance.new("ScreenGui")
gui.Name = "FaresKeySystem"
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer:WaitForChild("PlayerGui")
local main = Instance.new("Frame")
main.Size = UDim2.new(0, 380, 0, 270)
main.Position = UDim2.new(0.5, 0, 0.5, 0)
main.AnchorPoint = Vector2.new(0.5, 0.5)
main.BackgroundColor3 = DARK_GLASS
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
main.Parent = gui
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 14)
local stroke = Instance.new("UIStroke", main)
stroke.Color = BLUE_ACCENT
stroke.Thickness = 1.5
stroke.Transparency = 0.4
local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, 0, 0, 50)
title.BackgroundTransparency = 1
title.Text = " Key gui by 3mk Fares"
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextColor3 = TEXT_COLOR
local desc = Instance.new("TextLabel", main)
desc.Size = UDim2.new(1, -30, 0, 80)
desc.Position = UDim2.new(0, 15, 0, 50)
desc.BackgroundTransparency = 1
desc.TextWrapped = true
desc.TextYAlignment = Enum.TextYAlignment.Top
desc.Text = "نورت سكربت من صنع فارس\nانت اكيد بتدور علي المفتاح\nولا تزعل المفتاح اهو Hiimfares"
desc.Font = Enum.Font.GothamBold
desc.TextSize = 13
desc.TextColor3 = SUBTITLE_COLOR
local keyBox = Instance.new("TextBox", main)
keyBox.Size = UDim2.new(0.85, 0, 0, 42)
keyBox.Position = UDim2.new(0.5, 0, 0.6, 0)
keyBox.AnchorPoint = Vector2.new(0.5, 0.5)
keyBox.BackgroundColor3 = FIELD_BG
keyBox.TextColor3 = TEXT_COLOR
keyBox.PlaceholderText = "اكتب المفتاح هنا..."
keyBox.Font = Enum.Font.Gotham
keyBox.TextSize = 14
Instance.new("UICorner", keyBox).CornerRadius = UDim.new(0, 8)
local verify = Instance.new("TextButton", main)
verify.Size = UDim2.new(0.5, 0, 0, 38)
verify.Position = UDim2.new(0.25, 0, 0.78, 0)
verify.BackgroundColor3 = BLUE_ACCENT
verify.Text = "تفعيل السكربت"
verify.Font = Enum.Font.GothamBold
verify.TextSize = 14
verify.TextColor3 = TEXT_COLOR
Instance.new("UICorner", verify).CornerRadius = UDim.new(0, 8)
local status = Instance.new("TextLabel", main)
status.Size = UDim2.new(1, 0, 0, 25)
status.Position = UDim2.new(0, 0, 0.9, 0)
status.BackgroundTransparency = 1
status.Text = "في انتظار إدخال المفتاح"
status.Font = Enum.Font.Gotham
status.TextSize = 11
status.TextColor3 = SUBTITLE_COLOR
verify.MouseButton1Click:Connect(function()
    if keyBox.Text == correctKey then
        status.Text = " تم التفعيل بنجاح"
        status.TextColor3 = Color3.fromRGB(80, 220, 140)
        TweenService:Create(stroke, TweenInfo.new(0.4), {Color = Color3.fromRGB(80, 220, 140)}):Play()
        task.wait(1)
        gui:Destroy()
        ExecuteHub()
    else
        status.Text = "المفتاح غير صحيح"
        status.TextColor3 = Color3.fromRGB(220, 80, 80)
        keyBox.Text = ""
    end
end)



 
