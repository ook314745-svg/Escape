local BLUE_ACCENT = Color3.fromRGB(25, 85, 160)
local DARK_GLASS = Color3.fromRGB(10, 15, 30)
local FIELD_BG = Color3.fromRGB(18, 25, 45)
local TEXT_COLOR = Color3.fromRGB(235, 235, 235)
local SUBTITLE_COLOR = Color3.fromRGB(180, 200, 230)
local correctKey = "Hiimfares"
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer


local SAFE_Y_POS = -2.73
local SAFE_Z_POS = -6.61
local DETECTION_RANGE = 120
local isDodging = false
local isGuarding = false
local isInstantGuarding = false
local isCollectingCoins = false
local COLLECTOR_SPEED = 2000
local SAFE_POINT = Vector3.new(133.81, 3.27, -45.37)
local isInstaGrabActive = false
local function findTsunamiWaves()
    local waves = {}
    local folders = {workspace:FindFirstChild("ActiveTsunamis"), workspace:FindFirstChild("Tsunami"), workspace:FindFirstChild("Waves"), workspace:FindFirstChild("Events")}
    for _, folder in pairs(folders) do
        if folder then
            for _, part in pairs(folder:GetDescendants()) do
                if part:IsA("BasePart") and (part.Name == "Hitbox" or part.Name:find("Damage")) then
                    table.insert(waves, part)
                end
            end
        end
    end
    for _, part in pairs(workspace:GetChildren()) do
        if part.Name:find("Wave") or part.Name:find("Tsunami") or part.Name:find("Onda") then
            local hitbox = part:FindFirstChild("Hitbox", true) or part:FindFirstChildWhichIsA("BasePart", true)
            if hitbox then table.insert(waves, hitbox) end
        end
    end
    return waves
end
local function findAndTeleportToGap(isInstant)
    local char = LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    local gapsFolder = workspace.Misc:FindFirstChild("Gaps") or workspace:FindFirstChild("Gaps")
    if not hrp or not gapsFolder then return end
    local nearestGap = nil
    local minDistance = math.huge
    for _, part in pairs(gapsFolder:GetDescendants()) do
        if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
            local distance = (hrp.Position - part.Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                nearestGap = part
            end
        end
    end
    if nearestGap then
        isDodging = true
        hrp.CFrame = CFrame.new(nearestGap.Position.X, SAFE_Y_POS, SAFE_Z_POS)
        hrp.Velocity = Vector3.zero
        RunService.Heartbeat:Wait()
        if not isInstant then task.wait(0.4) end
        isDodging = false
    end
end
local function findRadioactiveCoins()
    local coins = {}
    if workspace:FindFirstChild("EventParts") then
        for _, part in pairs(workspace.EventParts:GetDescendants()) do
            if part.Name == "Radioactive Coin" and part:IsA("BasePart") then
                table.insert(coins, part)
            end
        end
    end
    for _, part in pairs(workspace:GetDescendants()) do
        if part.Name == "Radioactive Coin" and part:IsA("BasePart") then
            local found = false
            for _, existingCoin in pairs(coins) do
                if existingCoin == part then found = true; break end
            end
            if not found then table.insert(coins, part) end
        end
    end
    return coins
end
local function findNearestCoin()
    local char = LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    if not hrp then return nil, nil end
    local coins = findRadioactiveCoins()
    local nearestCoin = nil
    local minDistance = math.huge
    for _, coin in pairs(coins) do
        if coin and coin.Parent then
            local distance = (hrp.Position - coin.Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                nearestCoin = coin
            end
        end
    end
    return nearestCoin, minDistance
end
local function tweenTeleport(targetPosition)
    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end
    local distance = (hrp.Position - targetPosition).Magnitude
    if distance < 3 then
        hrp.CFrame = CFrame.new(targetPosition)
        return true
    end
    local duration = math.max(distance / COLLECTOR_SPEED, 0.05)
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(hrp, tweenInfo, {CFrame = CFrame.new(targetPosition)})
    tween:Play()
    local startTime = tick()
    while (hrp.Position - targetPosition).Magnitude > 2 and (tick() - startTime) < duration + 0.2 do
        task.wait()
    end
    hrp.CFrame = CFrame.new(targetPosition)
    return true
end
local function startFlashCollectorLoop()
    task.spawn(function()
        while isCollectingCoins do
            local success, err = pcall(function()
                local char = LocalPlayer.Character
                if not char then return end
                local hrp = char:FindFirstChild("HumanoidRootPart")
                if not hrp then return end
                local hum = char:FindFirstChild("Humanoid")
                if hum and hum.Health <= 0 then return end
                local nearestCoin, dist = findNearestCoin()
                if nearestCoin and nearestCoin.Parent then
                    local teleported = tweenTeleport(nearestCoin.Position)
                    if teleported then
                        hrp.Velocity = Vector3.zero
                        if nearestCoin:IsA("BasePart") then
                            firetouchinterest(hrp, nearestCoin, 0)
                            task.wait(0.02)
                            firetouchinterest(hrp, nearestCoin, 1)
                        end
                        task.wait(0.05)
                    end
                else
                    if (hrp.Position - SAFE_POINT).Magnitude > 30 then
                        tweenTeleport(SAFE_POINT)
                    end
                    task.wait(0.5)
                end
            end)
            if not success then
                warn("[FaresHub] Flash Collector Error:", err)
            end
            task.wait(0.03)
        end
    end)
end

-- الفانكشنات القديمة
local function upgradespeed() ReplicatedStorage.RemoteFunctions.UpgradeSpeed:InvokeServer(5) end
local function upgradecarry() ReplicatedStorage.RemoteFunctions.UpgradeCarry:InvokeServer() end
local function rebirth() ReplicatedStorage.RemoteFunctions.Rebirth:InvokeServer() end
local function speedchanger() local speed = getgenv().Scv or 16; LocalPlayer:SetAttribute("CurrentSpeed", speed) end


local function ExecuteHub()
    repeat task.wait() until game:IsLoaded()

local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({
    Name = "Escape Tsunami for brainrot | سكربت فارس V31",
    LoadingTitle = "سكربت فارس",
    LoadingSubtitle = "Fares Script",
    ConfigurationSaving = { Enabled = false },
    KeySystem = false,
    Theme = "DarkBlue" 
})

    local MainTab = Window:CreateTab("القائمة الرئيسية", 4483362458)

-- سكربتات اخرى
local OtherScriptsTab = Window:CreateTab("سكربتات أخرى من صنع فارس", 4483362458)


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local moving = false
local moveConnection

OtherScriptsTab:CreateToggle({
    Name = "يحركك للامام بدون جهد منك",
    CurrentValue = false,
    Flag = "ForwardMoveToggle",
    Callback = function(Value)
        moving = Value

        if moving then
            moveConnection = RunService.RenderStepped:Connect(function()
                local char = player.Character
                if char and char:FindFirstChild("Humanoid") then
                    char.Humanoid:Move(Vector3.new(0, 0, -1), true)
                end
            end)
        else
            if moveConnection then
                moveConnection:Disconnect()
                moveConnection = nil
            end
        end
    end,
})

OtherScriptsTab:CreateButton({
    Name = "Anti-AFK by Fares",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/FaresXForest/antiafk-by-flex-and-fares/refs/heads/main/faresxflex"))()
    end
})

OtherScriptsTab:CreateButton({
	Name = "Infinite Jump (By Fares)(شكل الواجهه خرا بس اعذروني غصب عني) ",
	Callback = function()
		loadstring([[
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local localPlayer = Players.LocalPlayer

if localPlayer.PlayerGui:FindFirstChild("InfiniteJumpGUI") then return end

local isJumpActive = false
local jumpPower = 100
local jumpConnection = nil

local DraggableGUI = Instance.new("ScreenGui")
DraggableGUI.Name = "InfiniteJumpGUI"
DraggableGUI.Parent = localPlayer:WaitForChild("PlayerGui")
DraggableGUI.IgnoreGuiInset = true

local MainFrame = Instance.new("Frame")
MainFrame.Parent = DraggableGUI
MainFrame.Size = UDim2.new(0,220,0,125)
MainFrame.Position = UDim2.new(0.1,0,0.15,0)
MainFrame.BackgroundColor3 = Color3.fromRGB(204,51,51)
MainFrame.Active = true
MainFrame.Draggable = true

local UICorner = Instance.new("UICorner")
UICorner.Parent = MainFrame
UICorner.CornerRadius = UDim.new(0,8)

local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.Size = UDim2.new(0,120,0,22)
Title.Position = UDim2.new(0.07,0,0.1,0)
Title.Text = "InfiniteJump v1 (byFares)"
Title.TextColor3 = Color3.new(1,1,1)
Title.BackgroundColor3 = Color3.fromRGB(153,51,51)

local Btn = Instance.new("TextButton")
Btn.Parent = MainFrame
Btn.Size = UDim2.new(0,88,0,50)
Btn.Position = UDim2.new(0.07,0,0.4,0)
Btn.Text = "OFF"
Btn.TextSize = 24
Btn.BackgroundColor3 = Color3.fromRGB(255,230,230)

local function activate()
	if jumpConnection then return end
	jumpConnection = UserInputService.JumpRequest:Connect(function()
		if isJumpActive and localPlayer.Character then
			local hrp = localPlayer.Character:FindFirstChild("HumanoidRootPart")
			if hrp then
				hrp.Velocity = Vector3.new(hrp.Velocity.X, jumpPower, hrp.Velocity.Z)
			end
		end
	end)
end

local function deactivate()
	if jumpConnection then
		jumpConnection:Disconnect()
		jumpConnection = nil
	end
end

Btn.MouseButton1Click:Connect(function()
	isJumpActive = not isJumpActive
	if isJumpActive then
		Btn.Text = "ON"
		activate()
	else
		Btn.Text = "OFF"
		deactivate()
	end
end)
		]])()
	end
})

OtherScriptsTab:CreateButton({
	Name = "تحسين الاداء (ملحوظه:تراه يرفع البنق) v1",
	Callback = function()


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local VirtualUser = game:GetService("VirtualUser")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Lighting = game:GetService("Lighting")

local player = Players.LocalPlayer
local GhostPreserverEnabled = false
local LastHeartbeat = tick()
local LastVisualClean = tick()
local LastPacketSent = 0


pcall(function()
	settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
	RunService:SetThrottleFramerateEnabled(true)
	RunService:Set3dRenderingEnabled(true)
end)

task.spawn(function()
	while true do
		settings().Rendering.FramerateCap = 120
		task.wait(10)
	end
end)


local ScreenGui = Instance.new("ScreenGui", player.PlayerGui)
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 250, 0, 120)
Frame.Position = UDim2.new(0.5, -125, 0.1, 0)
Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Frame.BackgroundTransparency = 0.3
Frame.Active = true
Frame.Draggable = true
Frame.BorderSizePixel = 2

local Button = Instance.new("TextButton", Frame)
Button.Size = UDim2.new(1, 0, 0.5, 0)
Button.Position = UDim2.new(0, 0, 0, 0)
Button.Text = "تحسين الاداء: OFF"
Button.TextColor3 = Color3.new(1, 1, 1)
Button.BackgroundTransparency = 0.4

local Status = Instance.new("TextLabel", Frame)
Status.Size = UDim2.new(1, 0, 0.5, 0)
Status.Position = UDim2.new(0, 0, 0.5, 0)
Status.Text = "Status: Inactive"
Status.TextColor3 = Color3.new(1, 0, 0)
Status.BackgroundTransparency = 1
Status.Font = Enum.Font.SourceSansBold
Status.TextScaled = true


task.spawn(function()
	while true do
		for i = 0, 1, 0.01 do
			Status.TextColor3 = Color3.fromHSV(i, 1, 1)
			task.wait(0.1)
		end
	end
end)


local function disableVisuals()
	Lighting.GlobalShadows = false
	Lighting.FogEnd = 1000000
	Lighting.Brightness = 0
	for _, v in pairs(workspace:GetDescendants()) do
		if v:IsA("Decal") or v:IsA("Texture") then
			v:Destroy()
		elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
			v:Destroy()
		end
	end
end


local mt = getrawmetatable(game)
setreadonly(mt, false)
local oldNamecall = mt.__namecall

mt.__namecall = newcclosure(function(self, ...)
	local method = getnamecallmethod()
	if method == "FireServer" or method == "InvokeServer" then
		if tick() - LastPacketSent < 1.5 then
			return
		end
		LastPacketSent = tick()
	end
	return oldNamecall(self, ...)
end)


RunService.Heartbeat:Connect(function()
	if GhostPreserverEnabled then
		
		if tick() - LastHeartbeat >= 5 then
			local remote = ReplicatedStorage:FindFirstChildOfClass("RemoteEvent")
			if remote then
				remote:FireServer("Heartbeat")
			end
			player:SetAttribute("ActiveSim", math.random())
			LastHeartbeat = tick()
		end
		
		if tick() - LastVisualClean >= 20 then
			disableVisuals()
			LastVisualClean = tick()
		end
		
		if player.Character and not player.Character:FindFirstChildOfClass("Animator") then
			for _, anim in pairs(player.Character:GetDescendants()) do
				if anim:IsA("Animator") then
					anim:Destroy()
				end
			end
		end
	end
end)


Players.LocalPlayer.Idled:Connect(function()
	if GhostPreserverEnabled then
		VirtualUser:CaptureController()
		VirtualUser:ClickButton2(Vector2.new(0,0))
	end
end)


Button.MouseButton1Click:Connect(function()
	GhostPreserverEnabled = not GhostPreserverEnabled
	Button.Text = GhostPreserverEnabled and "تحسين الادا ON" or "تحسين الاداء OFF"
	Status.Text = GhostPreserverEnabled and "Status: Active  - من صنع فارس" or "Status: Inactive"
end)
end})


OtherScriptsTab:CreateButton({
	Name = "سكربت يعرفك متى الشيء النادر يترسبن V2",
	Callback = function()
	
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

local originalTextLabel = nil


local function findByNewPath()
    local anchor = workspace:FindFirstChild("FrenzyCountdownAnchor")
    if anchor and anchor:FindFirstChild("FrenzyCountdown") then
        local frenzy = anchor.FrenzyCountdown
        if frenzy:FindFirstChild("Label") and frenzy.Label:IsA("TextLabel") then
            return frenzy.Label
        end
    end
    return nil
end



local function findInWorkspace()
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("TextLabel") then
            local text = obj.Text
            if text and text:match("%d%d:%d%d") then
                return obj
            end
        end
    end
    return nil
end

originalTextLabel = findByNewPath()

if not originalTextLabel then
    warn("New path not found, searching in workspace...")
    originalTextLabel = findInWorkspace()
end

if not originalTextLabel then
    warn("Timer TextLabel not found in workspace")
    return
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "RespawnTextTranslator"
screenGui.ResetOnSpawn = false
screenGui.Parent = PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.8, 0, 0.15, 0)
frame.Position = UDim2.new(0.5, 0, 0.2, 0)
frame.AnchorPoint = Vector2.new(0.5, 0)
frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
frame.BackgroundTransparency = 0.1
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

local aspectRatio = Instance.new("UIAspectRatioConstraint")
aspectRatio.AspectRatio = 3.5
aspectRatio.DominantAxis = Enum.DominantAxis.Width
aspectRatio.Parent = frame

local sizeConstraint = Instance.new("UISizeConstraint")
sizeConstraint.MaxSize = Vector2.new(450, math.huge)
sizeConstraint.Parent = frame

local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(1, -10, 0.5, -5)
textLabel.Position = UDim2.new(0, 5, 0, 5)
textLabel.BackgroundTransparency = 1
textLabel.TextWrapped = true
textLabel.TextScaled = true
textLabel.Font = Enum.Font.GothamBold
textLabel.TextColor3 = Color3.fromRGB(255, 105, 180)
textLabel.Parent = frame

local translationLabel = Instance.new("TextLabel")
translationLabel.Size = UDim2.new(1, -10, 0.5, -5)
translationLabel.Position = UDim2.new(0, 5, 0.5, 0)
translationLabel.BackgroundTransparency = 1
translationLabel.TextWrapped = true
translationLabel.TextScaled = true
translationLabel.Font = Enum.Font.GothamBold
translationLabel.TextColor3 = Color3.fromRGB(0, 255, 255)
translationLabel.Parent = frame

local function translateTimer(text)
    local time = text:match("(%d%d:%d%d)")
    if time then
        return "الحاجه النادرة فشخ هتترسبن بعد " .. time
    else
        return ""
    end
end

local function updateText()
    local original = originalTextLabel.Text
    textLabel.Text = original
    translationLabel.Text = translateTimer(original)
end

originalTextLabel:GetPropertyChangedSignal("Text"):Connect(updateText)
updateText()

	end
})

OtherScriptsTab:CreateButton({
    Name = "Anti-AFKv2 By Fares (لازم PC) ",
    Callback = function()
       

local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")


local old = playerGui:FindFirstChild("AntiAFK_Fares_SEREX_v8")
if old then old:Destroy() end



local environment = {
	isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled,
	isPC = UserInputService.KeyboardEnabled,
	hasVirtualUser = pcall(function() VirtualUser:CaptureController() end),
	hasCamera = workspace.CurrentCamera ~= nil
}

local settings = {
	enabled = false,
	baseInterval = 60,
	jitter = 0.4,
	isWindowFocused = true,
	unfocusedMultiplier = 0.7
}

local ui = {}
local connections = {}



local function randRange(a,b)
	return a + math.random() * (b - a)
end

local function nextWait()
	local base = settings.baseInterval
	local jitter = base * settings.jitter
	local w = base + randRange(-jitter, jitter)
	if not settings.isWindowFocused then
		w *= settings.unfocusedMultiplier
	end
	return math.max(8, w)
end

local function makeDraggable(frame)
	local dragging, startPos, startInput

	frame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1
		or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			startPos = frame.Position
			startInput = input.Position
		end
	end)

	frame.InputChanged:Connect(function(input)
		if dragging
		and (input.UserInputType == Enum.UserInputType.MouseMovement
		or input.UserInputType == Enum.UserInputType.Touch) then
			local delta = input.Position - startInput
			frame.Position = UDim2.new(
				startPos.X.Scale,
				startPos.X.Offset + delta.X,
				startPos.Y.Scale,
				startPos.Y.Offset + delta.Y
			)
		end
	end)

	UserInputService.InputEnded:Connect(function()
		dragging = false
	end)
end



local function updateUI()
	if not ui.main then return end

	local statusText, statusColor, btnText, btnColor

	if settings.enabled then
		statusText = settings.isWindowFocused and "SYSTEM ONLINE" or "UNFOCUSED"
		statusColor = settings.isWindowFocused and Color3.fromRGB(0,255,255) or Color3.fromRGB(255,165,0)
		btnText = "DISABLE"
		btnColor = Color3.fromRGB(0,150,150)
	else
		statusText = "SYSTEM OFFLINE"
		statusColor = Color3.fromRGB(180,40,40)
		btnText = "ENABLE"
		btnColor = Color3.fromRGB(40,42,48)
	end

	
	ui.status.Text = statusText
	ui.button.Text = btnText

	
	TweenService:Create(ui.status, TweenInfo.new(0.25), {
		TextColor3 = statusColor
	}):Play()

	TweenService:Create(ui.button, TweenInfo.new(0.25), {
		BackgroundColor3 = btnColor
	}):Play()

	TweenService:Create(ui.pulse, TweenInfo.new(0.4), {
		BackgroundTransparency = settings.enabled and 0.5 or 1
	}):Play()
end

local function setEnabled(v)
	settings.enabled = v
	updateUI()
end



local function characterMove()
	local hum = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
	if hum then
		hum:Move(Vector3.new(math.random(-1,1),0,math.random(-1,1)), false)
		task.wait(0.1)
		hum:Move(Vector3.zero, false)
	end
end

local function cameraNudge()
	local cam = workspace.CurrentCamera
	if not cam then return end
	local cf = cam.CFrame
	cam.CFrame = cf * CFrame.Angles(0, math.rad(math.random(-2,2)), 0)
	task.wait(0.1)
	cam.CFrame = cf
end

local function virtualClick()
	if not environment.hasVirtualUser then return end
	VirtualUser:CaptureController()
	VirtualUser:ClickButton2(Vector2.new())
end

local function performAction()
	if not settings.enabled then return end
	local pool = {characterMove}
	if environment.hasCamera then table.insert(pool, cameraNudge) end
	if environment.hasVirtualUser then table.insert(pool, virtualClick) end
	pool[math.random(#pool)]()
end



local gui = Instance.new("ScreenGui", playerGui)
gui.Name = "AntiAFK_Fares_SEREX_v8"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0,260,0,45)
main.Position = UDim2.new(0.5,0,0,20)
main.AnchorPoint = Vector2.new(0.5,0)
main.BackgroundColor3 = Color3.fromRGB(22,24,28)
main.Active = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0,8)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(0,150,0,20)
title.Position = UDim2.new(0,15,0,4)
title.BackgroundTransparency = 1
title.Text = "ANTIAFK FOR PC by Fares"
title.Font = Enum.Font.Gotham
title.TextSize = 14
title.TextColor3 = Color3.fromRGB(200,200,200)
title.TextXAlignment = Enum.TextXAlignment.Left

local status = Instance.new("TextLabel", main)
status.Size = UDim2.new(0,150,0,15)
status.Position = UDim2.new(0,15,0,24)
status.BackgroundTransparency = 1
status.Text = "SYSTEM OFFLINE"
status.Font = Enum.Font.GothamBold
status.TextSize = 11
status.TextColor3 = Color3.fromRGB(180,40,40)
status.TextXAlignment = Enum.TextXAlignment.Left

local button = Instance.new("TextButton", main)
button.Size = UDim2.new(0,70,0,28)
button.Position = UDim2.new(1,-80,0.5,-14)
button.BackgroundColor3 = Color3.fromRGB(40,42,48)
button.Text = "ENABLE"
button.Font = Enum.Font.GothamBold
button.TextSize = 12
button.TextColor3 = Color3.fromRGB(220,220,220)
Instance.new("UICorner", button).CornerRadius = UDim.new(0,5)

local pulse = Instance.new("Frame", main)
pulse.Size = UDim2.new(1,0,0,1)
pulse.Position = UDim2.new(0,0,1,0)
pulse.BackgroundColor3 = Color3.fromRGB(0,255,255)
pulse.BackgroundTransparency = 1

makeDraggable(main)

ui = {gui=gui, main=main, status=status, button=button, pulse=pulse}
updateUI()



button.MouseButton1Click:Connect(function()
	setEnabled(not settings.enabled)
end)

player.Idled:Connect(function()
	if settings.enabled then
		task.spawn(performAction)
	end
end)

task.spawn(function()
	while gui.Parent do
		if settings.enabled then
			performAction()
			task.wait(nextWait())
		else
			task.wait(1)
		end
	end
end) 
    end
})

OtherScriptsTab:CreateSection("© Copyright by FARES")


local boxTab = Window:CreateTab("اضافات التحديث الجديد! V5", 4483362458)


boxTab:CreateButton({
Name =  "  تجميع برج Tower trial تلقائي ",
Callback = function()


local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

local running = false



local startPos = Vector3.new(4326.83, 6.17, -3.41)
local undergroundOffset = Vector3.new(0, -10, 0)
local aboveOffset = Vector3.new(0, 3, 0)
local speed = 1000

local rarities = {
    "Legendary", "Mythical", "Common", "Uncommon",
    "Epic", "Rare", "Cosmic", "Secret", "Celestial"
}


local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "FARES_IMMORTAL_GUI"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.fromScale(0.25,0.18)
frame.Position = UDim2.fromScale(0.37,0.4)
frame.BackgroundColor3 = Color3.fromRGB(10,10,10)
frame.Active = true
frame.Draggable = true
local stroke = Instance.new("UIStroke", frame)
stroke.Color = Color3.fromRGB(255, 255, 0)
stroke.Thickness = 2

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.fromScale(1,0.3)
title.BackgroundTransparency = 1
title.Text = "TRIAL TOWER BY FARES"
title.TextScaled = true
title.TextColor3 = Color3.fromRGB(255, 255, 0)

local button = Instance.new("TextButton", frame)
button.Size = UDim2.fromScale(0.8,0.4)
button.Position = UDim2.fromScale(0.1,0.45)
button.Text = "START"
button.TextScaled = true
button.BackgroundColor3 = Color3.fromRGB(0,200,0)


local function getHRP()
    local char = player.Character
    if char then
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if hrp then
            return hrp
        end
    end
    return nil
end

local function tweenTo(pos)
    local hrp = getHRP()
    if not hrp or not running then return false end 
    
    local distance = (hrp.Position - pos).Magnitude
    local time = distance / speed
    local tween = TweenService:Create(
        hrp,
        TweenInfo.new(time, Enum.EasingStyle.Linear, Enum.EasingDirection.Out),
        {CFrame = CFrame.new(pos)}
    )
    tween:Play()
    tween.Completed:Wait()
    return true
end

local function firePrompt(prompt)
    if prompt and prompt:IsA("ProximityPrompt") then
        fireproximityprompt(prompt)
    end
end

local function getTrialBar()
    local trialHUD = player.PlayerGui:FindFirstChild("TowerTrialHUD", true)
    return trialHUD and trialHUD:FindFirstChild("TrialBar")
end

local function isTrialActive()
    local trialBar = getTrialBar()
    return trialBar and trialBar.Visible
end

local function getRarity()
    local trialBar = getTrialBar()
    if not trialBar then return nil end

    local requirementLabel = trialBar:FindFirstChild("Requirement")
    if requirementLabel and requirementLabel:IsA("TextLabel") and requirementLabel.Visible then
        for _, r in ipairs(rarities) do
            if string.find(requirementLabel.Text, r) then
                return r
            end
        end
    end
    return nil
end

local function getProgress()
    local trialBar = getTrialBar()
    if not trialBar then return 0, 10 end

    local depositsLabel = trialBar:FindFirstChild("Deposits")
    if depositsLabel and depositsLabel:IsA("TextLabel") and depositsLabel.Visible then
        local current, total = string.match(depositsLabel.Text, "(%d+)/(%d+)")
        if current and total then
            return tonumber(current), tonumber(total)
        end
    end
    return 0, 10
end

local function getBrainrot(folder)
    local timeout = 0
    while timeout < 5 and running do
        for _, v in pairs(folder:GetChildren()) do
            if v.Name == "RenderedBrainrot" then
                local prompt = v:FindFirstChildWhichIsA("ProximityPrompt", true)
                if prompt then
                    return v
                end
            end
        end
        task.wait(0.5)
        timeout = timeout + 0.5
    end
    return nil
end

local function goToTowerAndFire()
    local hrp = getHRP()
    if not hrp then return false end 
    
    if not tweenTo(hrp.Position + undergroundOffset) then return false end
    if not tweenTo(startPos + undergroundOffset) then return false end
    if not tweenTo(startPos + aboveOffset) then return false end
 local prompt = workspace.GameObjects.PlaceSpecific.root.Tower.Main.Prompt.ProximityPrompt
if prompt then
    for i = 1, 3 do
        firePrompt(prompt)
        task.wait(0.3) 
    end
end
    return true
end



task.spawn(function()
    while true do
        if running then
            local hrp = getHRP()
            if not hrp then
                title.Text = "اهدا كدة شكلك ميت"
                player.CharacterAdded:Wait()
                task.wait(0.1) 
                title.Text = "TRIAL TOWER BY FARES"
                continue 
            end

            if not isTrialActive() then
                if not goToTowerAndFire() then continue end
                task.wait(2)
            end
            
            if isTrialActive() then
                local current, total = getProgress()
                if current >= total then
                    title.Text = "في البوابه مستنين يبدا..."
                    task.wait(2)
                    title.Text = "TRIAL TOWER by fares"
                    if not goToTowerAndFire() then continue end
                    task.wait(5)
                    continue
                end

                local rarity = getRarity()
                if rarity then
                    local folder = workspace.ActiveBrainrots:FindFirstChild(rarity)
                    if folder then
                        local brainrot = getBrainrot(folder)
                        if brainrot and brainrot.Parent and brainrot.PrimaryPart then
 

    
    if not tweenTo(hrp.Position + undergroundOffset) then continue end
    if not (brainrot and brainrot.Parent and brainrot.PrimaryPart) then continue end
    if not tweenTo(brainrot.PrimaryPart.Position + undergroundOffset) then continue end
    if not (brainrot and brainrot.Parent and brainrot.PrimaryPart) then continue end
    if not tweenTo(brainrot.PrimaryPart.Position + aboveOffset) then continue end

    for i = 1, 3 do
        if not running then break end
        if not (brainrot and brainrot.Parent and brainrot.PrimaryPart) then break end
        local prompt = brainrot:FindFirstChildWhichIsA("ProximityPrompt", true)
        if prompt then
            firePrompt(prompt)
            task.wait(0.1)
        else
            break
        end
    end
                        else
                            task.wait(0.2)
                        end
                    end
                else
                    task.wait(0.3)
                end

                if running then
                    if not goToTowerAndFire() then continue end
                    task.wait(5)
                end
            end
        else
            task.wait(1)
        end
    end
end)


button.MouseButton1Click:Connect(function()
    running = not running
    if running then
        button.Text = "STOP"
        button.BackgroundColor3 = Color3.fromRGB(200,0,0)
    else
        button.Text = "START"
        button.BackgroundColor3 = Color3.fromRGB(0,200,0)
    end
end)
end})

boxTab:CreateParagraph({
        Title = "  ملاحظه مهمة بخصوص Trial Tower",
        Content = "لو شخصيتك ماتت بسبب التسونامي (نادرا)  اول مره بيخلي التسونامي يقتلك ثاني مره بيظبط و ما بيقتلك، و لازم نت قوي جدا  و السكربت تجريبي تحت التطوير"
    })


boxTab:CreateButton({
Name =  "  مضاد الضرب ",
Callback = function()



local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")

local player = Players.LocalPlayer
local camera = workspace.CurrentCamera


local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Fares_Ultimate_UI"
ScreenGui.Parent = CoreGui
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true


local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 310, 0, 175)
MainFrame.Position = UDim2.new(0.5, -155, 0.5, -87)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 12)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Active = true
MainFrame.Parent = ScreenGui

local MainCorner = Instance.new("UICorner", MainFrame)
MainCorner.CornerRadius = UDim.new(0, 14)

local MainStroke = Instance.new("UIStroke", MainFrame)
MainStroke.Color = Color3.fromRGB(255, 0, 0)
MainStroke.Thickness = 1.8
MainStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border


local Header = Instance.new("Frame")
Header.Name = "Header"
Header.Size = UDim2.new(1, 0, 0, 48)
Header.BackgroundColor3 = Color3.fromRGB(18, 18, 22)
Header.BorderSizePixel = 0
Header.Parent = MainFrame

local HeaderCorner = Instance.new("UICorner", Header)
HeaderCorner.CornerRadius = UDim.new(0, 14)

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -80, 1, 0)
Title.Position = UDim2.new(0, 18, 0, 0)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.Text = "مضاد الضربXD"
Title.TextColor3 = Color3.fromRGB(240, 240, 245)
Title.TextSize = 15
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header


local FaresTag = Instance.new("TextLabel")
FaresTag.Size = UDim2.new(0, 85, 0, 24)
FaresTag.Position = UDim2.new(1, -135, 0.5, -12)
FaresTag.BackgroundColor3 = Color3.fromRGB(60, 110, 255)
FaresTag.Font = Enum.Font.GothamBold
FaresTag.Text = "BY FARES"
FaresTag.TextColor3 = Color3.fromRGB(255, 255, 255)
FaresTag.TextSize = 12
FaresTag.Parent = Header

local TagCorner = Instance.new("UICorner", FaresTag)
TagCorner.CornerRadius = UDim.new(0, 6)

local TagStroke = Instance.new("UIStroke", FaresTag)
TagStroke.Color = Color3.fromRGB(255, 255, 255)
TagStroke.Transparency = 0.7
TagStroke.Thickness = 1


local Content = Instance.new("Frame")
Content.Name = "Content"
Content.Size = UDim2.new(1, 0, 1, -48)
Content.Position = UDim2.new(0, 0, 0, 48)
Content.BackgroundTransparency = 1
Content.Parent = MainFrame

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(1, 0, 0, 25)
StatusLabel.Position = UDim2.new(0, 0, 0, 12)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.GothamMedium
StatusLabel.Text = "STATUS: WAITING"
StatusLabel.TextColor3 = Color3.fromRGB(140, 140, 145)
StatusLabel.TextSize = 11
StatusLabel.Parent = Content


local ToggleBtn = Instance.new("TextButton")
ToggleBtn.Name = "ToggleBtn"
ToggleBtn.Size = UDim2.new(0, 250, 0, 52)
ToggleBtn.Position = UDim2.new(0.5, -125, 0, 48)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
ToggleBtn.AutoButtonColor = true
ToggleBtn.Font = Enum.Font.GothamBold
ToggleBtn.Text = "ENABLE "
ToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleBtn.TextSize = 13
ToggleBtn.Parent = Content

local BtnCorner = Instance.new("UICorner", ToggleBtn)
BtnCorner.CornerRadius = UDim.new(0, 10)

local BtnStroke = Instance.new("UIStroke", ToggleBtn)
BtnStroke.Color = Color3.fromRGB(60, 110, 255)
BtnStroke.Thickness = 1.5


local Footer = Instance.new("TextLabel")
Footer.Size = UDim2.new(1, 0, 0, 20)
Footer.Position = UDim2.new(0, 0, 1, -18)
Footer.BackgroundTransparency = 1
Footer.Font = Enum.Font.GothamMedium
Footer.Text = "By Fares#"
Footer.TextColor3 = Color3.fromRGB(80, 80, 85)
Footer.TextSize = 15
Footer.Parent = Content




local isGodmode = false
local ghostClone, connection, noclipConn, deathConn = nil, nil, nil, nil
local lastPromptUpdate = 0


local function updateUI(enabled)
    if enabled then
        TweenService:Create(ToggleBtn, TweenInfo.new(0.4), {BackgroundColor3 = Color3.fromRGB(60, 110, 255)}):Play()
        ToggleBtn.Text = "DISABLE "
        StatusLabel.Text = "STATUS: WORKING"
        StatusLabel.TextColor3 = Color3.fromRGB(80, 255, 150)
    else
        TweenService:Create(ToggleBtn, TweenInfo.new(0.4), {BackgroundColor3 = Color3.fromRGB(25, 25, 30)}):Play()
        ToggleBtn.Text = "ENABLE "
        StatusLabel.Text = "STATUS: WAITING"
        StatusLabel.TextColor3 = Color3.fromRGB(140, 140, 145)
    end
end

local function cleanup()
    isGodmode = false
    updateUI(false) 
    
    if connection then connection:Disconnect() connection = nil end
    if noclipConn then noclipConn:Disconnect() noclipConn = nil end
    if deathConn then deathConn:Disconnect() deathConn = nil end
    
    local char = player.Character
    if char then
        local root = char:FindFirstChild("HumanoidRootPart")
        if root and ghostClone then root.CFrame = ghostClone.HumanoidRootPart.CFrame end
        if char:FindFirstChild("Humanoid") then 
            char.Humanoid.PlatformStand = false 
            camera.CameraSubject = char.Humanoid 
        end
    end
    if ghostClone then ghostClone:Destroy() ghostClone = nil end
end

local function enableGodmode()
    local char = player.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") or not char:FindFirstChild("Humanoid") then return end
    
    cleanup() 
    isGodmode = true
    updateUI(true)
    
    char.Archivable = true
    ghostClone = char:Clone()
    ghostClone.Name = "Fares_Protection"
    ghostClone.Parent = workspace
    char.Archivable = false
    
    for _, v in pairs(ghostClone:GetDescendants()) do
        if v:IsA("BasePart") then
            v.Transparency = (v.Name:lower():find("root") or v.Name:lower():find("collision")) and 0.5 or 0
            v.CanCollide = true
        elseif v:IsA("Decal") or v:IsA("Texture") then
            v.Transparency = 0
        end
    end

    if char:FindFirstChild("Animate") then char.Animate:Clone().Parent = ghostClone end
    char.Humanoid.PlatformStand = true
    camera.CameraSubject = ghostClone.Humanoid
    
local function syncAnimations()
    if not char:FindFirstChildOfClass("Humanoid") or not ghostClone:FindFirstChildOfClass("Humanoid") then return end

    local realHumanoid = char:FindFirstChildOfClass("Humanoid")
    local cloneHumanoid = ghostClone:FindFirstChildOfClass("Humanoid")

    local realAnimator = realHumanoid:FindFirstChildOfClass("Animator")
    local cloneAnimator = cloneHumanoid:FindFirstChildOfClass("Animator") or Instance.new("Animator", cloneHumanoid)

    for _, track in pairs(realAnimator:GetPlayingAnimationTracks()) do
        local newTrack = cloneAnimator:LoadAnimation(track.Animation)
        newTrack:Play()
        newTrack.TimePosition = track.TimePosition
    end
end

syncAnimations()

    deathConn = char.Humanoid.Died:Connect(function()
        cleanup() -- Automatically turns off the button and cleans up
    end)
    
    noclipConn = RunService.Stepped:Connect(function()
        if char then
            for _, v in pairs(char:GetDescendants()) do
                if v:IsA("BasePart") then v.CanCollide = false end
            end
        end
    end)

    connection = RunService.Heartbeat:Connect(function()
        if ghostClone and char and char:FindFirstChild("HumanoidRootPart") then
            local moveDir = char.Humanoid.MoveDirection
            ghostClone.Humanoid:Move(moveDir, false)
            ghostClone.Humanoid.Jump = char.Humanoid.Jump
            if moveDir.Magnitude > 0 then
                local targetRot = CFrame.lookAt(ghostClone.HumanoidRootPart.Position, ghostClone.HumanoidRootPart.Position + moveDir)
                ghostClone.HumanoidRootPart.CFrame = ghostClone.HumanoidRootPart.CFrame:Lerp(targetRot, 0.25)
            end
            if tick() - lastPromptUpdate > 0.5 then
                for _, p in pairs(workspace:GetDescendants()) do
                    if p:IsA("ProximityPrompt") then
                        p.MaxActivationDistance = 25
                        p.RequiresLineOfSight = false
                    end
                end
                lastPromptUpdate = tick()
            end
            char.HumanoidRootPart.CFrame = ghostClone.HumanoidRootPart.CFrame * CFrame.new(0, 0, 0)
            char.HumanoidRootPart.Velocity = Vector3.zero
        else 
            cleanup() 
        end
    end)
end


local dragging, dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

Header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)

Header.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then update(input) end
end)


ToggleBtn.Activated:Connect(function()
    if not isGodmode then
        enableGodmode()
    else
        cleanup()
    end
end)

CloseBtn.Activated:Connect(function()
    cleanup()
    local fadeOut = TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quart, Enum.EasingDirection.In), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = MainFrame.Position + UDim2.new(0, 155, 0, 87),
        BackgroundTransparency = 1
    })
    fadeOut:Play()
    fadeOut.Completed:Wait()
    ScreenGui:Destroy()
end)


MainFrame.Size = UDim2.new(0, 0, 0, 0)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
TweenService:Create(MainFrame, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
    Size = UDim2.new(0, 310, 0, 175),
    Position = UDim2.new(0.5, -155, 0.5, -87)
}):Play()
end})

boxTab:CreateButton({
Name =  "  ESP Divine/كشف اماكن الديفاين ",
Callback = function()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local divineEnabled = false
local secretEnabled = false


local screenGui = Instance.new("ScreenGui")
screenGui.Name = "SeerRemix_Gui"
screenGui.ResetOnSpawn = false
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 220, 0, 120)
mainFrame.Position = UDim2.new(0.5, -110, 0.8, -60)
mainFrame.BackgroundColor3 = Color3.fromRGB(20,20,20)
mainFrame.BackgroundTransparency = 0.2
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0,12)

local titleLabel = Instance.new("TextLabel", mainFrame)
titleLabel.Size = UDim2.new(1,0,0,30)
titleLabel.BackgroundTransparency = 1
titleLabel.Font = Enum.Font.GothamBold
titleLabel.Text = "ESP Divine | من صنع فارس"
titleLabel.TextColor3 = Color3.fromRGB(255,255,255)
titleLabel.TextSize = 8


local divineButton = Instance.new("TextButton", mainFrame)
divineButton.Size = UDim2.new(1,-20,0,30)
divineButton.Position = UDim2.new(0,10,0,35)
divineButton.BackgroundColor3 = Color3.fromRGB(35,35,35)
divineButton.BorderSizePixel = 0
divineButton.Font = Enum.Font.GothamBold
divineButton.Text = "Divine: OFF"
divineButton.TextColor3 = Color3.fromRGB(200,40,40)
divineButton.TextSize = 16
Instance.new("UICorner", divineButton).CornerRadius = UDim.new(0,8)


local secretButton = Instance.new("TextButton", mainFrame)
secretButton.Size = UDim2.new(1,-20,0,30)
secretButton.Position = UDim2.new(0,10,0,70)
secretButton.BackgroundColor3 = Color3.fromRGB(35,35,35)
secretButton.BorderSizePixel = 0
secretButton.Font = Enum.Font.GothamBold
secretButton.Text = "لا تشغلة"
secretButton.TextColor3 = Color3.fromRGB(200,40,40)
secretButton.TextSize = 16
Instance.new("UICorner", secretButton).CornerRadius = UDim.new(0,8)


local espObjects = {}
local connections = {}

local function clearESP(tag)
    if espObjects[tag] then
        for _,obj in pairs(espObjects[tag]) do
            pcall(function()
                obj.line:Remove()
                obj.text:Remove()
            end)
        end
        espObjects[tag] = nil
    end
end

local function getTargetPart(model)
    return model:FindFirstChild("HumanoidRootPart")
        or model:FindFirstChildWhichIsA("BasePart")
end

local function createESP(target, labelText, color, tag)
    espObjects[tag] = espObjects[tag] or {}

    local line = Drawing.new("Line")
    local text = Drawing.new("Text")

    text.Center = true
    text.Outline = true
    text.Font = Drawing.Fonts.UI

    table.insert(espObjects[tag], {line=line, text=text, target=target})

    connections[tag] = connections[tag] or RunService.Heartbeat:Connect(function()
        if not espObjects[tag] then return end

        for i,v in ipairs(espObjects[tag]) do
            local model = v.target
            if not model or not model.Parent then
                v.line.Visible = false
                v.text.Visible = false
                continue
            end

            local part = getTargetPart(model)
            local char = LocalPlayer.Character
            local hrp = char and char:FindFirstChild("HumanoidRootPart")
            if not part or not hrp then continue end

            local worldPos = part.Position
            local screenPos, onScreen = Camera:WorldToViewportPoint(worldPos)
            if not onScreen then
                v.line.Visible = false
                v.text.Visible = false
                continue
            end

            local dist = (hrp.Position - worldPos).Magnitude
            v.text.Size = math.clamp(30 - (dist/50), 12, 30)

            v.line.From = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y)
            v.line.To = Vector2.new(screenPos.X, screenPos.Y)
            v.line.Color = color
            v.line.Thickness = 2
            v.line.Visible = true

            v.text.Position = Vector2.new(screenPos.X, screenPos.Y - 20)
            v.text.Text = string.format("%s\n[%.1fm]", labelText, dist)
            v.text.Color = color
            v.text.Visible = true
        end
    end)
end

local function watchFolder(folderName, labelText, color, tag)
    local brainrots = workspace:WaitForChild("ActiveBrainrots",10)
    if not brainrots then return end

    local folder = brainrots:WaitForChild(folderName,10)
    if not folder then return end

    for _,child in ipairs(folder:GetChildren()) do
        createESP(child, labelText, color, tag)
    end

    folder.ChildAdded:Connect(function(child)
        createESP(child, labelText, color, tag)
    end)
end


divineButton.MouseButton1Click:Connect(function()
    divineEnabled = not divineEnabled

    if divineEnabled then
        divineButton.Text = "Divine: ON"
        divineButton.TextColor3 = Color3.fromRGB(0,255,127)
        watchFolder("Divine", "Divine", Color3.fromRGB(255,223,0), "Divine")
    else
        divineButton.Text = "Divine: OFF"
        divineButton.TextColor3 = Color3.fromRGB(200,40,40)
        clearESP("Divine")
    end
end)


secretButton.MouseButton1Click:Connect(function()
    secretEnabled = not secretEnabled

    if secretEnabled then
        secretButton.Text = "لا تشغلة"
        secretButton.TextColor3 = Color3.fromRGB(0,255,127)
        watchFolder("Secret", "Secret", Color3.fromRGB(255,0,255), "Secret")
    else
        secretButton.Text = "لا تشغلة"
        secretButton.TextColor3 = Color3.fromRGB(200,40,40)
        clearESP("Secret")
    end
end)
end})

boxTab:CreateButton({
Name =  "  REMOVE WALLS/حذف الجدار ",
Callback = function()

--كسمك

local player = game.Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")


local colors = {
    background = Color3.fromHex("1B1B1B"),
    button = Color3.fromHex("2C2C2C"),
    stroke = Color3.fromHex("4A4A4A"),
    text = Color3.fromHex("FFFFFF"),
    accent = Color3.fromHex("00A2FF"),
    on = Color3.fromHex("00FF7F"),
    off = Color3.fromHex("C82828")
}


local playerGui = player:FindFirstChild("PlayerGui") or player:WaitForChild("PlayerGui")
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ProGUI_Renaissance"
ScreenGui.Enabled = true
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = playerGui


local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 260, 0, 240)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.BackgroundColor3 = colors.background
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 12)
local mainStroke = Instance.new("UIStroke", MainFrame)
mainStroke.Color = colors.stroke
mainStroke.Thickness = 1.5


local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "ＢＹ ＦＡＲＥＳ V1"
Title.TextColor3 = colors.accent
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 20
Title.Parent = MainFrame


local Divider = Instance.new("Frame", MainFrame)
Divider.Size = UDim2.new(1, -20, 0, 1)
Divider.Position = UDim2.new(0, 10, 0, 40)
Divider.BackgroundColor3 = colors.stroke
Divider.BorderSizePixel = 0


local function createButton(yPos, text)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, -20, 0, 40)
    button.Position = UDim2.new(0.5, 0, 0, yPos)
    button.AnchorPoint = Vector2.new(0.5, 0)
    button.BackgroundColor3 = colors.button
    button.BorderSizePixel = 0
    button.Font = Enum.Font.SourceSansBold
    button.Text = text
    button.TextColor3 = colors.text
    button.TextSize = 16
    button.Parent = MainFrame
    Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)
    local buttonStroke = Instance.new("UIStroke", button)
    buttonStroke.Color = colors.stroke
    buttonStroke.Thickness = 1
    return button
end


local FreeVIPButton = createButton(55, "FREE VIP")
local HideShowButton = createButton(105, "Hide Walls")
local InfiniteJumpButton = createButton(155, "Infinite Jump: OFF")
InfiniteJumpButton.TextColor3 = colors.off


FreeVIPButton.MouseButton1Click:Connect(function()
    local function deleteVIPWalls(parent)
        for _, child in pairs(parent:GetChildren()) do
            if child.Name == "VIPWalls" then child:Destroy() else deleteVIPWalls(child) end
        end
    end
    local vipWalls = workspace:FindFirstChild("DefaultMap_SharedInstances")
    if vipWalls and vipWalls:FindFirstChild("VIPWalls") then vipWalls.VIPWalls:Destroy() else deleteVIPWalls(workspace) end
    FreeVIPButton.Text = "VIP ACTIVATED"
    task.wait(1)
    FreeVIPButton.Text = "FREE VIP"
end)


local savedWalls = {}
local floorParts = {}
local isHidden = false
local rgbThread = nil

HideShowButton.MouseButton1Click:Connect(function()
    isHidden = not isHidden
    if isHidden then
        HideShowButton.Text = "Show Walls"
        HideShowButton.TextColor3 = colors.on

        savedWalls = {}
        local function saveAndDestroy(parent, names)
            for i = #parent:GetChildren(), 1, -1 do
                local child = parent:GetChildren()[i]
                if table.find(names, child.Name) then
                    child.Parent = nil
                    table.insert(savedWalls, child)
                else
                    saveAndDestroy(child, names)
                end
            end
        end
        saveAndDestroy(workspace, {"RightWalls", "Walls"})

        
        local tileSize, tilesCount = 1000, 10
        floorParts = {}
        for x = 0, tilesCount - 1 do
            for z = 0, tilesCount - 1 do
                local floor = Instance.new("Part")
                floor.Size = Vector3.new(tileSize, 1, tileSize)
                floor.Position = Vector3.new((x - tilesCount / 2) * tileSize, -1, (z - tilesCount / 2) * tileSize)
                floor.Anchored = true
                floor.TopSurface = Enum.SurfaceType.Smooth
                floor.Parent = workspace
                table.insert(floorParts, floor)
            end
        end

        rgbThread = RunService.RenderStepped:Connect(function(dt)
            if not isHidden then rgbThread:Disconnect() return end
            local t = tick() % 1
            local color = Color3.fromHSV(t, 1, 1)
            for _, floor in pairs(floorParts) do floor.Color = color end
        end)

    else
        HideShowButton.Text = "Hide Walls"
        HideShowButton.TextColor3 = colors.text

        if rgbThread then rgbThread:Disconnect(); rgbThread = nil end

        for _, wall in pairs(savedWalls) do wall.Parent = workspace end
        savedWalls = {}

        for _, floor in pairs(floorParts) do floor:Destroy() end
        floorParts = {}
    end
end)


local infJumpActive = false
local infJumpConn = nil

InfiniteJumpButton.MouseButton1Click:Connect(function()
    infJumpActive = not infJumpActive
    if infJumpActive then
        InfiniteJumpButton.Text = "Infinite Jump: ON"
        InfiniteJumpButton.TextColor3 = colors.on
        if not infJumpConn then
            infJumpConn = UserInputService.JumpRequest:Connect(function()
                if infJumpActive and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
                    player.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
                end
            end)
        end
    else
        InfiniteJumpButton.Text = "Infinite Jump: OFF"
        InfiniteJumpButton.TextColor3 = colors.off
        if infJumpConn then
            infJumpConn:Disconnect()
            infJumpConn = nil
        end
    end
end)
end})

boxTab:CreateButton({
Name =  "  AutoSteal/AutoGrab-byFares ",
Callback = function()
-- سرقه تلقائي بس هيفشخ الجهاز

local player = game.Players.LocalPlayer
local running = false
local TweenService = game:GetService("TweenService")

local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "AutoStealDeepPurple"


local notif = Instance.new("TextLabel", gui)
notif.Size = UDim2.fromScale(0.7,0.07)
notif.Position = UDim2.fromScale(0.15,0.05)
notif.BackgroundColor3 = Color3.fromRGB(40,20,60)
notif.BackgroundTransparency = 0.15
notif.Text = "ملحوظة: ممكن يسبب لاج"
notif.TextColor3 = Color3.fromRGB(230,200,255)
notif.TextScaled = true
notif.Font = Enum.Font.GothamBold
notif.BorderSizePixel = 0

local notifCorner = Instance.new("UICorner", notif)
notifCorner.CornerRadius = UDim.new(1,0)

local notifStroke = Instance.new("UIStroke", notif)
notifStroke.Color = Color3.fromRGB(180,100,255)
notifStroke.Thickness = 1.5

task.delay(2.5,function()
	notif:Destroy()
end)


local btn = Instance.new("TextButton", gui)
btn.Size = UDim2.fromScale(0.14,0.08)
btn.Position = UDim2.fromScale(0.43,0.8)
btn.Text = "OFF"
btn.TextColor3 = Color3.fromRGB(255,255,255)
btn.TextScaled = true
btn.Font = Enum.Font.GothamBold
btn.BackgroundColor3 = Color3.fromRGB(90,40,130)
btn.BorderSizePixel = 0
btn.Active = true
btn.Draggable = true

local corner = Instance.new("UICorner", btn)
corner.CornerRadius = UDim.new(1,0)

local stroke = Instance.new("UIStroke", btn)
stroke.Color = Color3.fromRGB(200,120,255)
stroke.Thickness = 2
stroke.Transparency = 0.2


local function animate()
	local tween = TweenService:Create(
		btn,
		TweenInfo.new(0.15, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
		{Size = UDim2.fromScale(0.16,0.09)}
	)
	tween:Play()
	tween.Completed:Wait()
	TweenService:Create(
		btn,
		TweenInfo.new(0.15),
		{Size = UDim2.fromScale(0.14,0.08)}
	):Play()
end


task.spawn(function()
	while true do
		if running then
			local char = player.Character
			if char and char:FindFirstChild("HumanoidRootPart") then
				for _,v in pairs(workspace:GetDescendants()) do
					if v:IsA("ProximityPrompt") then
						pcall(function()
							v.HoldDuration = 0
							if (v.Parent.Position - char.HumanoidRootPart.Position).Magnitude <= v.MaxActivationDistance then
								fireproximityprompt(v)
							end
						end)
					end
				end
			end
		end
		task.wait(0.05)
	end
end)


btn.MouseButton1Click:Connect(function()
	animate()
	running = not running
	if running then
		btn.Text = "ON"
		btn.BackgroundColor3 = Color3.fromRGB(120,70,180)
	else
		btn.Text = "OFF"
		btn.BackgroundColor3 = Color3.fromRGB(90,40,130)
	end
end)
end})

boxTab:CreateButton({
Name =  "  تسونامي مرئي من صنع فارس",
Callback = function()

--المناخ المرئي
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TsunamiProGUI"
screenGui.Parent = PlayerGui

screenGui.ResetOnSpawn = false


local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 200, 0, 70)
mainFrame.Position = UDim2.new(0.5, -125, 0.1, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
mainFrame.BackgroundTransparency = 0.1
mainFrame.BorderSizePixel = 0
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.Parent = screenGui
mainFrame.ClipsDescendants = true


local UserInputService = game:GetService("UserInputService")

local dragging
local dragInput
local dragStart
local startPos

local function update(input)
	local delta = input.Position - dragStart
	mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
	                               startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

mainFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = mainFrame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

mainFrame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		update(input)
	end
end)


local uicorner = Instance.new("UICorner", mainFrame)
uicorner.CornerRadius = UDim.new(0, 15)

local shadow = Instance.new("ImageLabel")
shadow.BackgroundTransparency = 1
shadow.Image = "rbxassetid://6014261993" 
shadow.ImageColor3 = Color3.fromRGB(0,0,0)
shadow.ImageTransparency = 0.5
shadow.Size = UDim2.new(1, 20, 1, 20)
shadow.Position = UDim2.new(0, -10, 0, -10)
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10,10,118,118)
shadow.Parent = mainFrame
shadow.ZIndex = 0


local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(1, -20, 1, -20)
toggleButton.Position = UDim2.new(0, 10, 0, 10)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 20
toggleButton.Text = "Tsunami OFF"
toggleButton.Parent = mainFrame
toggleButton.AutoButtonColor = true


local buttonCorner = Instance.new("UICorner", toggleButton)
buttonCorner.CornerRadius = UDim.new(0, 12)

local buttonStroke = Instance.new("UIStroke", toggleButton)
buttonStroke.Thickness = 2
buttonStroke.Color = Color3.fromRGB(0, 255, 255)
buttonStroke.Transparency = 0.3


local tweenService = game:GetService("TweenService")
local colors = {Color3.fromRGB(0,170,255), Color3.fromRGB(255,0,128), Color3.fromRGB(0,255,128)}
local index = 1


local tsunamiActive = false


local originalProperties = {}

local function makeTsunamiVisible(obj)
	if obj:IsA("BasePart") or obj:IsA("MeshPart") or obj:IsA("UnionOperation") then
		if not originalProperties[obj] then
			originalProperties[obj] = {Transparency = obj.Transparency, CanCollide = obj.CanCollide, LocalTransparencyModifier = obj.LocalTransparencyModifier}
		end
		obj.Transparency = 0.3
		obj.LocalTransparencyModifier = 0.3
		obj.CanCollide = false
	elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") then
		obj.Enabled = false
	elseif obj:IsA("BillboardGui") or obj:IsA("SurfaceGui") then
		obj.Enabled = false
	elseif obj:IsA("Frame") or obj:IsA("ImageLabel") or obj:IsA("UIAspectRatioConstraint") 
		or obj:IsA("UIGradient") or obj:IsA("UIStroke") then
		obj.Visible = false
	elseif obj:IsA("Folder") or obj:IsA("Model") then
		for _, child in ipairs(obj:GetChildren()) do
			makeTsunamiVisible(child)
		end
	end
end

local function restoreTsunami(obj)
	if obj:IsA("BasePart") or obj:IsA("MeshPart") or obj:IsA("UnionOperation") then
		if originalProperties[obj] then
			obj.Transparency = originalProperties[obj].Transparency
			obj.LocalTransparencyModifier = originalProperties[obj].LocalTransparencyModifier
			obj.CanCollide = originalProperties[obj].CanCollide
		end
	elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") then
		obj.Enabled = true
	elseif obj:IsA("BillboardGui") or obj:IsA("SurfaceGui") then
		obj.Enabled = true
	elseif obj:IsA("Frame") or obj:IsA("ImageLabel") or obj:IsA("UIAspectRatioConstraint") 
		or obj:IsA("UIGradient") or obj:IsA("UIStroke") then
		obj.Visible = true
	elseif obj:IsA("Folder") or obj:IsA("Model") then
		for _, child in ipairs(obj:GetChildren()) do
			restoreTsunami(child)
		end
	end
end


task.spawn(function()
	while true do
		if tsunamiActive then
			local tweenInfo = TweenInfo.new(1, Enum.EasingStyle.Linear)
			local tween = tweenService:Create(buttonStroke, tweenInfo, {Color = colors[index]})
			tween:Play()
			index = index % #colors + 1
		end
		task.wait(1)
	end
end)


toggleButton.MouseButton1Click:Connect(function()
	tsunamiActive = not tsunamiActive
	if tsunamiActive then
		toggleButton.Text = "Tsunami ON"
		for _, obj in ipairs(workspace:GetChildren()) do
			if (obj:IsA("Model") or obj:IsA("Folder")) and string.find(obj.Name, "Wave") then
				makeTsunamiVisible(obj)
			end
		end
	else
		toggleButton.Text = "Tsunami OFF"
		for _, obj in ipairs(workspace:GetChildren()) do
			if (obj:IsA("Model") or obj:IsA("Folder")) and string.find(obj.Name, "Wave") then
				restoreTsunami(obj)
			end
		end
	end
end)
end})

boxTab:CreateButton({
Name =  "  كشف اماكن التيكتات من صنع فارس ",
Callback = function()

--سكربت تيكتات يسطا

local player = game.Players.LocalPlayer
local running = false

local espObjects = {}


local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "TicketESP_UI"

local main = Instance.new("Frame", gui)
main.Size = UDim2.fromScale(0.28,0.17)
main.Position = UDim2.fromScale(0.36,0.78)
main.BackgroundColor3 = Color3.fromRGB(15,25,45)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true

local corner = Instance.new("UICorner", main)
corner.CornerRadius = UDim.new(0,18)

local stroke = Instance.new("UIStroke", main)
stroke.Color = Color3.fromRGB(80,140,255)
stroke.Thickness = 1.5


local title = Instance.new("TextLabel", main)
title.Size = UDim2.fromScale(1,0.22)
title.BackgroundTransparency = 1
title.Text = "TICKET ESP"
title.TextColor3 = Color3.fromRGB(180,210,255)
title.TextScaled = true
title.Font = Enum.Font.GothamBold


local statusLabel = Instance.new("TextLabel", main)
statusLabel.Position = UDim2.fromScale(0.05,0.25)
statusLabel.Size = UDim2.fromScale(0.9,0.2)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "الحالة: في انتظار الريسبون..."
statusLabel.TextColor3 = Color3.fromRGB(200,200,200)
statusLabel.TextScaled = true
statusLabel.Font = Enum.Font.Gotham


local countLabel = Instance.new("TextLabel", main)
countLabel.Position = UDim2.fromScale(0.05,0.45)
countLabel.Size = UDim2.fromScale(0.9,0.18)
countLabel.BackgroundTransparency = 1
countLabel.Text = "عدد التيكتس: 0"
countLabel.TextColor3 = Color3.fromRGB(150,200,255)
countLabel.TextScaled = true
countLabel.Font = Enum.Font.Gotham


local btn = Instance.new("TextButton", main)
btn.Position = UDim2.fromScale(0.15,0.7)
btn.Size = UDim2.fromScale(0.7,0.25)
btn.Text = "OFF"
btn.TextColor3 = Color3.new(1,1,1)
btn.TextScaled = true
btn.Font = Enum.Font.GothamBold
btn.BackgroundColor3 = Color3.fromRGB(120,40,40)
btn.BorderSizePixel = 0

local btnCorner = Instance.new("UICorner", btn)
btnCorner.CornerRadius = UDim.new(0,14)


local function createESP(obj)
	if espObjects[obj] then return end

	local adornee
	if obj:IsA("Model") then
		adornee = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
	else
		adornee = obj
	end

	if not adornee then return end

	local billboard = Instance.new("BillboardGui")
	billboard.Name = "TicketESP"
	billboard.Adornee = adornee
	billboard.AlwaysOnTop = true
	billboard.MaxDistance = 0 
	billboard.Size = UDim2.fromOffset(120,40) 
	billboard.StudsOffsetWorldSpace = Vector3.new(0,4,0)
	billboard.Parent = adornee

	local text = Instance.new("TextLabel", billboard)
	text.Size = UDim2.fromScale(1,1)
	text.BackgroundTransparency = 1
	text.Text = "TICKET!"
	text.TextColor3 = Color3.fromRGB(0,170,255)
	text.TextStrokeColor3 = Color3.fromRGB(0,0,0)
	text.TextStrokeTransparency = 0
	text.TextScaled = true
	text.Font = Enum.Font.GothamBlack

	espObjects[obj] = billboard
end

local function clearESP()
	for _,v in pairs(espObjects) do
		if v then v:Destroy() end
	end
	espObjects = {}
end


task.spawn(function()
	while true do
		if running then
			local folder = workspace:FindFirstChild("ArcadeEventTickets")

			if folder and folder:FindFirstChild("Ticket") then
				local ticketFolder = folder.Ticket
				local found = 0

				for _,v in pairs(ticketFolder:GetChildren()) do
					if v:IsA("Model") or v:IsA("BasePart") then
						createESP(v)
						found += 1
					end
				end

				if found > 0 then
					statusLabel.Text = "الحالة: تم العثور على الهدف"
					countLabel.Text = "عدد التيكتس: "..found
				else
					statusLabel.Text = "الحالة: في انتظار الريسبون..."
					countLabel.Text = "عدد التيكتس: 0"
				end
			else
				statusLabel.Text = "الحالة: في انتظار الريسبون..."
				countLabel.Text = "عدد التيكتس: 0"
			end
		end
		task.wait(1)
	end
end)


btn.MouseButton1Click:Connect(function()
	running = not running
	if running then
		btn.Text = "ON"
		btn.BackgroundColor3 = Color3.fromRGB(40,140,220)
	else
		btn.Text = "OFF"
		btn.BackgroundColor3 = Color3.fromRGB(120,40,40)
		clearESP()
	end
end)
end})

boxTab:CreateSection("© Copyright by FARES")

local HiTab = Window:CreateTab("مميزات حصرية! ", 4483362458)

HiTab:CreateButton({
Name =  "  (متوقف/offline) ينقلك للامام دون جهد منك ",
Callback = function()
-- سكربت التحريك


local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "SafeGapNavigator_Fares_Final"
gui.ResetOnSpawn = false


local INNER_CHILD_INDEX = 2
local TWEEN_TIME = 3.1 
local Y_OFFSET = 3


local State = {
    safePoints = {},
    currentIndex = 1,
    isTeleporting = false,
    GAP_BASE_PATH = nil,
}


local function getHRP()
    local char = player.Character or player.CharacterAdded:Wait()
    return char:WaitForChild("HumanoidRootPart")
end

local function initializeAndLoadPoints()
    local mapVariants = workspace:WaitForChild("MapVariants", 60)
    if not mapVariants then return end
    local defaultMap = mapVariants:WaitForChild("DefaultMap", 60)
    if not defaultMap then return end
    State.GAP_BASE_PATH = defaultMap:WaitForChild("Gaps", 10)
    if not State.GAP_BASE_PATH then return end
    table.clear(State.safePoints)
    for i = 1, 9 do
        local gap = State.GAP_BASE_PATH:FindFirstChild("Gap" .. i)
        if gap and gap:GetChildren()[INNER_CHILD_INDEX] and gap:GetChildren()[INNER_CHILD_INDEX]:IsA("BasePart") then
            table.insert(State.safePoints, gap:GetChildren()[INNER_CHILD_INDEX])
        end
    end
end

local function teleportToIndex(index)
    if State.isTeleporting or not State.safePoints[index] then return end
    State.isTeleporting = true
    local hrp = getHRP()
    local targetPart = State.safePoints[index]
    local targetCFrame = targetPart.CFrame + Vector3.new(0, Y_OFFSET, 0)
    local tweenInfo = TweenInfo.new(TWEEN_TIME, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)
    local tween = TweenService:Create(hrp, tweenInfo, { CFrame = targetCFrame })
    tween.Completed:Connect(function() State.isTeleporting = false end)
    tween:Play()
end


local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 180, 0, 125) 
frame.Position = UDim2.new(0.5, -90, 0.75, 0)
frame.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)


local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, -20, 0, 20)
title.Position = UDim2.new(0, 10, 0, 5)
title.Text = "Made By Fares"
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.new(1, 1, 1)
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
title.BackgroundTransparency = 1


local up = Instance.new("TextButton", frame)
up.Size = UDim2.new(1, -20, 0, 32)
up.Position = UDim2.new(0, 10, 0, 30) 
up.Text = "▲ يلا قدام"
up.BackgroundColor3 = Color3.fromRGB(39, 174, 96)
up.TextColor3 = Color3.new(1, 1, 1)
up.Font = Enum.Font.GothamBold
up.TextSize = 14
Instance.new("UICorner", up)


local down = Instance.new("TextButton", frame)
down.Size = UDim2.new(1, -20, 0, 32)
down.Position = UDim2.new(0, 10, 0, 70) 
down.Text = "▼ ارجع ورا"
down.BackgroundColor3 = Color3.fromRGB(192, 57, 43)
down.TextColor3 = Color3.new(1, 1, 1)
down.Font = Enum.Font.GothamBold
up.TextSize = 14
Instance.new("UICorner", down)


local note = Instance.new("TextLabel", frame)
note.Size = UDim2.new(1, -20, 0, 15)
note.Position = UDim2.new(0, 10, 0, 105) 
note.Text = "استعمله بذكاء!"
note.Font = Enum.Font.Gotham
note.TextColor3 = Color3.fromRGB(150, 150, 150) -- Gray color
note.TextSize = 12
note.TextXAlignment = Enum.TextXAlignment.Center
note.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
note.BackgroundTransparency = 1


task.spawn(initializeAndLoadPoints)

player.CharacterAdded:Connect(function(character)
    State.currentIndex = 1
    task.wait(1)
    local hrp = character:WaitForChild("HumanoidRootPart")
    if State.safePoints[State.currentIndex] then
        hrp.CFrame = State.safePoints[State.currentIndex].CFrame + Vector3.new(0, Y_OFFSET, 0)
    end
end)


up.MouseButton1Click:Connect(function()
    if #State.safePoints == 0 or State.isTeleporting then return end
    State.currentIndex = math.clamp(State.currentIndex + 1, 1, #State.safePoints)
    teleportToIndex(State.currentIndex)
end)

down.MouseButton1Click:Connect(function()
    if #State.safePoints == 0 or State.isTeleporting then return end
    State.currentIndex = math.clamp(State.currentIndex - 1, 1, #State.safePoints)
    teleportToIndex(State.currentIndex)
end)
end})

HiTab:CreateButton({
Name =  " Script Gaps By Fares V2 ",
Callback = function()


local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera

local antiVoidPart = Instance.new("Part")
antiVoidPart.Size = Vector3.new(20000, 10, 20000)
antiVoidPart.Position = Vector3.new(0, -80, 0)
antiVoidPart.Anchored = true
antiVoidPart.CanCollide = true
antiVoidPart.Transparency = 1
antiVoidPart.Parent = Workspace

local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.ResetOnSpawn = false

local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0,200,0,140)
Main.Position = UDim2.new(0.5,-100,0.8,0)
Main.BackgroundColor3 = Color3.fromRGB(40,40,40)
Main.Active = true
Main.Draggable = true

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1,0,0,25)
Title.Text = "MADE BY FARESv2"
Title.BackgroundColor3 = Color3.fromRGB(255,0,0)
Title.TextColor3 = Color3.new(1,1,1)

local Prev = Instance.new("TextButton", Main)
Prev.Text = "للوراء"
Prev.Size = UDim2.new(0.4,0,0,40)
Prev.Position = UDim2.new(0.05,0,0.25,0)
Prev.BackgroundColor3 = Color3.fromRGB(190,40,40)
Prev.TextColor3 = Color3.new(1,1,1)

local Next = Instance.new("TextButton", Main)
Next.Text = "للأمام"
Next.Size = UDim2.new(0.4,0,0,40)
Next.Position = UDim2.new(0.55,0,0.25,0)
Next.BackgroundColor3 = Color3.fromRGB(40,160,70)
Next.TextColor3 = Color3.new(1,1,1)

local Status = Instance.new("TextLabel", Main)
Status.Size = UDim2.new(1,0,0,25)
Status.Position = UDim2.new(0,0,1,-55)
Status.BackgroundTransparency = 1
Status.TextColor3 = Color3.fromRGB(200,200,200)

local PopperButton = Instance.new("TextButton", Main)
PopperButton.Text = "لا تضغط"
PopperButton.Size = UDim2.new(0.8, 0, 0, 20)
PopperButton.Position = UDim2.new(0.1, 0, 1, -25)
PopperButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
PopperButton.TextColor3 = Color3.new(1,1,1)

local points = {
    Vector3.new(198, -4, 19),
    Vector3.new(285, -4, 18),
    Vector3.new(395, -4, 11),
    Vector3.new(540, -3, -9),
    Vector3.new(756, -4, -39),
    Vector3.new(1074, -4, -19),
    Vector3.new(1556, -3, -11),
    Vector3.new(2250, -4, -36),
    Vector3.new(2960, -4, -47),
    Vector3.new(3320, -4, -65),
    Vector3.new(3666, -4, -24),
    Vector3.new(4026, -4, -21),
}

local totalGaps = #points
local currentGapIndex = 0
local isMoving = false

local noclipConnection
local function setNoclip(state)
    if state then
        if noclipConnection then return end
        noclipConnection = RunService.Stepped:Connect(function()
            local char = LocalPlayer.Character
            if char then
                for _, part in pairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if noclipConnection then
            noclipConnection:Disconnect()
            noclipConnection = nil
        end
    end
end

local function updateStatus()
    Status.Text = "سيف بوينت: "..currentGapIndex.." / "..totalGaps
end

local function stepMove(fromPos, toPos, stepSize)
    local delta = toPos - fromPos
    local dir = delta.Unit
    local steps = math.max(math.floor(delta.Magnitude / stepSize), 1)

    for i = 1, steps do
        LocalPlayer.Character.HumanoidRootPart.CFrame =
            CFrame.new(fromPos + dir * (stepSize * i))
        RunService.Heartbeat:Wait()
    end
end

local function microStepMove(targetPos)
    if isMoving then return end
    isMoving = true

    setNoclip(true)

    local root = LocalPlayer.Character and
                 LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not root then
        setNoclip(false)
        isMoving = false
        return
    end

    local startPos = root.Position
    local downPos = startPos - Vector3.new(0,6,0)
    local hiddenTarget = Vector3.new(targetPos.X, downPos.Y, targetPos.Z)
    local finalPos = targetPos + Vector3.new(0,4.5,0)

    stepMove(startPos, downPos, 3.5)
    stepMove(downPos, hiddenTarget, 5)
    stepMove(hiddenTarget, finalPos, 3.5)

    setNoclip(false)
    isMoving = false
end

local function moveForward()
    if isMoving then return end
    if currentGapIndex < totalGaps then
        currentGapIndex += 1
        microStepMove(points[currentGapIndex])
        updateStatus()
    end
end

local function moveBackward()
    if isMoving then return end
    if currentGapIndex > 1 then
        currentGapIndex -= 1
        microStepMove(points[currentGapIndex])
        updateStatus()
    end
end

Next.MouseButton1Click:Connect(moveForward)
Prev.MouseButton1Click:Connect(moveBackward)

LocalPlayer.CharacterAdded:Connect(function()
    currentGapIndex = 0
    isMoving = false
    updateStatus()
end)

updateStatus()


end})

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local BreakZoomEnabled = false

HiTab:CreateToggle({
    Name = "كسر الزوم",
    CurrentValue = false,
    Flag = "BreakZoom",
    Callback = function(Value)
        BreakZoomEnabled = Value
        if Value then
            player.CameraMaxZoomDistance = math.huge
        else
            player.CameraMaxZoomDistance = 15
        end
    end
})

local flingActive = false
local bodyAngular
local gravityForce

HiTab:CreateToggle({
    Name = "قتل اللاعبين(لازم تمسك العصا و تكون قريب منهم او تلزق فيهم) ",
    CurrentValue = false,
    Flag = "FlingNoclipWallFix",
    Callback = function(Value)
        flingActive = Value
    end
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

local flingPower = 1e6
local pushRadius = 10

RunService.Stepped:Connect(function()
    local char = player.Character
    if char and flingActive then
        local hrp = char:FindFirstChild("HumanoidRootPart")
        local hum = char:FindFirstChildOfClass("Humanoid")
        if hrp and hum then
            for _, part in ipairs(char:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                    part.Massless = true
                end
            end

            if not bodyAngular then
                bodyAngular = Instance.new("BodyAngularVelocity")
                bodyAngular.AngularVelocity = Vector3.new(0, flingPower, 0)
                bodyAngular.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
                bodyAngular.P = math.huge
                bodyAngular.Parent = hrp
            end

            if not gravityForce then
                gravityForce = Instance.new("VectorForce")
                gravityForce.ApplyAtCenterOfMass = true
                gravityForce.Force = Vector3.new(0, -workspace.Gravity * hrp.AssemblyMass, 0)
                gravityForce.Parent = hrp

                local att = Instance.new("Attachment")
                att.Parent = hrp
                gravityForce.Attachment0 = att
            end

            for _, other in ipairs(Players:GetPlayers()) do
                if other ~= player and other.Character then
                    local ohrp = other.Character:FindFirstChild("HumanoidRootPart")
                    if ohrp and (hrp.Position - ohrp.Position).Magnitude <= pushRadius then
                        local bv = Instance.new("BodyVelocity")
                        bv.Velocity = (ohrp.Position - hrp.Position).Unit * flingPower
                        bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                        bv.Parent = ohrp
                        task.delay(0.1, function()
                            bv:Destroy()
                        end)
                    end
                end
            end
        end
    else
        if bodyAngular then bodyAngular:Destroy() bodyAngular = nil end
        if gravityForce then gravityForce:Destroy() gravityForce = nil end
    end
end)

HiTab:CreateButton({
Name = "قتل اللاعبين (نسخة محسنة)",

Callback = function()


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LP = Players.LocalPlayer


local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "FaresProGUI"

local main = Instance.new("Frame", gui)
main.Size = UDim2.fromScale(0.36, 0.54)
main.Position = UDim2.fromScale(0.32, 0.22)
main.BackgroundColor3 = Color3.fromRGB(18,18,18)
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0,16)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1,0,0.09,0)
title.Text = "اداة قتل اللاعبين من صنع فارس"
title.Font = Enum.Font.GothamBold
title.TextScaled = true
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundTransparency = 1


local listFrame = Instance.new("ScrollingFrame", main)
listFrame.Size = UDim2.new(0.9,0,0.28,0)
listFrame.Position = UDim2.new(0.05,0,0.11,0)
listFrame.ScrollBarImageTransparency = 0.4
listFrame.CanvasSize = UDim2.new(0,0,0,0)
listFrame.BackgroundColor3 = Color3.fromRGB(28,28,28)
Instance.new("UICorner", listFrame)

local selected = {}

local function refreshPlayers()
	listFrame:ClearAllChildren()
	selected = {}

	local layout = Instance.new("UIListLayout", listFrame)
	layout.Padding = UDim.new(0,6)

	for _,plr in ipairs(Players:GetPlayers()) do
		if plr ~= LP then
			local btn = Instance.new("TextButton", listFrame)
			btn.Size = UDim2.new(1,-8,0,34)
			btn.Text = plr.Name
			btn.Font = Enum.Font.Gotham
			btn.TextScaled = true
			btn.BackgroundColor3 = Color3.fromRGB(40,40,40)
			btn.TextColor3 = Color3.new(1,1,1)
			Instance.new("UICorner", btn)

			btn.MouseButton1Click:Connect(function()
				if selected[plr] then
					selected[plr] = nil
					btn.BackgroundColor3 = Color3.fromRGB(40,40,40)
				else
					selected[plr] = true
					btn.BackgroundColor3 = Color3.fromRGB(160,50,50)
				end
			end)
		end
	end

	task.wait()
	listFrame.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y + 6)
end

refreshPlayers()
Players.PlayerAdded:Connect(refreshPlayers)
Players.PlayerRemoving:Connect(refreshPlayers)


local function makeBtn(text, y, h)
	local b = Instance.new("TextButton", main)
	b.Size = UDim2.new(0.85,0,h,0)
	b.Position = UDim2.new(0.075,0,y,0)
	b.Text = text
	b.Font = Enum.Font.GothamBold
	b.TextScaled = true
	b.BackgroundColor3 = Color3.fromRGB(60,60,60)
	b.TextColor3 = Color3.new(1,1,1)
	Instance.new("UICorner", b)
	return b
end

local teleportBtn = makeBtn("التصق في الهدف", 0.42, 0.12)
local flingBtn    = makeBtn("القتل: OFF",        0.56, 0.1)
local espBtn      = makeBtn("ESP : OFF",          0.68, 0.1)


local note = Instance.new("TextLabel", main)
note.Size = UDim2.new(0.9,0,0.21,0) 
note.TextScaled = true                 
note.TextWrapped = true                
note.Position = UDim2.new(0.05,0,0.78,0)
note.Text = "⚠ لازم تكون قريب من اللاعب وإلا هتموت لما تفعل القتل لازم تكون لازق في لاعب او قريب منه عشان يشتغل لو بعيد مش هيشتغل و شخصيتك هتكون ثابته، لما تختار لاعب من فوق و يصير احمر لما تيجي تختار غيره شيل الاحمر من اللاعب الاصلي و اختار غيره"
note.TextScaled = true
note.TextWrapped = true
note.Font = Enum.Font.Gotham
note.TextColor3 = Color3.fromRGB(255,90,90)
note.BackgroundTransparency = 1

teleportBtn.MouseButton1Click:Connect(function()
	for plr,_ in pairs(selected) do
		if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart")
		and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
			LP.Character.HumanoidRootPart.CFrame =
				plr.Character.HumanoidRootPart.CFrame * CFrame.new(0,0,-1)
			break
		end
	end
end)

local flingOn = false
local FLING_POWER = 15000
local hrpConn

local function setupCharacter()
	if hrpConn then hrpConn:Disconnect() end
	local char = LP.Character or LP.CharacterAdded:Wait()
	local hrp = char:WaitForChild("HumanoidRootPart")

	RunService.Stepped:Connect(function()
		if flingOn then
			for _,v in pairs(char:GetDescendants()) do
				if v:IsA("BasePart") then
					v.CanCollide = false
				end
			end
		end
	end)

	hrpConn = hrp.Touched:Connect(function(hit)
		if not flingOn then return end
		local m = hit:FindFirstAncestorOfClass("Model")
		if m and m ~= char and m:FindFirstChild("Humanoid") then
			local att = Instance.new("Attachment", hrp)
			local av = Instance.new("AngularVelocity", hrp)
			av.Attachment0 = att
			av.AngularVelocity = Vector3.new(0, FLING_POWER, 0)
			av.MaxTorque = math.huge
			task.wait(0.15)
			av:Destroy()
			att:Destroy()
		end
	end)
end

setupCharacter()
LP.CharacterAdded:Connect(setupCharacter)

flingBtn.MouseButton1Click:Connect(function()
	flingOn = not flingOn
	flingBtn.Text = flingOn and "القتل : ON" or "القتل: OFF"
end)


local espOn = false
local nameESP = {}
local chamESP = {}

local function applyESP(plr)
	if plr == LP then return end
	if not espOn then return end
	if not plr.Character then return end

	
	if plr.Character:FindFirstChild("Head") then
		if not nameESP[plr] then
			local bb = Instance.new("BillboardGui", plr.Character.Head)
			bb.Size = UDim2.new(0,140,0,40)
			bb.AlwaysOnTop = true

			local txt = Instance.new("TextLabel", bb)
			txt.Size = UDim2.new(1,0,1,0)
			txt.BackgroundTransparency = 1
			txt.Text = plr.Name
			txt.TextColor3 = Color3.fromRGB(255,0,0)
			txt.Font = Enum.Font.GothamBold
			txt.TextScaled = true
			txt.TextStrokeTransparency = 0
			txt.TextStrokeColor3 = Color3.fromRGB(0,0,0)

			nameESP[plr] = bb
		end
	end

	
	if not chamESP[plr] and plr.Character then
		local h = Instance.new("Highlight", plr.Character)
		h.FillColor = Color3.fromRGB(255,0,0)
		h.OutlineColor = Color3.fromRGB(255,255,255)
		h.FillTransparency = 0.55
		chamESP[plr] = h
	end
end

local function clearESP(plr)
	if nameESP[plr] then nameESP[plr]:Destroy() nameESP[plr] = nil end
	if chamESP[plr] then chamESP[plr]:Destroy() chamESP[plr] = nil end
end

local function toggleESP()
	espOn = not espOn
	espBtn.Text = espOn and "ESP : ON" or "ESP : OFF"

	for _,plr in ipairs(Players:GetPlayers()) do
		if espOn then
			applyESP(plr)
		else
			clearESP(plr)
		end
	end
end

espBtn.MouseButton1Click:Connect(toggleESP)


Players.PlayerAdded:Connect(function(plr)
	plr.CharacterAdded:Connect(function()
		task.wait(0.3)
		applyESP(plr)
	end)
end)


local function hookESPRespawn(plr)
	if plr == LP then return end

	plr.CharacterAdded:Connect(function()
		task.wait(0.3) 
		if espOn then
			clearESP(plr)
			applyESP(plr)
		end
	end)
end


for _,plr in ipairs(Players:GetPlayers()) do
	hookESPRespawn(plr)
end


Players.PlayerAdded:Connect(function(plr)
	hookESPRespawn(plr)
end)
end})

HiTab:CreateButton({
Name =  "  طلوع و دخول سريع ",
Callback = function()
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
TeleportService:Teleport(game.PlaceId, player)
end})

HiTab:CreateSection("© Copyright by FARES")

local SixTab = Window:CreateTab(" FAST TELEPORTER(يعمل الان ( الانتقال الى اخر الماب نسخة مميزة ", 4483362458)




SixTab:CreateButton({
    Name = "الانتقال الى اخر الماب (FIXED v4)تم استغلال ثغرة مميزة!تم الاصلاح! ", 
    Callback = function()





local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer


local TOUR_POINTS = {
	
	Vector3.new(152.50,3.16,-135.32),
	Vector3.new(242.45,3.21,-139.48),
	Vector3.new(341.16,3.21,-139.46),
	Vector3.new(466.67,3.21,-139.51),
	Vector3.new(651.80,3.21,-139.50),
	Vector3.new(912.58,3.21,-139.47),
	Vector3.new(1302.22,3.21,-139.48),
	-- محذوف 
	Vector3.new(2685,4,-137),     
	Vector3.new(3149,5,-136),     
	Vector3.new(3497,4,-138),     
	Vector3.new(3864,2,-136),     

}

local MOVEMENT_SPEED = 1000
local isTourRunning = false
local moveConnection = nil



local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "FinalCut_UI"
MainGui.ResetOnSpawn = false
MainGui.DisplayOrder = 1000

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 280, 0, 120)
MainFrame.Position = UDim2.new(0.5, -140, 0.5, -60)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = MainGui
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 8)
Instance.new("UIStroke", MainFrame).Color = Color3.fromRGB(100, 100, 100)

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Title.Text = "Made By Fares | v3 New exploit"
Title.Font = Enum.Font.SourceSansBold
Title.TextColor3 = Color3.fromRGB(230, 230, 230)
Title.TextSize = 16

local StatusLabel = Instance.new("TextLabel", MainFrame)
StatusLabel.Size = UDim2.new(1, -20, 0, 30)
StatusLabel.Position = UDim2.new(0, 10, 0, 35)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.SourceSans
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextSize = 14
StatusLabel.Text = "ACTIVE! "

local StartButton = Instance.new("TextButton", MainFrame)
StartButton.Size = UDim2.new(1, -20, 0, 40)
StartButton.Position = UDim2.new(0, 10, 1, -50)
StartButton.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
StartButton.Font = Enum.Font.SourceSansBold
StartButton.Text = "التنقل الى اخر الماب "
StartButton.TextColor3 = Color3.new(0, 0, 0)
StartButton.TextSize = 16
Instance.new("UICorner", StartButton).CornerRadius = UDim.new(0, 6)


local BlackoutGui = Instance.new("ScreenGui", CoreGui)
BlackoutGui.Name = "FinalCutBlackout"
BlackoutGui.IgnoreGuiInset = true
BlackoutGui.ResetOnSpawn = false
BlackoutGui.DisplayOrder = 999999
BlackoutGui.Enabled = false

local BlackScreen = Instance.new("Frame", BlackoutGui)
BlackScreen.Size = UDim2.new(1, 0, 1, 0)
BlackScreen.BackgroundColor3 = Color3.new(0, 0, 0)
BlackScreen.BackgroundTransparency = 1


local LoadingText = Instance.new("TextLabel", BlackScreen)
LoadingText.Size = UDim2.new(1, 0, 0, 50)
LoadingText.Position = UDim2.new(0, 0, 0.5, -25)
LoadingText.BackgroundTransparency = 1
LoadingText.Font = Enum.Font.SourceSansBold
LoadingText.Text = "جاري التنقل الى اخر الماب..."
LoadingText.TextColor3 = Color3.new(1, 1, 1)
LoadingText.TextSize = 30
LoadingText.TextTransparency = 1



local function stopMovement()
    if moveConnection then moveConnection:Disconnect(); moveConnection = nil end
end

local function setNoclip(state)
    local char = LocalPlayer.Character
    if not char then return end
    for _, v in pairs(char:GetDescendants()) do
        if v:IsA("BasePart") then
            v.CanCollide = not state
        end
    end
end

local function resetCharacterState()
    local char = LocalPlayer.Character
    if not char then return end
    local humanoid = char:FindFirstChild("Humanoid")
    if humanoid then
        humanoid:ChangeState(Enum.HumanoidStateType.Running)
    end
    setNoclip(false)
end

local function moveToPosition(targetPos)
    stopMovement() 
    resetCharacterState()

    local success = false

    while not success do
        local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")
        local humanoid = char:WaitForChild("Humanoid")

        local died = false

        local deathConnection = humanoid.Died:Connect(function()
            died = true
            stopMovement()
            resetCharacterState()
        end)

       
        setNoclip(true)
        humanoid:ChangeState(Enum.HumanoidStateType.Physics)

        moveConnection = RunService.Heartbeat:Connect(function(dt)
            if died then return end

            local offset = targetPos - hrp.Position
            local distance = offset.Magnitude

            if distance <= 2 then
                success = true
                stopMovement()
                resetCharacterState()
                return
            end

            local direction = offset.Unit
            local step = MOVEMENT_SPEED * dt

            hrp.CFrame = CFrame.new(hrp.Position + direction * step)
        end)

        while moveConnection do
            task.wait()
        end

        deathConnection:Disconnect()

        if died then
            StatusLabel.Text = "تم كشف الموت! إعادة المحاولة..."
            task.wait(1)
        end
    end

    return success
end

local function deleteVIPWalls(parent)
    for _, child in pairs(parent:GetChildren()) do
        if child.Name == "VIPWalls" then
            child:Destroy()
        else
            deleteVIPWalls(child)
        end
    end
end

local function activateFreeVip()
    local mapFolder = workspace:FindFirstChild("DefaultMap_SharedInstances")

    if mapFolder and mapFolder:FindFirstChild("VIPWalls") then
        mapFolder.VIPWalls:Destroy()
        StatusLabel.Text = ". Start inject..."
        return true
    else
        deleteVIPWalls(workspace)
        StatusLabel.Text = "Memory injection."
        return false
    end
end

local function startFinalCutTour()
    if isTourRunning then return end
    isTourRunning = true
    StartButton.Interactable = false
    StartButton.Text = "جاري الانتقال.."

    task.spawn(function()
        activateFreeVip()
        task.wait(0.5)
        BlackoutGui.Enabled = true
        TweenService:Create(BlackScreen, TweenInfo.new(0.5), {BackgroundTransparency = 0}):Play()
        TweenService:Create(LoadingText, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
        task.wait(0.5)

        for i, point in ipairs(TOUR_POINTS) do
            StatusLabel.Text = "التوجه إلى النقطة " .. i .. "/" .. #TOUR_POINTS
            moveToPosition(point)
            task.wait(0.1)
        end

        StatusLabel.Text = "تم بنجاح!" 
        task.wait(1)

        TweenService:Create(BlackScreen, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
        TweenService:Create(LoadingText, TweenInfo.new(1), {TextTransparency = 1}):Play()
        task.wait(1)
        BlackoutGui.Enabled = false

        StartButton.Text = "التنقل الى اخر الماب"
        StartButton.Interactable = true
        isTourRunning = false
    end)
end

StartButton.MouseButton1Click:Connect(startFinalCutTour)

end})

SixTab:CreateParagraph({
        Title = " ملاحظة مهمة بخصوص الانتقال لاخر الماب! ",
        Content =" قد يتم اكتشاف ثغرة في اي وقت و قد يتم التاخير في الانتقال  و ايضا يجب سرعتك ان تكون بلماب 200 و  في حاله تم  تعطيل السكربت يرجى التواصل  علي الخاص في تيك توك  my tiktok(._.f.o_) "  })

SixTab:CreateSection("© Copyright by FARES")

local LuckTab = Window:CreateTab("MAX LUCK V2", 4483362458)

LuckTab:CreateToggle({
    Name = "تفعيل ال MAX LUCK",
    CurrentValue = false,
    Flag = "FreezeAFKBar",
    Callback = function(value)
    
local RunService = game:GetService("RunService")

local function deepFind(parent, name)
	for _, v in pairs(parent:GetDescendants()) do
		if v.Name == name then
			return v
		end
	end
	return nil
end

local fillBar =
	workspace.GameObjects
	and workspace.GameObjects:FindFirstChild("PlaceSpecific")
	and workspace.GameObjects.PlaceSpecific:FindFirstChild("root")
	and workspace.GameObjects.PlaceSpecific.root:FindFirstChild("SpawnMachines")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines:FindFirstChild("Default")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines.Default:FindFirstChild("Main")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines.Default.Main:FindFirstChild("Billboard")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines.Default.Main.Billboard:FindFirstChild("BillboardGui")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines.Default.Main.Billboard.BillboardGui:FindFirstChild("Frame")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines.Default.Main.Billboard.BillboardGui.Frame:FindFirstChild("Brainrots")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines.Default.Main.Billboard.BillboardGui.Frame.Brainrots:FindFirstChild("AFKLuckContainer")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines.Default.Main.Billboard.BillboardGui.Frame.Brainrots.AFKLuckContainer:FindFirstChild("BarBackground")
	and workspace.GameObjects.PlaceSpecific.root.SpawnMachines.Default.Main.Billboard.BillboardGui.Frame.Brainrots.AFKLuckContainer.BarBackground:FindFirstChild("FillBar")

if not fillBar then
	fillBar = deepFind(workspace, "FillBar")
end

local uiGradient = fillBar and fillBar:FindFirstChild("UIGradient") or deepFind(workspace, "UIGradient")

local function freezeBar()
	if not fillBar then return end

	fillBar.Size = UDim2.new(1, 0, 1, 0)

	if uiGradient then
		fillBar.BackgroundColor3 = uiGradient.Color.Keypoints[1].Value
	end

	for _, child in pairs(fillBar:GetChildren()) do
		if child:IsA("TextLabel") then
			child.Text = "50:00"
		end
	end
end

RunService.RenderStepped:Connect(freezeBar)

if fillBar then
	fillBar:GetPropertyChangedSignal("Size"):Connect(function()
		fillBar.Size = UDim2.new(1, 0, 1, 0)
	end)

	fillBar:GetPropertyChangedSignal("BackgroundColor3"):Connect(function()
		if uiGradient then
			fillBar.BackgroundColor3 = uiGradient.Color.Keypoints[1].Value
		end
	end)

	for _, child in pairs(fillBar:GetChildren()) do
		if child:IsA("TextLabel") then
			child:GetPropertyChangedSignal("Text"):Connect(function()
				child.Text = "50:00"
			end)
		end
	end
end
        
    end
})

LuckTab:CreateSection("© Copyright by FARES")

local BLOCKTab = Window:CreateTab("كشف اماكن اللاكي بلوكس ", 4483362458)

BLOCKTab:CreateButton({
    Name = " ESP/Admin/Infinity/Cosmic| تلقائي ",
    Callback = function()
--esp جديد بس تلقائي هههههههههههههههههههههههههههه

local TARGET_RARITIES = {"Cosmic", "Admin", "Infinity"}
local RARITY_COLORS = {
    Cosmic = Color3.fromRGB(255, 200, 100),
    Admin = Color3.fromRGB(220, 20, 60),
    Infinity = Color3.fromRGB(138, 43, 226)
}
local TARGET_FOLDER_PATH = workspace:WaitForChild("ActiveLuckyBlocks")



local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")

local isHunting = false
local activeESPs = {}
local watcherConnection = nil



local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Hydra_UI_v5"
MainGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 280, 0, 110)
MainFrame.Position = UDim2.new(0.5, -140, 0, 50)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 40)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 8)
local stroke = Instance.new("UIStroke", MainFrame); stroke.Color = Color3.fromRGB(138, 43, 226); stroke.Thickness = 1.5

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 30)
TitleLabel.BackgroundColor3 = Color3.fromRGB(45, 45, 60)
TitleLabel.Text = "ESP Admin / Infinity / Cosmic | تلقائي من صنع فارس v1"
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextSize = 9

local StatusLabel = Instance.new("TextLabel", MainFrame)
StatusLabel.Size = UDim2.new(1, -20, 0, 30)
StatusLabel.Position = UDim2.new(0, 10, 0, 35)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.SourceSans
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextSize = 14
StatusLabel.Text = "الحالة: غير نشط"
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(1, -20, 0, 30)
ToggleButton.Position = UDim2.new(0, 10, 0, 70)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "ابدا•-•"
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.TextSize = 16
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 5)



local function createESP(targetModel, rarity)
    if not targetModel or activeESPs[targetModel] then return end

    local mainPart = targetModel.PrimaryPart
    if not mainPart then
        local largestSize = 0
        for _, child in pairs(targetModel:GetChildren()) do
            if child:IsA("BasePart") then
                local size = child.Size.X * child.Size.Y * child.Size.Z
                if size > largestSize then largestSize = size; mainPart = child end
            end
        end
    end
    if not mainPart then return end

    local espFolder = Instance.new("Folder", CoreGui)
    espFolder.Name = "ESP_" .. targetModel.Name
    activeESPs[targetModel] = espFolder

    local espColor = RARITY_COLORS[rarity] or Color3.new(1, 1, 1)

    local box = Instance.new("BoxHandleAdornment", espFolder)
    box.Adornee = mainPart; box.AlwaysOnTop = true; box.ZIndex = 10
    box.Size = mainPart.Size; box.Transparency = 0.6; box.Color3 = espColor

    local billboard = Instance.new("BillboardGui", espFolder)
    billboard.Adornee = mainPart; billboard.Size = UDim2.new(0, 200, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 2, 0); billboard.AlwaysOnTop = true

    local textLabel = Instance.new("TextLabel", billboard)
    textLabel.Size = UDim2.new(1, 0, 1, 0); textLabel.BackgroundTransparency = 1
    textLabel.Font = Enum.Font.GothamBold; textLabel.TextSize = 20
    textLabel.TextColor3 = espColor; textLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    textLabel.TextStrokeTransparency = 0.4; textLabel.Text = rarity .. " Block!"

    
    targetModel.AncestryChanged:Connect(function(_, parent)
        if parent == nil then
            if activeESPs[targetModel] then
                activeESPs[targetModel]:Destroy()
                activeESPs[targetModel] = nil
            end
        end
    end)
end

local function checkExistingBlocks()
    for _, block in pairs(TARGET_FOLDER_PATH:GetChildren()) do
        if block:IsA("Model") then
            local blockName = block.Name
            for _, rarity in pairs(TARGET_RARITIES) do
                if blockName:find(rarity) then
                    createESP(block, rarity)
                end
            end
        end
    end
end

local function updateStatus()
    if not isHunting then
        StatusLabel.Text = "الحالة: غير نشط"
        StatusLabel.TextColor3 = Color3.new(1, 1, 1)
        return
    end

    
    if next(activeESPs) then
        StatusLabel.Text = "الحالة: تم العثور على الهدف!"
        StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 127)
    else
        StatusLabel.Text = "الحالة: في انتظار الريسبون..."
        StatusLabel.TextColor3 = Color3.new(1, 1, 1)
    end
end

local function startHunt()
    isHunting = true
    ToggleButton.Text = "وقف-_-"
    ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
    
    checkExistingBlocks()

    
    if not watcherConnection then
        watcherConnection = TARGET_FOLDER_PATH.ChildAdded:Connect(function(child)
            if isHunting and child:IsA("Model") then
                local blockName = child.Name
                for _, rarity in pairs(TARGET_RARITIES) do
                    if blockName:find(rarity) then
                        createESP(child, rarity)
                    end
                end
            end
        end)
    end
    
    RunService:BindToRenderStep("HydraStatusUpdate", 200, updateStatus)
end

local function stopHunt()
    isHunting = false
    ToggleButton.Text = "ابدا •-•"
    ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
    
    
    if watcherConnection then
        watcherConnection:Disconnect()
        watcherConnection = nil
    end

    for part, folder in pairs(activeESPs) do
        if folder then folder:Destroy() end
    end
    activeESPs = {}
    
    RunService:UnbindFromRenderStep("HydraStatusUpdate")
    updateStatus()
end

ToggleButton.MouseButton1Click:Connect(function()
    if isHunting then
        stopHunt()
    else
        startHunt()
    end
end)
end})

BLOCKTab:CreateButton({
    Name = " ESP تلقائي ",
    Callback = function()

-- esp تلقائي

local TARGET_RARITIES = {"Secret", "Divine", "Celestial"} -- The full list of targets.
local RARITY_COLORS = {
    Secret = Color3.fromRGB(255, 220, 0),   -- Gold
    Divine = Color3.fromRGB(230, 230, 255),  -- Heavenly White
    Celestial = Color3.fromRGB(0, 170, 255) -- Cosmic Blue
}
local TARGET_FOLDER_PATH = workspace:WaitForChild("ActiveLuckyBlocks")



local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")

local isHunting = false
local activeESPs = {}



local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Oracle_UI_v3"
MainGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 250, 0, 100)
MainFrame.Position = UDim2.new(0.5, -125, 0, 50)
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
MainFrame.BackgroundTransparency = 0.5
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 5)

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 25)
TitleLabel.BackgroundColor3 = Color3.fromRGB(80, 60, 150)
TitleLabel.Text = "كشف اماكن تلقائي للاكي بلوكس ديفاين و سلستيال و سكرت | من صنع فارس "
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextSize = 12
Instance.new("UICorner", TitleLabel).CornerRadius = UDim.new(0, 5)

local StatusLabel = Instance.new("TextLabel", MainFrame)
StatusLabel.Size = UDim2.new(1, -20, 0, 30)
StatusLabel.Position = UDim2.new(0, 10, 0, 30)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.SourceSans
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextSize = 14
StatusLabel.Text = "الحالة: غير نشط"
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(1, -20, 0, 25)
ToggleButton.Position = UDim2.new(0, 10, 0, 65)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.Text = "ابدا (: "
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.TextSize = 14
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 3)



local function createESP(targetModel, rarity)
    if not targetModel or activeESPs[targetModel] then return end

    local mainPart = targetModel.PrimaryPart
    if not mainPart then
        local largestSize = 0
        for _, child in pairs(targetModel:GetChildren()) do
            if child:IsA("BasePart") then
                local size = child.Size.X * child.Size.Y * child.Size.Z
                if size > largestSize then
                    largestSize = size
                    mainPart = child
                end
            end
        end
    end
    if not mainPart then return end

    local espFolder = Instance.new("Folder", CoreGui)
    espFolder.Name = "ESP_" .. targetModel.Name
    activeESPs[targetModel] = espFolder

    local espColor = RARITY_COLORS[rarity] or Color3.new(1, 1, 1)

    local box = Instance.new("BoxHandleAdornment", espFolder)
    box.Adornee = mainPart; box.AlwaysOnTop = true; box.ZIndex = 10
    box.Size = mainPart.Size; box.Transparency = 0.6; box.Color3 = espColor

    local billboard = Instance.new("BillboardGui", espFolder)
    billboard.Adornee = mainPart; billboard.Size = UDim2.new(0, 200, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 2, 0); billboard.AlwaysOnTop = true

    local textLabel = Instance.new("TextLabel", billboard)
    textLabel.Size = UDim2.new(1, 0, 1, 0); textLabel.BackgroundTransparency = 1
    textLabel.Font = Enum.Font.SourceSansBold; textLabel.TextSize = 18
    textLabel.TextColor3 = espColor; textLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    textLabel.TextStrokeTransparency = 0.5; textLabel.Text = rarity .. " Block!"

    targetModel.AncestryChanged:Connect(function(_, parent)
        if parent == nil then
            espFolder:Destroy()
            activeESPs[targetModel] = nil
        end
    end)
end

local function checkExistingBlocks()
    for _, block in pairs(TARGET_FOLDER_PATH:GetChildren()) do
        if block:IsA("Model") then
            local blockName = block.Name
            for _, rarity in pairs(TARGET_RARITIES) do
                if blockName:find(rarity) then
                    createESP(block, rarity)
                end
            end
        end
    end
end

local function updateStatus()
    if not isHunting then
        StatusLabel.Text = "الحالة: غير نشط"
        StatusLabel.TextColor3 = Color3.new(1, 1, 1)
        return
    end

    if next(activeESPs) then
        StatusLabel.Text = "الحالة: تم العثور على الهدف!"
        StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 127) -- Green light
    else
        StatusLabel.Text = "الحالة: في انتظار الريسبون..."
        StatusLabel.TextColor3 = Color3.new(1, 1, 1)
    end
end

local watcherConnection
local function startHunt()
    isHunting = true
    ToggleButton.Text = "ايقاف):"
    ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
    
    checkExistingBlocks()

    watcherConnection = TARGET_FOLDER_PATH.ChildAdded:Connect(function(child)
        if child:IsA("Model") then
            local blockName = child.Name
            for _, rarity in pairs(TARGET_RARITIES) do
                if blockName:find(rarity) then
                    createESP(child, rarity)
                end
            end
        end
    end)
    
    RunService:BindToRenderStep("OracleStatusUpdate", 200, updateStatus)
end

local function stopHunt()
    isHunting = false
    ToggleButton.Text = "ابدا(:"
    ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
    
    if watcherConnection then
        watcherConnection:Disconnect()
        watcherConnection = nil
    end

    for part, folder in pairs(activeESPs) do
        folder:Destroy()
    end
    activeESPs = {}
    
    RunService:UnbindFromRenderStep("OracleStatusUpdate")
    updateStatus()
end

ToggleButton.MouseButton1Click:Connect(function()
    if isHunting then
        stopHunt()
    else
        startHunt()
    end
end)
end})

BLOCKTab:CreateButton({
    Name = " ESP يدوي ",
    Callback = function()

--ESP يدوي

local RARITY_DATA = {
    Secret = { Color = Color3.fromRGB(255, 220, 0), Active = false, Button = nil },
    Divine = { Color = Color3.fromRGB(230, 230, 255), Active = false, Button = nil },
    Celestial = { Color = Color3.fromRGB(0, 170, 255), Active = false, Button = nil }
}
local TARGET_FOLDER_PATH = workspace:WaitForChild("ActiveLuckyBlocks")



local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")

local activeESPs = {}
local watcherConnection = nil



local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Hunter_UI_v5"
MainGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 250, 0, 100)
MainFrame.Position = UDim2.new(0.5, -125, 0, 50)
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
MainFrame.BackgroundTransparency = 0.5
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 5)

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 25)
TitleLabel.BackgroundColor3 = Color3.fromRGB(80, 60, 150)
TitleLabel.Text = "ESP LUCKYBLOCKS | By Fares v2"
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextSize = 13
Instance.new("UICorner", TitleLabel).CornerRadius = UDim.new(0, 5)

local StatusLabel = Instance.new("TextLabel", MainFrame)
StatusLabel.Size = UDim2.new(1, -20, 0, 30)
StatusLabel.Position = UDim2.new(0, 10, 0, 65)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.SourceSans
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextSize = 14
StatusLabel.Text = "الحالة: في وضع الاستعداد"
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left


local buttonOrder = {"Secret", "Divine", "Celestial"}
local buttonXOffset = 10

for _, rarity in ipairs(buttonOrder) do
    local data = RARITY_DATA[rarity]
    local ToggleButton = Instance.new("TextButton", MainFrame)
    ToggleButton.Size = UDim2.new(0, 70, 0, 25)
    ToggleButton.Position = UDim2.new(0, buttonXOffset, 0, 35)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    ToggleButton.Font = Enum.Font.SourceSansBold
    ToggleButton.Text = rarity
    ToggleButton.TextColor3 = Color3.new(1, 1, 1)
    ToggleButton.TextSize = 12
    Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 3)
    
    data.Button = ToggleButton
    buttonXOffset = buttonXOffset + 80 -- Increment X position for the next button
end


local function createESP(targetModel, rarity)
    if not targetModel or activeESPs[targetModel] then return end

    local mainPart = targetModel.PrimaryPart
    if not mainPart then
        local largestSize = 0
        for _, child in pairs(targetModel:GetChildren()) do
            if child:IsA("BasePart") then
                local size = child.Size.X * child.Size.Y * child.Size.Z
                if size > largestSize then largestSize = size; mainPart = child end
            end
        end
    end
    if not mainPart then return end

    local espFolder = Instance.new("Folder", CoreGui); espFolder.Name = "ESP_" .. targetModel.Name
    activeESPs[targetModel] = espFolder
    local espColor = RARITY_DATA[rarity].Color

    local box = Instance.new("BoxHandleAdornment", espFolder)
    box.Adornee = mainPart; box.AlwaysOnTop = true; box.ZIndex = 10
    box.Size = mainPart.Size; box.Transparency = 0.6; box.Color3 = espColor

    local billboard = Instance.new("BillboardGui", espFolder)
    billboard.Adornee = mainPart; billboard.Size = UDim2.new(0, 200, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 2, 0); billboard.AlwaysOnTop = true

    local textLabel = Instance.new("TextLabel", billboard)
    textLabel.Size = UDim2.new(1, 0, 1, 0); textLabel.BackgroundTransparency = 1
    textLabel.Font = Enum.Font.SourceSansBold; textLabel.TextSize = 18
    textLabel.TextColor3 = espColor; textLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    textLabel.TextStrokeTransparency = 0.5; textLabel.Text = rarity .. " Block!"

    targetModel.AncestryChanged:Connect(function(_, parent)
        if parent == nil then espFolder:Destroy(); activeESPs[targetModel] = nil end
    end)
end

local function checkBlocks()
    for _, block in pairs(TARGET_FOLDER_PATH:GetChildren()) do
        if block:IsA("Model") then
            local blockName = block.Name
            for rarity, data in pairs(RARITY_DATA) do
                if data.Active and blockName:find(rarity) then
                    createESP(block, rarity)
                end
            end
        end
    end
end

local function updateStatus()
    if next(activeESPs) then
        StatusLabel.Text = "الحالة: تم العثور على الهدف!"
        StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 127)
    else
        local isAnyHuntActive = false
        for _, data in pairs(RARITY_DATA) do
            if data.Active then isAnyHuntActive = true; break end
        end
        
        if isAnyHuntActive then
            StatusLabel.Text = "الحالة: في انتظار الريسبون..."
            StatusLabel.TextColor3 = Color3.new(1, 1, 1)
        else
            StatusLabel.Text = "الحالة: في وضع الاستعداد"
            StatusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
        end
    end
end

local function setupWatcher()
    if watcherConnection then return end
    checkBlocks()
    watcherConnection = TARGET_FOLDER_PATH.ChildAdded:Connect(function(child)
        if child:IsA("Model") then
            local blockName = child.Name
            for rarity, data in pairs(RARITY_DATA) do
                if data.Active and blockName:find(rarity) then
                    createESP(child, rarity)
                end
            end
        end
    end)
end

local function teardownWatcher()
    if not watcherConnection then return end
    local isAnyHuntActive = false
    for _, data in pairs(RARITY_DATA) do
        if data.Active then isAnyHuntActive = true; break end
    end
    
    if not isAnyHuntActive then
        watcherConnection:Disconnect()
        watcherConnection = nil
        for _, folder in pairs(activeESPs) do folder:Destroy() end
        activeESPs = {}
    end
end

for rarity, data in pairs(RARITY_DATA) do
    data.Button.MouseButton1Click:Connect(function()
        data.Active = not data.Active
        if data.Active then
            data.Button.BackgroundColor3 = data.Color
            data.Button.TextColor3 = Color3.new(0,0,0)
            setupWatcher()
        else
            data.Button.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
            data.Button.TextColor3 = Color3.new(1,1,1)
            teardownWatcher()
        end
    end)
end

RunService:BindToRenderStep("HunterStatusUpdate", 200, updateStatus)

end})

BLOCKTab:CreateSection("© Copyright by FARES")

local vipTab = Window:CreateTab("VIPمجانا!ميزة جديدة (تم اصلاح الثغرة) ", 4483362458)

vipTab:CreateButton({
    Name = " VIP مجانا من صنع فارس",
    Callback = function()

local function deleteVIPWalls(parent)
    for _, child in pairs(parent:GetChildren()) do
        if child.Name == "VIPWalls" then
            child:Destroy()
        else
            deleteVIPWalls(child)
        end
    end
end

local vipWalls = workspace:FindFirstChild("DefaultMap_SharedInstances")
if vipWalls and vipWalls:FindFirstChild("VIPWalls") then
    vipWalls.VIPWalls:Destroy()
else
    deleteVIPWalls(workspace)
end
end})


vipTab:CreateButton({
    Name = "التنقل عبر جدار vip من صنع فارس و EX-HUB| شغله في كل وقت عادي تم الاصلاح",
    Callback = function()


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer


local GHOST_SPEED = 2000
local LERP_FACTOR = 0.3 
local ZOOM_ON_MAX = 2000
local ZOOM_ON_MIN = 0.5
local ZOOM_OFF_MAX = 12
local ZOOM_OFF_MIN = 8

player.CameraMaxZoomDistance = ZOOM_ON_MAX
player.CameraMinZoomDistance = ZOOM_ON_MIN


local screenGui = Instance.new("ScreenGui"); screenGui.Name = "LogoGui"; screenGui.ResetOnSpawn = false; screenGui.Parent = player:WaitForChild("PlayerGui")
local logo = Instance.new("ImageButton"); logo.Parent = screenGui; logo.BackgroundTransparency = 1; logo.Image = "rbxassetid://93738238823550"; logo.Size = UDim2.new(0,50,0,50); logo.AnchorPoint = Vector2.new(0.5,0.5); logo.Position = UDim2.new(0.5,0,0.5,0); logo.Active = true; logo.Draggable = true
TweenService:Create(logo, TweenInfo.new(1.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(0,60,1,-60)}):Play()
local menu = Instance.new("Frame", screenGui); menu.Size = UDim2.new(0,240,0,320); menu.Position = UDim2.new(0,60,1,-380); menu.BackgroundColor3 = Color3.fromRGB(15,15,15); menu.Visible = false; menu.Active = true; menu.Draggable = true; Instance.new("UICorner", menu).CornerRadius = UDim.new(0,16)
local stroke = Instance.new("UIStroke", menu); stroke.Color = Color3.fromRGB(80,80,80); stroke.Thickness = 1.5
local title = Instance.new("TextLabel", menu); title.Size = UDim2.new(1,0,0,35); title.Text =" MADE BY FARESv3"; title.TextColor3 = Color3.fromRGB(255,0,0); title.BackgroundTransparency = 1; title.Font = Enum.Font.GothamBold; title.TextSize = 16
local note = Instance.new("TextLabel", menu); note.Size = UDim2.new(1,-20,0,35); note.Position = UDim2.new(0,10,0,35); note.Text = "Note: لازم تفعل Free Vip أولا"; note.TextColor3 = Color3.fromRGB(255,200,0); note.BackgroundTransparency = 1; note.Font = Enum.Font.Gotham; note.TextWrapped = true; note.TextSize = 13
local safeLabel = Instance.new("TextLabel", menu); safeLabel.Size = UDim2.new(1,-30,0,25); safeLabel.Position = UDim2.new(0,15,0,75); safeLabel.Text = "Safe Point: 0/12"; safeLabel.TextColor3 = Color3.new(1,1,1); safeLabel.BackgroundTransparency = 1; safeLabel.Font = Enum.Font.GothamBold; safeLabel.TextSize = 14
local warning = Instance.new("TextLabel", menu); warning.Size = UDim2.new(1,-20,0,25); warning.Position = UDim2.new(0,10,1,-30); warning.Text = ""; warning.TextColor3 = Color3.fromRGB(255,60,60); warning.BackgroundTransparency = 1; warning.Font = Enum.Font.GothamBold; warning.TextSize = 14
local function makeButton(text,y,color) local b = Instance.new("TextButton", menu); b.Size = UDim2.new(1,-30,0,40); b.Position = UDim2.new(0,15,0,y); b.Text = text; b.BackgroundColor3 = color; b.TextColor3 = Color3.new(1,1,1); b.Font = Enum.Font.GothamBold; b.TextSize = 16; Instance.new("UICorner", b); return b end
local nextBtn = makeButton("Tp",105,Color3.fromRGB(60,120,255)); local backBtn = makeButton("Back",150,Color3.fromRGB(170,70,70)); local zoomBtn = makeButton("INF ZOOM OFF",195,Color3.fromRGB(100,100,100)); local vipBtn = makeButton("Free Vip",240,Color3.fromRGB(200,160,60))

logo.MouseButton1Click:Connect(function() menu.Visible = not menu.Visible end)


local points = {
	Vector3.new(113, 3, -136), Vector3.new(242.45,3.21,-139.48),
	Vector3.new(341.16,3.21,-139.46), Vector3.new(466.67,3.21,-139.51),
	Vector3.new(651.80,3.21,-139.50), Vector3.new(912.58,3.21,-139.47),
	Vector3.new(1302.22,3.21,-139.48), Vector3.new(1987, 3, -140), 
	Vector3.new( 2519.88, 3.23, -139.51), Vector3.new(3149,5,-136),     
	Vector3.new(3497,4,-138), Vector3.new(3864,2,-136),     
}
local index = 0
local moveConn


local function setNoclip(state)
    local char = player.Character; if not char then return end
    local hrp = char:FindFirstChild("HumanoidRootPart"); if not hrp then return end

    if state then
        if not hrp:FindFirstChild("NoclipGyro") then local gyro = Instance.new("BodyGyro", hrp); gyro.Name = "NoclipGyro"; gyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge); gyro.CFrame = hrp.CFrame end
        if not hrp:FindFirstChild("NoclipVel") then local vel = Instance.new("BodyVelocity", hrp); vel.Name = "NoclipVel"; vel.MaxForce = Vector3.new(math.huge, math.huge, math.huge); vel.Velocity = Vector3.new(0,0,0) end
        for _, part in ipairs(char:GetDescendants()) do if part:IsA("BasePart") then part.CanCollide = false end end
    else
        if hrp:FindFirstChild("NoclipGyro") then hrp.NoclipGyro:Destroy() end
        if hrp:FindFirstChild("NoclipVel") then hrp.NoclipVel:Destroy() end
        for _, part in ipairs(char:GetDescendants()) do if part:IsA("BasePart") then part.CanCollide = true end end
    end
end

local function updateSafePoint() safeLabel.Text = "Safe Point: "..index.."/12" end

local function stopMove()
	if moveConn then
		moveConn:Disconnect()
		moveConn = nil
        setNoclip(false) 
	end
end

local function moveTo(pos)
	stopMove()
	local char = player.Character; if not char then return end
	local hrp = char:FindFirstChild("HumanoidRootPart"); if not hrp then return end

    setNoclip(true) 

	moveConn = RunService.RenderStepped:Connect(function(dt)
		local dist = (pos - hrp.Position).Magnitude
		if dist < 2 then
			hrp.CFrame = CFrame.new(pos)
			stopMove()
			return
		end
		
		local step = math.min(dist, GHOST_SPEED * dt)
		local targetCFrame = CFrame.new(hrp.Position, pos) * CFrame.new(0, 0, -step)
		
		hrp.CFrame = hrp.CFrame:Lerp(targetCFrame, LERP_FACTOR)
	end)
end


nextBtn.MouseButton1Click:Connect(function()
	if index == #points then warning.Text = "وصلت لآخر نقطة!"; return end
	warning.Text = ""
	if index < #points then index += 1; updateSafePoint(); moveTo(points[index]) end
end)

backBtn.MouseButton1Click:Connect(function()
	if index > 1 then index -= 1; updateSafePoint(); moveTo(points[index]) end
end)

local zoomEnabled = false
zoomBtn.MouseButton1Click:Connect(function()
	zoomEnabled = not zoomEnabled
	if zoomEnabled then player.CameraMaxZoomDistance = ZOOM_ON_MAX; player.CameraMinZoomDistance = ZOOM_ON_MIN; zoomBtn.Text = "INF ZOOM ON"
	else player.CameraMaxZoomDistance = ZOOM_OFF_MAX; player.CameraMinZoomDistance = ZOOM_OFF_MIN; zoomBtn.Text = "INF ZOOM OFF" end
end)

vipBtn.MouseButton1Click:Connect(function()
	local function deleteVIPWalls(parent) for _, child in pairs(parent:GetChildren()) do if child.Name == "VIPWalls" then child:Destroy() else deleteVIPWalls(child) end end end
	local vipWalls = workspace:FindFirstChild("DefaultMap_SharedInstances"); if vipWalls and vipWalls:FindFirstChild("VIPWalls") then vipWalls.VIPWalls:Destroy() else deleteVIPWalls(workspace) end
end)

player.CharacterAdded:Connect(function()
	stopMove()
	index = 0
	updateSafePoint()
end)

updateSafePoint()


end})

vipTab:CreateParagraph({
        Title = "  ملاحظه مهمة بخصوص ثغرات VIP",
        Content = "لازم سرعتك بلماب تكون  200 و لو ضغطت بسرعه علي زر Tp ممكن تموت."
    })

vipTab:CreateSection("© Copyright by FARES")

local flyTab = Window:CreateTab("SKIP PARKOUR | تخطي الباركور", 44833628)

flyTab:CreateButton({
    Name = " تشغيل سكربت تخطي الباركور (يجب تكون عند الباركور) ",
    Callback = function()

-- سكربت طيران

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

local controlModule = require(LocalPlayer.PlayerScripts:WaitForChild("PlayerModule"):WaitForChild("ControlModule"))


local isFlying = false
local flyVelocity = nil
local flyGyro = nil
local powerAura = nil
local FLY_SPEED = 150
local MAX_SPEED = 1000


local isNoclipping = false
local noclipConnection = nil



local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Chimera_UI_v18"
MainGui.ResetOnSpawn = false


local ShadowFrame = Instance.new("Frame", MainGui)
ShadowFrame.Size = UDim2.new(0, 220, 0, 120)
ShadowFrame.Position = UDim2.new(0, 20, 0.5, -60)
ShadowFrame.BackgroundColor3 = Color3.new(0, 0, 0) -- Black
ShadowFrame.BackgroundTransparency = 0.6 -- Semi-transparent
ShadowFrame.BorderSizePixel = 0
ShadowFrame.Active = true
ShadowFrame.Draggable = true
Instance.new("UICorner", ShadowFrame).CornerRadius = UDim.new(0, 5)


local FlightToggleButton = Instance.new("TextButton", ShadowFrame)
FlightToggleButton.Size = UDim2.new(0, 90, 0, 25)
FlightToggleButton.Position = UDim2.new(0, 10, 0, 10)
FlightToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
FlightToggleButton.Font = Enum.Font.SourceSansBold
FlightToggleButton.Text = "الطيران: OFF"
FlightToggleButton.TextColor3 = Color3.new(1, 1, 1)
FlightToggleButton.TextSize = 14
Instance.new("UICorner", FlightToggleButton).CornerRadius = UDim.new(0, 3)


local NoclipToggleButton = Instance.new("TextButton", ShadowFrame)
NoclipToggleButton.Size = UDim2.new(0, 100, 0, 25)
NoclipToggleButton.Position = UDim2.new(1, -110, 0, 10)
NoclipToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
NoclipToggleButton.Font = Enum.Font.SourceSansBold
NoclipToggleButton.Text = "اختراق الجدار: OFF"
NoclipToggleButton.TextColor3 = Color3.new(1, 1, 1)
NoclipToggleButton.TextSize = 12
Instance.new("UICorner", NoclipToggleButton).CornerRadius = UDim.new(0, 3)


local SpeedBox = Instance.new("TextBox", ShadowFrame)
SpeedBox.Size = UDim2.new(0, 200, 0, 25)
SpeedBox.Position = UDim2.new(0, 10, 0, 45)
SpeedBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
SpeedBox.Font = Enum.Font.SourceSans
SpeedBox.Text = tostring(FLY_SPEED)
SpeedBox.PlaceholderText = "أدخل السرعة..."
SpeedBox.TextColor3 = Color3.new(1, 1, 1)
SpeedBox.TextSize = 14
Instance.new("UICorner", SpeedBox).CornerRadius = UDim.new(0, 3)


local SpeedLabel = Instance.new("TextLabel", ShadowFrame)
SpeedLabel.Size = UDim2.new(1, -20, 0, 20)
SpeedLabel.Position = UDim2.new(0, 10, 0, 70)
SpeedLabel.BackgroundTransparency = 1
SpeedLabel.Font = Enum.Font.SourceSansLight
SpeedLabel.TextColor3 = Color3.new(1, 1, 1)
SpeedLabel.TextSize = 12
SpeedLabel.TextXAlignment = Enum.TextXAlignment.Left
SpeedLabel.Text = "Speed: " .. FLY_SPEED .. " / " .. MAX_SPEED


local CreditLabel = Instance.new("TextLabel", ShadowFrame)
CreditLabel.Size = UDim2.new(1, 0, 0, 15)
CreditLabel.Position = UDim2.new(0, 0, 1, -15)
CreditLabel.BackgroundTransparency = 1
CreditLabel.Font = Enum.Font.SourceSansItalic
CreditLabel.TextColor3 = Color3.new(1, 1, 1)
CreditLabel.TextSize = 10
CreditLabel.Text = "made by Fares"




local function createAura(parent)
    powerAura = Instance.new("ParticleEmitter", parent)
    powerAura.Color = ColorSequence.new(Color3.fromRGB(0, 170, 255), Color3.fromRGB(85, 255, 255)); powerAura.LightEmission = 0.5
    powerAura.Size = NumberSequence.new({NumberSequenceKeypoint.new(0, 2), NumberSequenceKeypoint.new(0.5, 3), NumberSequenceKeypoint.new(1, 2)})
    powerAura.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0, 0.8), NumberSequenceKeypoint.new(0.5, 0.5), NumberSequenceKeypoint.new(1, 1)})
    powerAura.Lifetime = NumberRange.new(0.5, 1); powerAura.Rate = 50; powerAura.Speed = NumberRange.new(1); powerAura.SpreadAngle = Vector2.new(360, 360); powerAura.Enabled = true
end

local function startFlying()
    local char = LocalPlayer.Character; if not char or isFlying then return end
    local hrp = char:FindFirstChild("HumanoidRootPart"); local humanoid = char:FindFirstChild("Humanoid"); if not (hrp and humanoid) then return end
    isFlying = true; humanoid.PlatformStand = true
    flyGyro = Instance.new("BodyGyro", hrp); flyGyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge); flyGyro.P = 50000
    flyVelocity = Instance.new("BodyVelocity", hrp); flyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge); flyVelocity.Velocity = Vector3.new(0, 0, 0)
    createAura(hrp)
    FlightToggleButton.Text = "الطيران: ON"; FlightToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
end

local function stopFlying()
    if not isFlying then return end; isFlying = false
    if flyVelocity then flyVelocity:Destroy() end; if flyGyro then flyGyro:Destroy() end; if powerAura then powerAura:Destroy(); powerAura = nil end
    local char = LocalPlayer.Character; if char and char:FindFirstChild("Humanoid") then char.Humanoid.PlatformStand = false end
    FlightToggleButton.Text = "الطيران: OFF"; FlightToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
end


local function startNoclipping()
    if isNoclipping then return end; isNoclipping = true
    NoclipToggleButton.Text = "الاختراق: ON"; NoclipToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
    noclipConnection = RunService.Stepped:Connect(function()
        local char = LocalPlayer.Character
        if not char then return end
        char:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Running)
        for _, part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") and part.CanCollide then
                part.CanCollide = false
            end
        end
    end)
end

local function stopNoclipping()
    if not isNoclipping then return end; isNoclipping = false
    if noclipConnection then noclipConnection:Disconnect(); noclipConnection = nil end
    NoclipToggleButton.Text = "اختراق الجدار: OFF"; NoclipToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
end


FlightToggleButton.MouseButton1Click:Connect(function() if isFlying then stopFlying() else startFlying() end end)
NoclipToggleButton.MouseButton1Click:Connect(function() if isNoclipping then stopNoclipping() else startNoclipping() end end)

SpeedBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local newSpeed = tonumber(SpeedBox.Text)
        if newSpeed and newSpeed >= 0 and newSpeed <= MAX_SPEED then FLY_SPEED = newSpeed else FLY_SPEED = 150 end
        SpeedBox.Text = tostring(FLY_SPEED); SpeedLabel.Text = "Speed: " .. FLY_SPEED .. " / " .. MAX_SPEED
    end
end)


RunService.RenderStepped:Connect(function()
    if not isFlying or not flyVelocity or not flyGyro then return end
    local char = LocalPlayer.Character; local humanoid = char and char:FindFirstChild("Humanoid"); local camera = workspace.CurrentCamera
    if not (humanoid and camera) then stopFlying(); return end
    flyGyro.CFrame = camera.CFrame
    local moveVector = controlModule:GetMoveVector()
    local direction = Vector3.new(moveVector.X, moveVector.Y, moveVector.Z)
    flyVelocity.Velocity = camera.CFrame:VectorToWorldSpace(direction) * FLY_SPEED
end)


LocalPlayer.CharacterAdded:Connect(function(char)
    char:WaitForChild("Humanoid").Died:Connect(function()
        if isFlying then stopFlying() end
        if isNoclipping then stopNoclipping() end
    end)
end)
end})


flyTab:CreateButton({
    Name = " Fly v2(نسخة احتياطية + لازم تزيد سرعته الى 3 او 5)",
    Callback = function()






local main = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local up = Instance.new("TextButton")
local down = Instance.new("TextButton")
local onof = Instance.new("TextButton")
local TextLabel = Instance.new("TextLabel")
local plus = Instance.new("TextButton")
local speed = Instance.new("TextLabel")
local mine = Instance.new("TextButton")


main.Name = "main"
main.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling


Frame.Parent = main
Frame.BackgroundColor3 = Color3.fromRGB(10, 10, 10) -- Dark background
Frame.BorderColor3 = Color3.fromRGB(0, 255, 0) -- Green border
Frame.BorderSizePixel = 2
Frame.Position = UDim2.new(0.100320168, 0, 0.379746825, 0)
Frame.Size = UDim2.new(0, 190, 0, 57)
Frame.Draggable = true
Frame.Active = true


local function applyMatrixStyle(element, text)
    element.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    element.BorderColor3 = Color3.fromRGB(0, 255, 0)
    element.BorderSizePixel = 1
    element.Font = Enum.Font.Code -- Matrix-like font
    element.TextColor3 = Color3.fromRGB(0, 255, 0) -- Green text
    element.Text = text
    element.TextSize = 14.000
    return element
end

up.Name = "up"
up.Parent = Frame
applyMatrixStyle(up, "UP")
up.Size = UDim2.new(0, 44, 0, 28)
up.Position = UDim2.new(0, 0, 0, 0) 

down.Name = "down"
down.Parent = Frame
applyMatrixStyle(down, "DOWN")
down.Position = UDim2.new(0, 0, 0.491228074, 0)
down.Size = UDim2.new(0, 44, 0, 28)

onof.Name = "onof"
onof.Parent = Frame
applyMatrixStyle(onof, "fly")
onof.Position = UDim2.new(0.702823281, 0, 0.491228074, 0)
onof.Size = UDim2.new(0, 56, 0, 28)

TextLabel.Parent = Frame
TextLabel.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
TextLabel.BorderColor3 = Color3.fromRGB(0, 255, 0)
TextLabel.Position = UDim2.new(0.231, 0, 0, 0)
TextLabel.Size = UDim2.new(0, 130, 0, 28)
TextLabel.Font = Enum.Font.Code
TextLabel.Text = "made by Fares" -- Updated rights
TextLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
TextLabel.TextScaled = true
TextLabel.TextWrapped = true

plus.Name = "plus"
plus.Parent = Frame
applyMatrixStyle(plus, "+")
plus.Position = UDim2.new(0.231578946, 0, 0, 0)
plus.Size = UDim2.new(0, 45, 0, 28)
plus.TextScaled = true

speed.Name = "speed"
speed.Parent = Frame
applyMatrixStyle(speed, "1")
speed.Position = UDim2.new(0.468421042, 0, 0.491228074, 0)
speed.Size = UDim2.new(0, 44, 0, 28)
speed.TextScaled = true

mine.Name = "mine"
mine.Parent = Frame
applyMatrixStyle(mine, "-")
mine.Position = UDim2.new(0.231578946, 0, 0.491228074, 0)
mine.Size = UDim2.new(0, 45, 0, 29)
mine.TextScaled = true


speeds = 1
local speaker = game:GetService("Players").LocalPlayer
local chr = game.Players.LocalPlayer.Character
local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
nowe = false

game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "MATRIX FLY";
    Text = "made by Fares";
    Icon = "rbxassetid://282552255" 
})
Duration = 10

onof.MouseButton1Down:connect(function()
    if nowe == true then
        nowe = false
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,true)
        speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.RunningNoPhysics)
    else
        nowe = true
        for i = 1, speeds do
            spawn(function()
                local hb = game:GetService("RunService").Heartbeat
                tpwalking = true
                local chr = game.Players.LocalPlayer.Character
                local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                while tpwalking and hb:Wait() and
                    chr and hum and hum.Parent do
                    if hum.MoveDirection.Magnitude > 0 then
                        chr:TranslateBy(hum.MoveDirection)
                    end
                end
            end)
        end
        game.Players.LocalPlayer.Character.Animate.Disabled = true
        local Char = game.Players.LocalPlayer.Character
        local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")
        for i,v in next, Hum:GetPlayingAnimationTracks() do
            v:AdjustSpeed(0)
        end
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,false)
           


        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,false)
        speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
    end

    if game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid").RigType == Enum.HumanoidRigType.R6 then
        local plr = game.Players.LocalPlayer
        local torso = plr.Character.Torso
        local flying = true
        local deb = true
        local ctrl = {f = 0, b = 0, l = 0, r = 0}
        local lastctrl = {f = 0, b = 0, l = 0, r = 0}
        local maxspeed = 50
        local speed = 0

        local bg = Instance.new("BodyGyro", torso)
        bg.P = 9e4
        bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
        bg.cframe = torso.CFrame
        local bv = Instance.new("BodyVelocity", torso)
        bv.velocity = Vector3.new(0,0.1,0)
        bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
        if nowe == true then
            plr.Character.Humanoid.PlatformStand = true
        end
        while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
            game:GetService("RunService").RenderStepped:Wait()
            if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                speed = speed+.5+(speed/maxspeed)
                if speed > maxspeed then
                    speed = maxspeed
                end
            elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                speed = speed-1
                if speed < 0 then
                    speed = 0
                end
            end
            if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p)) * speed
                lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
            elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                bv.velocity = bv.velocity
            else
                bv.velocity = Vector3.new(0,0,0)
            end
            --  game.Players.LocalPlayer.Character.Animate.Disabled = true
            bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
        end
        ctrl = {f = 0, b = 0, l = 0, r = 0}
        lastctrl = {f = 0, b = 0, l = 0, r = 0}
        speed = 0
        bg:Destroy()
        bv:Destroy()
        plr.Character.Humanoid.PlatformStand = false
        game.Players.LocalPlayer.Character.Animate.Disabled = false
        tpwalking = false
    else
        local plr = game.Players.LocalPlayer
        local UpperTorso = plr.Character.UpperTorso
        local flying = true
        local deb = true
        local ctrl = {f = 0, b = 0, l = 0, r = 0}
        local lastctrl = {f = 0, b = 0, l = 0, r = 0}
        local maxspeed = 50
        local speed = 0

        local bg = Instance.new("BodyGyro", UpperTorso)
        bgP = 9e4
        bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
        bg.cframe = UpperTorso.CFrame
        local bv = Instance.new("BodyVelocity", UpperTorso)
        bv.velocity = Vector3.new(0,0.1,0)
        bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
        if nowe == true then
            plr.Character.Humanoid.PlatformStand = true
        end
        while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
            wait()
            if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                speed = speed+.5+(speed/maxspeed)
                if speed > maxspeed then
                    speed = maxspeed
                end
            elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                speed = speed-1
                if speed < 0 then
                    speed = 0
                end
            end
            if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p)) * speed
                lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
            elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                bv.velocity = bv.velocity
            else
                bv.velocity = Vector3.new(0,0,0)
            end
            bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
        end
        ctrl = {f = 0, b = 0, l = 0, r = 0}
        lastctrl = {f = 0, b = 0, l = 0, r = 0}
        speed = 0
        bg:Destroy()
        bv:Destroy()
        plr.Character.Humanoid.PlatformStand = false
        game.Players.LocalPlayer.Character.Animate.Disabled = false
        tpwalking = false
    end
end)

up.MouseButton1Down:connect(function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,2,0)
end)

down.MouseButton1Down:connect(function()
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,-2,0)
end)

game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
    wait(0.7)
    game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false
    game.Players.LocalPlayer.Character.Animate.Disabled = false
end)

plus.MouseButton1Down:connect(function()
    speeds = speeds + 1
    speed.Text = speeds
    if nowe == true then
        tpwalking = false
        for i = 1, speeds do
            spawn(function()
                local hb = game:GetService("RunService").Heartbeat
                tpwalking = true
                local chr = game.Players.LocalPlayer.Character
                local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                while tpwalking and hb:Wait() and
                    chr and hum and hum.Parent do
                    if hum.MoveDirection.Magnitude > 0 then
                        chr:TranslateBy(hum.MoveDirection)
                    end
                end
            end)
        end
    end
end)

mine.MouseButton1Down:connect(function()
    if speeds == 1 then
        speed.Text = 'can not be less than 1'
        wait(1)
        speed.Text = speeds
    else
        speeds = speeds - 1
        speed.Text = speeds
        if nowe == true then
            tpwalking = false
            for i = 1, speeds do
                spawn(function()
                    local hb = game:GetService("RunService").Heartbeat
                    tpwalking = true
                    local chr = game.Players.LocalPlayer.Character
                    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                    while tpwalking and hb:Wait() and
                        chr and hum and hum.Parent do
                        if hum.MoveDirection.Magnitude > 0 then
                            chr:TranslateBy(hum.MoveDirection)
                        end
                    end
                end)
            end
        end
    end
end)
end})

flyTab:CreateSection("© Copyright by FARES")

local GGTab = Window:CreateTab("سكربت تجميع الشخصيات تلقائي ( جديد!) ", 4483362458)

GGTab:CreateButton({
    Name = " (لازم نت قوي)تشغيل سكربت تجميع الشخصيات تلقائي v4",
    Callback = function()


local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService") -- Added RunService for Heartbeat
local LocalPlayer = Players.LocalPlayer

local function setNoclip(state)
    local char = LocalPlayer.Character
    if not char then return end
    for _, v in pairs(char:GetDescendants()) do
        if v:IsA("BasePart") then
            v.CanCollide = not state
        end
    end
end

local function resetCharacterState()
    local char = LocalPlayer.Character
    if not char then return end
    local humanoid = char:FindFirstChild("Humanoid")
    if humanoid then
        humanoid:ChangeState(Enum.HumanoidStateType.Running)
    end
    setNoclip(false)
end

local TSUNAMI_DETECTION_RANGE = 180
local SAFE_POSITIONS = {
	Vector3.new(113, 3, -136),Vector3.new(242.45,3.21,-139.48),
	Vector3.new(341.16,3.21,-139.46), Vector3.new(466.67,3.21,-139.51),
	Vector3.new(651.80,3.21,-139.50), Vector3.new(912.58,3.21,-139.47),
	Vector3.new(1302.22,3.21,-139.48), Vector3.new(2685,4,-137),
	Vector3.new(3149,5,-136), Vector3.new(3497,4,-138),
	Vector3.new(3864,2,-136),
}
local BRAINROT_TYPES = {"Celestial","Secret","Divine"}
local selectedRarities = {}
local isFarming = false
local safeIndex = 1
local secretCounter = 0
local SECRET_LIMIT = 6
local START_POSITION = SAFE_POSITIONS[1]
local DIVINE_PROXIMITY_RANGE = 250
local spottedTargets = { Celestial = nil, Divine = nil }


local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui")); gui.ResetOnSpawn = false


local noteFrame = Instance.new("Frame")
noteFrame.Parent = gui
noteFrame.Size = UDim2.new(0.5, 0, 0, 100)
noteFrame.Position = UDim2.new(0.05, 0, 0.05, 0)
noteFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
noteFrame.BackgroundTransparency = 0.0
Instance.new("UICorner", noteFrame)
noteFrame.Active = true
noteFrame.Draggable = true 


local textLabel = Instance.new("TextLabel")
textLabel.Parent = noteFrame
textLabel.Size = UDim2.new(1, -10, 1, -10) 
textLabel.Position = UDim2.new(0, 5, 0, 5)
textLabel.Text = "السكربت لو اخذ Celestial أو Divine ممكن ياخذ وقت للرجوع  للبيت و لو حصل اخطاء جعل السكربت لا يعمل شغلة من جديد و كمان السكربت لا يعمل في الاحداث Money- radioactive-ufo-candy-gamer يعمل في الماب الطبيعيه فقط"
textLabel.TextWrapped = true 
textLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
textLabel.Font = Enum.Font.Gotham
textLabel.TextSize = 12
textLabel.BackgroundTransparency = 1
local frame = Instance.new("Frame", gui); frame.Size = UDim2.new(0,300,0,380); frame.Position = UDim2.new(0.5,-150,0.5,-190); frame.BackgroundColor3 = Color3.fromRGB(30,30,35); frame.Active = true; frame.Draggable = true; Instance.new("UICorner",frame)
local title = Instance.new("TextLabel", frame); title.Size = UDim2.new(1,0,0,30); title.Text = "سكربت تجميع الشخصيات تلقائي v4"; title.TextColor3 = Color3.new(1,1,1); title.BackgroundColor3 = Color3.fromRGB(45,45,55); title.Font = Enum.Font.GothamBold; title.TextSize = 16; Instance.new("UICorner",title)

local scroll = Instance.new("ScrollingFrame", frame); scroll.Size = UDim2.new(0.9,0,0,120); scroll.Position = UDim2.new(0.05,0,0,40)
local grid = Instance.new("UIGridLayout", scroll); grid.CellSize = UDim2.new(0.48,0,0,35); grid.CellPadding = UDim2.new(0.02,0,0.02,0)
local startBtn = Instance.new("TextButton", frame); startBtn.Size = UDim2.new(0.9,0,0,40); startBtn.Position = UDim2.new(0.05,0,1,-150); startBtn.Text = "ابدا"; startBtn.Font = Enum.Font.GothamBold; startBtn.TextSize = 18; startBtn.BackgroundColor3 = Color3.fromRGB(180,50,50); startBtn.TextColor3 = Color3.new(1,1,1); Instance.new("UICorner",startBtn)
local status = Instance.new("TextLabel", frame); status.Size = UDim2.new(0.9,0,0,25); status.Position = UDim2.new(0.05,0,1,-105); status.Text = "جاهز"; status.TextColor3 = Color3.fromRGB(200,200,200); status.BackgroundColor3 = Color3.fromRGB(45,45,55); status.Font = Enum.Font.Gotham; status.TextSize = 14; Instance.new("UICorner",status)
local secretCounterLabel = Instance.new("TextLabel", frame); secretCounterLabel.Size = UDim2.new(0.9,0,0,25); secretCounterLabel.Position = UDim2.new(0.05,0,1,-180); secretCounterLabel.Text = "Secret: 0 / "..SECRET_LIMIT; secretCounterLabel.TextColor3 = Color3.fromRGB(255,255,255); secretCounterLabel.BackgroundColor3 = Color3.fromRGB(45,45,55); secretCounterLabel.Font = Enum.Font.GothamBold; secretCounterLabel.TextSize = 14; Instance.new("UICorner",secretCounterLabel)
local vipBtn = Instance.new("TextButton", frame); vipBtn.Size = UDim2.new(0.9,0,0,30); vipBtn.Position = UDim2.new(0.05,0,1,-75); vipBtn.Text = "FREE VIP"; vipBtn.Font = Enum.Font.GothamBold; vipBtn.TextSize = 14; vipBtn.BackgroundColor3 = Color3.fromRGB(100,100,180); vipBtn.TextColor3 = Color3.new(1,1,1); Instance.new("UICorner",vipBtn)
local vipLabel = Instance.new("TextLabel", frame); vipLabel.Size = UDim2.new(0.9,0,0,20); vipLabel.Position = UDim2.new(0.05,0,1,-45); vipLabel.Text = " لازم تفعل VIP الاول "; vipLabel.BackgroundTransparency = 1; vipLabel.TextColor3 = Color3.fromRGB(255,200,0); vipLabel.Font = Enum.Font.GothamBold; vipLabel.TextSize = 12
for _, rarity in ipairs(BRAINROT_TYPES) do local b = Instance.new("TextButton", scroll); b.Text = rarity; b.Font = Enum.Font.Gotham; b.TextColor3 = Color3.new(1,1,1); b.BackgroundColor3 = Color3.fromRGB(80,80,80); Instance.new("UICorner",b); b.MouseButton1Click:Connect(function() selectedRarities[rarity] = not selectedRarities[rarity]; b.BackgroundColor3 = selectedRarities[rarity] and Color3.fromRGB(50,160,80) or Color3.fromRGB(80,80,80) end) end
scroll.CanvasSize = UDim2.new(0,0,0,grid.AbsoluteContentSize.Y)


local function setStatus(t) status.Text = t end
local function updateSecretCounterLabel() secretCounterLabel.Text = "Secret: "..secretCounter.." / "..SECRET_LIMIT end
local function getHRP() return LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") end
local function tweenTo(pos, speed)
    local hrp = getHRP()
    if not hrp then return end

    local char = LocalPlayer.Character
    local humanoid = char and char:FindFirstChild("Humanoid")
    if not humanoid then return end

    local startPos = hrp.Position
    local targetPos = Vector3.new(pos.X, startPos.Y, pos.Z) 

    local direction = (targetPos - startPos)
    local distance = direction.Magnitude
    if distance < 1 then return end
    direction = direction.Unit

    local moveSpeed = speed or 280
    local travelTime = distance / moveSpeed

    
    setNoclip(true)

    humanoid:ChangeState(Enum.HumanoidStateType.Physics)

    
    local bv = Instance.new("BodyVelocity")
    bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
    bv.Velocity = Vector3.new(direction.X * moveSpeed, 0, direction.Z * moveSpeed)
    bv.Parent = hrp

    
    local bg = Instance.new("BodyGyro")
    bg.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
    bg.CFrame = CFrame.new(hrp.Position, hrp.Position + direction)
    bg.Parent = hrp

    local elapsed = 0
    while elapsed < travelTime do
        elapsed += RunService.Heartbeat:Wait()
        
        bv.Velocity = Vector3.new(direction.X * moveSpeed, 0, direction.Z * moveSpeed)
    end

    bv:Destroy()
    bg:Destroy()

    resetCharacterState()
end
local function getTsunamiEvasionPath(hrp, currentSafeIndex, targetSafeIndex) for _, folder in pairs({workspace:FindFirstChild("ActiveTsunamis"), workspace:FindFirstChild("Tsunami")}) do if folder then for _, p in pairs(folder:GetDescendants()) do if p:IsA("BasePart") and (hrp.Position - p.Position).Magnitude <= TSUNAMI_DETECTION_RANGE then local toTsunami = (p.Position - hrp.Position).Unit; local toNextSafePoint = (SAFE_POSITIONS[targetSafeIndex] - hrp.Position).Unit; if hrp.CFrame.LookVector:Dot(toTsunami) > 0 and hrp.CFrame.LookVector:Dot(toNextSafePoint) > 0 then setStatus("احا يلا نستخبى بسرعه."); return math.max(1, currentSafeIndex - 1) end end end end end; return targetSafeIndex end
local function microTeleportCollect(model) local hrp = getHRP(); if not hrp or not model or not model.PrimaryPart then return false end; local prompt = model:FindFirstChildWhichIsA("ProximityPrompt", true); if not prompt then return false end; local back = hrp.CFrame; local target = model.PrimaryPart.CFrame + Vector3.new(0,2,0); local t = TweenService:Create(hrp,TweenInfo.new(0.15,Enum.EasingStyle.Linear),{CFrame=target}); t:Play(); t.Completed:Wait(); local attempts = 0; while model.Parent and attempts < 6 do fireproximityprompt(prompt); task.wait(0.08); attempts += 1 end; local t2 = TweenService:Create(hrp,TweenInfo.new(0.15,Enum.EasingStyle.Linear),{CFrame=back}); t2:Play(); t2.Completed:Wait(); return true end
local function walkSafePath(targetIndex) local hrp = getHRP(); if not hrp then return end; local moveDirection = (targetIndex > safeIndex) and 1 or -1; while safeIndex ~= targetIndex and isFarming do local nextIndex = safeIndex + moveDirection; local decidedIndex = getTsunamiEvasionPath(hrp, safeIndex, nextIndex); if decidedIndex < safeIndex then safeIndex = decidedIndex else safeIndex = nextIndex end; tweenTo(SAFE_POSITIONS[safeIndex]); hrp = getHRP(); if not hrp then break end end end
local function silentWatcher(rarity) while isFarming and selectedRarities[rarity] do local folder = workspace.ActiveBrainrots:FindFirstChild(rarity); if folder and #folder:GetChildren() > 0 then if not spottedTargets[rarity] then spottedTargets[rarity] = folder:GetChildren()[1]; setStatus("لقيته!: " .. rarity) end else spottedTargets[rarity] = nil end; task.wait(1) end; spottedTargets[rarity] = nil end


task.spawn(function()
    while true do
        RunService.Heartbeat:Wait() 
        if not isFarming then continue end

        
        if selectedRarities["Celestial"] and spottedTargets.Celestial then
            setStatus("يلا نروح عند سلستيال...")
            walkSafePath(11)
            local target = spottedTargets.Celestial
            local folder = target and target.Parent
            if target and folder then
                microTeleportCollect(target)
                setStatus("خدنا الشخصيه لحظه نتاكد..")
                
                local removed = false
                local conn = folder.ChildRemoved:Connect(function(child)
                    if child == target then removed = true end
                end)
                
                local timeout = 0
                while not removed and timeout < 10 and isFarming do
                    timeout += RunService.Heartbeat:Wait() 
                end
                
                conn:Disconnect()
                spottedTargets.Celestial = nil
                
                tweenTo(START_POSITION, 500); safeIndex = 1
                setStatus("امورك تمام يسطا")
            end
            continue
        end

        
        if selectedRarities["Divine"] and spottedTargets.Divine then
            local target = spottedTargets.Divine
            local folder = target and target.Parent
            if target and folder and target.PrimaryPart then
                local closestZoneIndex, minDistance = nil, DIVINE_PROXIMITY_RANGE
                for i, pos in ipairs(SAFE_POSITIONS) do
                    local dist = (target.PrimaryPart.Position - pos).Magnitude
                    if dist < minDistance then minDistance = dist; closestZoneIndex = i end
                end
                if closestZoneIndex then
                    setStatus("Divine قريب! يلا نتحرك للمنطقة " .. closestZoneIndex)
                    walkSafePath(closestZoneIndex)
                    if target and target.Parent then
                        microTeleportCollect(target)
                        setStatus("خدنا الشخصيه ثواني نتاكد من حاجة..")

                        local removed = false
                        local conn = folder.ChildRemoved:Connect(function(child)
                            if child == target then removed = true end
                        end)

                        local timeout = 0
                        while not removed and timeout < 10 and isFarming do
                            timeout += RunService.Heartbeat:Wait() -- Check every frame
                        end

                        conn:Disconnect()
                        spottedTargets.Divine = nil

                        tweenTo(START_POSITION, 500); safeIndex = 1
                        setStatus("ثواني نتاكد خدتها ولا لا.")
                    end
                    continue
                end
            end
        end

        
        if selectedRarities["Secret"] then
            setStatus("هندور علي  Secret...")
            walkSafePath(math.random(9, 11))
            local secret_folder = workspace.ActiveBrainrots:FindFirstChild("Secret")
            if secret_folder then
                for _, m in pairs(secret_folder:GetChildren()) do
                    if m and m.PrimaryPart and (getHRP().Position - m.PrimaryPart.Position).Magnitude < 120 then
                        if microTeleportCollect(m) then
                            secretCounter += 1; updateSecretCounterLabel()
                            if secretCounter >= SECRET_LIMIT then
                                tweenTo(START_POSITION, 500); secretCounter = 0; updateSecretCounterLabel(); safeIndex = 1
                                setStatus("جمعنا 6 سيكريت ب صلاه ع نبي هنروح البيت")
                            end
                            break
                        end
                    end
                end
            end
        else
            setStatus("جاهزين ياباشا...")
        end
    end
end)


LocalPlayer.CharacterAdded:Connect(function()
    task.wait(2)
    safeIndex = 1
    resetCharacterState()
    if isFarming then
        setStatus("ياعيني صاحبنا مات-_- هنعيد المحاولة")
    end
end)
startBtn.MouseButton1Click:Connect(function()
    isFarming = not isFarming
    if isFarming then
        startBtn.Text = "وقف): "; startBtn.BackgroundColor3 = Color3.fromRGB(60,170,90)
        if selectedRarities["Celestial"] then task.spawn(function() silentWatcher("Celestial") end) end
        if selectedRarities["Divine"] then task.spawn(function() silentWatcher("Divine") end) end
    else
        startBtn.Text = "ابدا $_$"; startBtn.BackgroundColor3 = Color3.fromRGB(180,50,50); setStatus("واقف): ")
    end
end)
vipBtn.MouseButton1Click:Connect(function() local function deleteVIPWalls(parent) for _, child in pairs(parent:GetChildren()) do if child.Name == "VIPWalls" then child:Destroy() else deleteVIPWalls(child) end end end; local vipWalls = workspace:FindFirstChild("DefaultMap_SharedInstances"); if vipWalls and vipWalls:FindFirstChild("VIPWalls") then vipWalls.VIPWalls:Destroy() else deleteVIPWalls(workspace) end end)

local player = game.Players.LocalPlayer
local RunService = game:GetService("RunService")

local noclip = false


local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame")
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.Size = UDim2.new(0, 220, 0, 130)
Frame.Active = true
Frame.Draggable = true
Frame.BorderSizePixel = 0

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 12)

local Title = Instance.new("TextLabel")
Title.Parent = Frame
Title.Text = "سكربت المساعد لسكربت التجميع التلقائي" 
Title.Size = UDim2.new(1, 0, 0, 35)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(0, 170, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18

local Credit = Instance.new("TextLabel")
Credit.Parent = Frame
Credit.Text = "Made by Fares"
Credit.Position = UDim2.new(0, 0, 0.75, 0)
Credit.Size = UDim2.new(1, 0, 0, 25)
Credit.BackgroundTransparency = 1
Credit.TextColor3 = Color3.fromRGB(200, 200, 200)
Credit.Font = Enum.Font.Gotham
Credit.TextSize = 13

local Button = Instance.new("TextButton")
Button.Parent = Frame
Button.Size = UDim2.new(0.8, 0, 0, 40)
Button.Position = UDim2.new(0.1, 0, 0.35, 0)
Button.Text = "المساعد : OFF"
Button.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.Font = Enum.Font.GothamBold
Button.TextSize = 16
Button.BorderSizePixel = 0

local UICorner2 = Instance.new("UICorner", Button)
UICorner2.CornerRadius = UDim.new(0, 10)


RunService.Stepped:Connect(function()
	if noclip and player.Character then
		for _, v in pairs(player.Character:GetDescendants()) do
			if v:IsA("BasePart") then
				v.CanCollide = false
			end
		end
	end
end)

Button.MouseButton1Click:Connect(function()
	noclip = not noclip
	
	if noclip then
		Button.Text = "المساعد : ON"
		Button.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
	else
		Button.Text = "المساعد : OFF"
		Button.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
	end
end)



end})

GGTab:CreateButton({
    Name = " (لازم نت قوي)تشغيل سكربت تجميع الشخصيات تلقائي",
    Callback = function()



            
                

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local isFarming = false
local selectedRarities = {}
local fireCount = 0
local celestialCount = 0
local movementId = 0
local isDodging = false
local homeTarget = nil
local isCollecting = false

local MAX_FIRE_PER_CYCLE = 10
local MAX_CELESTIAL = 4
local DETECTION_RANGE = 200
local FIXED_SAFE_POINT = Vector3.new(128.3185577392578, 3.1799826622009277, 30.747282028198242)

local BRAINROT_TYPES = {"Celestial","Secret","Mythical","Legendary","Epic","Rare","Uncommon","Common","Cosmic"}


local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0,300,0,260)
frame.Position = UDim2.new(0.5,-150,0.5,-130)
frame.BackgroundColor3 = Color3.fromRGB(30,30,35)
frame.Active = true
frame.Draggable = true
Instance.new("UICorner",frame)

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1,0,0,30)
title.Text = "تجميع الشخصيات تلقائي من صنع فارس"
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundColor3 = Color3.fromRGB(45,45,55)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
Instance.new("UICorner",title)

local scroll = Instance.new("ScrollingFrame", frame)
scroll.Size = UDim2.new(0.9,0,0,150)
scroll.Position = UDim2.new(0.05,0,0,40)
scroll.CanvasSize = UDim2.new(0,0,0,0)

local grid = Instance.new("UIGridLayout", scroll)
grid.CellSize = UDim2.new(0.48,0,0,35)
grid.CellPadding = UDim2.new(0.02,0,0.02,0)

local startBtn = Instance.new("TextButton", frame)
startBtn.Size = UDim2.new(0.9,0,0,40)
startBtn.Position = UDim2.new(0.05,0,1,-85)
startBtn.Text = "بدء"
startBtn.Font = Enum.Font.GothamBold
startBtn.TextSize = 18
startBtn.BackgroundColor3 = Color3.fromRGB(180,50,50)
startBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner",startBtn)

local status = Instance.new("TextLabel", frame)
status.Size = UDim2.new(0.9,0,0,25)
status.Position = UDim2.new(0.05,0,1,-35)
status.Text = "جاهز"
status.Font = Enum.Font.Gotham
status.TextSize = 14
status.TextColor3 = Color3.fromRGB(200,200,200)
status.BackgroundColor3 = Color3.fromRGB(45,45,55)
Instance.new("UICorner",status)

for _, rarity in ipairs(BRAINROT_TYPES) do
    local b = Instance.new("TextButton", scroll)
    b.Text = rarity
    b.Font = Enum.Font.Gotham
    b.TextColor3 = Color3.new(1,1,1)
    b.BackgroundColor3 = Color3.fromRGB(80,80,80)
    Instance.new("UICorner",b)

    b.MouseButton1Click:Connect(function()
        selectedRarities[rarity] = not selectedRarities[rarity]
        b.BackgroundColor3 = selectedRarities[rarity] and Color3.fromRGB(50,160,80) or Color3.fromRGB(80,80,80)
    end)
end
task.wait()
scroll.CanvasSize = UDim2.new(0,0,0,grid.AbsoluteContentSize.Y)

local function setStatus(t)
    status.Text = t
end


local function findTsunamiWaves()
    local waves = {}
    for _, folder in pairs({workspace:FindFirstChild("ActiveTsunamis"), workspace:FindFirstChild("Tsunami")}) do
        if folder then
            for _, p in pairs(folder:GetDescendants()) do
                if p:IsA("BasePart") then
                    table.insert(waves,p)
                end
            end
        end
    end
    return waves
end

local function findSafeGapFromTsunami(tsunamiPos)
    local char = LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    local gaps = workspace.DefaultMap:FindFirstChild("Gaps")
    if not (hrp and gaps) then return end

    local bestGap, minDistance = nil, math.huge
    local awayDir = (hrp.Position - tsunamiPos).Unit

    for i=1,9 do
        local g = gaps:FindFirstChild("Gap"..i)
        if g and g:GetChildren()[2] then
            local pos = g:GetChildren()[2].Position
            local distance = (hrp.Position - pos).Magnitude
            local dirToGap = (pos - hrp.Position).Unit
            local dot = dirToGap:Dot(awayDir)

            if distance < minDistance and dot > -0.2 then
                minDistance = distance
                bestGap = pos
            end
        end
    end

    return bestGap
end

local function tacticalMove(targetPos)
    movementId += 1
    local currentMoveId = movementId

    local char = LocalPlayer.Character
    local root = char and char:FindFirstChild("HumanoidRootPart")
    if not root then return end

    local start = root.Position
    local goal = targetPos + Vector3.new(0,4,0)
    local dir = (goal - start)
    local step = 12
    local steps = math.floor(dir.Magnitude/step)

    for i=1,steps do
        if currentMoveId ~= movementId or not isFarming then return end
        root.CFrame = CFrame.new(start + dir.Unit * (step*i))
        task.wait(0.01)
    end

    if currentMoveId == movementId then
        root.CFrame = CFrame.new(goal)
    end
end



task.spawn(function()
    while true do
        if isFarming then
            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            local danger = false
            if hrp then
                for _, wave in pairs(findTsunamiWaves()) do
                    if (hrp.Position - wave.Position).Magnitude <= DETECTION_RANGE then
                        danger = true
                        isDodging = true
                        local safe = findSafeGapFromTsunami(wave.Position)
                        if safe then tacticalMove(safe) end
                        break
                    end
                end
            end
            if not danger then
                isDodging = false
            end
        end
        task.wait()
    end
end)

local function collectBrainrot(model)
    if not model or not model.Parent then return false end
    local prompt = model:FindFirstChildWhichIsA("ProximityPrompt", true)
    if not prompt then return false end

    local collected = false
    if not isDodging then
        pcall(function()
            fireproximityprompt(prompt)
            collected = true
        end)
    end
    return collected
end



task.spawn(function()
    while true do
        if isFarming then
            if fireCount >= MAX_FIRE_PER_CYCLE or celestialCount >= MAX_CELESTIAL then
                if not homeTarget then
                    homeTarget = FIXED_SAFE_POINT
                    setStatus("الرجوع للبيت...")
                end
                if not isDodging then tacticalMove(homeTarget) end
                local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                if hrp and (hrp.Position - homeTarget).Magnitude < 6 then
                    fireCount = 0
                    celestialCount = 0
                    homeTarget = nil
                    setStatus("دورة جديدة")
                end
            else
                if not isDodging then
                    local foundTarget, rarityName
                    for rarity,v in pairs(selectedRarities) do
                        if v then
                            if rarity == "Celestial" and celestialCount >= MAX_CELESTIAL then
                                continue
                            end
                            local folder = workspace.ActiveBrainrots:FindFirstChild(rarity)
                            if folder then
                                local model = folder:FindFirstChild("RenderedBrainrot")
                                if model and model.PrimaryPart then
                                    foundTarget = model
                                    rarityName = rarity
                                    break
                                end
                            end
                        end
                    end

                    if foundTarget then
                        setStatus("تم العثور على "..rarityName)
                        tacticalMove(foundTarget.PrimaryPart.Position)
                        local ok = collectBrainrot(foundTarget)
                        if ok then
                            fireCount += 1
                            if rarityName == "Celestial" then
                                celestialCount += 1
                            end
                            if rarityName == "Celestial" then
    setStatus("تم الالتقاط ("..celestialCount.."/"..MAX_CELESTIAL..")")
else
    setStatus("تم الالتقاط ("..fireCount.."/"..MAX_FIRE_PER_CYCLE..")")
end
                        end
                    else
                        
     

    
    if selectedRarities["Celestial"] then
        setStatus("في انتظار الهدف... ("..celestialCount.."/"..MAX_CELESTIAL..")")
    else
        setStatus("في انتظار الهدف... ("..fireCount.."/"..MAX_FIRE_PER_CYCLE..")")
    end
    task.wait(0.1)
end
                end
            end
        end
        task.wait(0.05)
    end
end)

startBtn.MouseButton1Click:Connect(function()
    isFarming = not isFarming
    if isFarming then
        fireCount = 0
        celestialCount = 0
        isDodging = false
        homeTarget = nil
        startBtn.Text = "إيقاف"
        startBtn.BackgroundColor3 = Color3.fromRGB(60,170,90)
        setStatus("في انتظار الهدف...")
    else
        startBtn.Text = "بدء"
        startBtn.BackgroundColor3 = Color3.fromRGB(180,50,50)
        setStatus("متوقف")
    end
end)


local player = game.Players.LocalPlayer
local RunService = game:GetService("RunService")

local noclip = false


local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame")
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.Size = UDim2.new(0, 220, 0, 130)
Frame.Active = true
Frame.Draggable = true
Frame.BorderSizePixel = 0

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 12)

local Title = Instance.new("TextLabel")
Title.Parent = Frame
Title.Text = "سكربت المساعد لسكربت التجميع التلقائي" 
Title.Size = UDim2.new(1, 0, 0, 35)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(0, 170, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18

local Credit = Instance.new("TextLabel")
Credit.Parent = Frame
Credit.Text = "Made by Fares"
Credit.Position = UDim2.new(0, 0, 0.75, 0)
Credit.Size = UDim2.new(1, 0, 0, 25)
Credit.BackgroundTransparency = 1
Credit.TextColor3 = Color3.fromRGB(200, 200, 200)
Credit.Font = Enum.Font.Gotham
Credit.TextSize = 13

local Button = Instance.new("TextButton")
Button.Parent = Frame
Button.Size = UDim2.new(0.8, 0, 0, 40)
Button.Position = UDim2.new(0.1, 0, 0.35, 0)
Button.Text = "المساعد : OFF"
Button.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.Font = Enum.Font.GothamBold
Button.TextSize = 16
Button.BorderSizePixel = 0

local UICorner2 = Instance.new("UICorner", Button)
UICorner2.CornerRadius = UDim.new(0, 10)


RunService.Stepped:Connect(function()
	if noclip and player.Character then
		for _, v in pairs(player.Character:GetDescendants()) do
			if v:IsA("BasePart") then
				v.CanCollide = false
			end
		end
	end
end)

Button.MouseButton1Click:Connect(function()
	noclip = not noclip
	
	if noclip then
		Button.Text = "المساعد : ON"
		Button.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
	else
		Button.Text = "المساعد : OFF"
		Button.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
	end
end)
end})

GGTab:CreateSection("© Copyright by FARES")

local smkTab = Window:CreateTab("الحماية من التسونامي V3", 4483362458)
    
    smkTab:CreateButton({
    Name = "تشغيل سكربت الحمايه من V2تسونامي من صنع فارس",
    Callback = function()
    
    



local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")

local player = Players.LocalPlayer
local camera = workspace.CurrentCamera


local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Fares_Ultimate_UI"
ScreenGui.Parent = CoreGui
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true


local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 310, 0, 175)
MainFrame.Position = UDim2.new(0.5, -155, 0.5, -87)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 12)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Active = true
MainFrame.Parent = ScreenGui

local MainCorner = Instance.new("UICorner", MainFrame)
MainCorner.CornerRadius = UDim.new(0, 14)

local MainStroke = Instance.new("UIStroke", MainFrame)
MainStroke.Color = Color3.fromRGB(40, 40, 50)
MainStroke.Thickness = 1.8
MainStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border


local Header = Instance.new("Frame")
Header.Name = "Header"
Header.Size = UDim2.new(1, 0, 0, 48)
Header.BackgroundColor3 = Color3.fromRGB(18, 18, 22)
Header.BorderSizePixel = 0
Header.Parent = MainFrame

local HeaderCorner = Instance.new("UICorner", Header)
HeaderCorner.CornerRadius = UDim.new(0, 14)

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -80, 1, 0)
Title.Position = UDim2.new(0, 18, 0, 0)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.Text = "منع الموت من تسونامي"
Title.TextColor3 = Color3.fromRGB(240, 240, 245)
Title.TextSize = 15
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header


local FaresTag = Instance.new("TextLabel")
FaresTag.Size = UDim2.new(0, 85, 0, 24)
FaresTag.Position = UDim2.new(1, -135, 0.5, -12)
FaresTag.BackgroundColor3 = Color3.fromRGB(60, 110, 255)
FaresTag.Font = Enum.Font.GothamBold
FaresTag.Text = "BY FARES"
FaresTag.TextColor3 = Color3.fromRGB(255, 255, 255)
FaresTag.TextSize = 12
FaresTag.Parent = Header

local TagCorner = Instance.new("UICorner", FaresTag)
TagCorner.CornerRadius = UDim.new(0, 6)

local TagStroke = Instance.new("UIStroke", FaresTag)
TagStroke.Color = Color3.fromRGB(255, 255, 255)
TagStroke.Transparency = 0.7
TagStroke.Thickness = 1


local Content = Instance.new("Frame")
Content.Name = "Content"
Content.Size = UDim2.new(1, 0, 1, -48)
Content.Position = UDim2.new(0, 0, 0, 48)
Content.BackgroundTransparency = 1
Content.Parent = MainFrame

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(1, 0, 0, 25)
StatusLabel.Position = UDim2.new(0, 0, 0, 12)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.GothamMedium
StatusLabel.Text = "STATUS: WAITING"
StatusLabel.TextColor3 = Color3.fromRGB(140, 140, 145)
StatusLabel.TextSize = 11
StatusLabel.Parent = Content


local ToggleBtn = Instance.new("TextButton")
ToggleBtn.Name = "ToggleBtn"
ToggleBtn.Size = UDim2.new(0, 250, 0, 52)
ToggleBtn.Position = UDim2.new(0.5, -125, 0, 48)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
ToggleBtn.AutoButtonColor = true
ToggleBtn.Font = Enum.Font.GothamBold
ToggleBtn.Text = "ENABLE "
ToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleBtn.TextSize = 13
ToggleBtn.Parent = Content

local BtnCorner = Instance.new("UICorner", ToggleBtn)
BtnCorner.CornerRadius = UDim.new(0, 10)

local BtnStroke = Instance.new("UIStroke", ToggleBtn)
BtnStroke.Color = Color3.fromRGB(60, 110, 255)
BtnStroke.Thickness = 1.5


local Footer = Instance.new("TextLabel")
Footer.Size = UDim2.new(1, 0, 0, 20)
Footer.Position = UDim2.new(0, 0, 1, -18)
Footer.BackgroundTransparency = 1
Footer.Font = Enum.Font.GothamMedium
Footer.Text = "ملحوظة:ممنوع النط لانك هتموت نط عندما تكون بعيد عن تسونامي"
Footer.TextColor3 = Color3.fromRGB(80, 80, 85)
Footer.TextSize = 15
Footer.Parent = Content




local isGodmode = false
local ghostClone, connection, noclipConn, deathConn = nil, nil, nil, nil
local lastPromptUpdate = 0


local function updateUI(enabled)
    if enabled then
        TweenService:Create(ToggleBtn, TweenInfo.new(0.4), {BackgroundColor3 = Color3.fromRGB(60, 110, 255)}):Play()
        ToggleBtn.Text = "DISABLE "
        StatusLabel.Text = "STATUS: WORKING"
        StatusLabel.TextColor3 = Color3.fromRGB(80, 255, 150)
    else
        TweenService:Create(ToggleBtn, TweenInfo.new(0.4), {BackgroundColor3 = Color3.fromRGB(25, 25, 30)}):Play()
        ToggleBtn.Text = "ENABLE "
        StatusLabel.Text = "STATUS: WAITING"
        StatusLabel.TextColor3 = Color3.fromRGB(140, 140, 145)
    end
end

local function cleanup()
    isGodmode = false
    updateUI(false) 
    
    if connection then connection:Disconnect() connection = nil end
    if noclipConn then noclipConn:Disconnect() noclipConn = nil end
    if deathConn then deathConn:Disconnect() deathConn = nil end
    
    local char = player.Character
    if char then
        local root = char:FindFirstChild("HumanoidRootPart")
        if root and ghostClone then root.CFrame = ghostClone.HumanoidRootPart.CFrame end
        if char:FindFirstChild("Humanoid") then 
            char.Humanoid.PlatformStand = false 
            camera.CameraSubject = char.Humanoid 
        end
    end
    if ghostClone then ghostClone:Destroy() ghostClone = nil end
end

local function enableGodmode()
    local char = player.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") or not char:FindFirstChild("Humanoid") then return end
    
    cleanup() 
    isGodmode = true
    updateUI(true)
    
    char.Archivable = true
    ghostClone = char:Clone()
    ghostClone.Name = "Fares_Protection"
    ghostClone.Parent = workspace
    char.Archivable = false
    
    for _, v in pairs(ghostClone:GetDescendants()) do
        if v:IsA("BasePart") then
            v.Transparency = (v.Name:lower():find("root") or v.Name:lower():find("collision")) and 0.5 or 0
            v.CanCollide = true
        elseif v:IsA("Decal") or v:IsA("Texture") then
            v.Transparency = 0
        end
    end

    if char:FindFirstChild("Animate") then char.Animate:Clone().Parent = ghostClone end
    char.Humanoid.PlatformStand = true
    camera.CameraSubject = ghostClone.Humanoid
    
local function syncAnimations()
    if not char:FindFirstChildOfClass("Humanoid") or not ghostClone:FindFirstChildOfClass("Humanoid") then return end

    local realHumanoid = char:FindFirstChildOfClass("Humanoid")
    local cloneHumanoid = ghostClone:FindFirstChildOfClass("Humanoid")

    local realAnimator = realHumanoid:FindFirstChildOfClass("Animator")
    local cloneAnimator = cloneHumanoid:FindFirstChildOfClass("Animator") or Instance.new("Animator", cloneHumanoid)

    for _, track in pairs(realAnimator:GetPlayingAnimationTracks()) do
        local newTrack = cloneAnimator:LoadAnimation(track.Animation)
        newTrack:Play()
        newTrack.TimePosition = track.TimePosition
    end
end

syncAnimations()

    deathConn = char.Humanoid.Died:Connect(function()
        cleanup() -- Automatically turns off the button and cleans up
    end)
    
    noclipConn = RunService.Stepped:Connect(function()
        if char then
            for _, v in pairs(char:GetDescendants()) do
                if v:IsA("BasePart") then v.CanCollide = false end
            end
        end
    end)

    connection = RunService.Heartbeat:Connect(function()
        if ghostClone and char and char:FindFirstChild("HumanoidRootPart") then
            local moveDir = char.Humanoid.MoveDirection
            ghostClone.Humanoid:Move(moveDir, false)
            ghostClone.Humanoid.Jump = char.Humanoid.Jump
            if moveDir.Magnitude > 0 then
                local targetRot = CFrame.lookAt(ghostClone.HumanoidRootPart.Position, ghostClone.HumanoidRootPart.Position + moveDir)
                ghostClone.HumanoidRootPart.CFrame = ghostClone.HumanoidRootPart.CFrame:Lerp(targetRot, 0.25)
            end
            if tick() - lastPromptUpdate > 0.5 then
                for _, p in pairs(workspace:GetDescendants()) do
                    if p:IsA("ProximityPrompt") then
                        p.MaxActivationDistance = 25
                        p.RequiresLineOfSight = false
                    end
                end
                lastPromptUpdate = tick()
            end
            char.HumanoidRootPart.CFrame = ghostClone.HumanoidRootPart.CFrame * CFrame.new(0, -15, 0)
            char.HumanoidRootPart.Velocity = Vector3.zero
        else 
            cleanup() 
        end
    end)
end


local dragging, dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

Header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)

Header.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then update(input) end
end)


ToggleBtn.Activated:Connect(function()
    if not isGodmode then
        enableGodmode()
    else
        cleanup()
    end
end)

CloseBtn.Activated:Connect(function()
    cleanup()
    local fadeOut = TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quart, Enum.EasingDirection.In), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = MainFrame.Position + UDim2.new(0, 155, 0, 87),
        BackgroundTransparency = 1
    })
    fadeOut:Play()
    fadeOut.Completed:Wait()
    ScreenGui:Destroy()
end)


MainFrame.Size = UDim2.new(0, 0, 0, 0)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
TweenService:Create(MainFrame, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
    Size = UDim2.new(0, 310, 0, 175),
    Position = UDim2.new(0.5, -155, 0.5, -87)
}):Play()

end})
    
smkTab:CreateButton({
    Name = "يحميك من تسونامي واحد بس",
    Callback = function()



local ScreenGui = Instance.new("ScreenGui", game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "GodModeUI"
ScreenGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 220, 0, 80)
MainFrame.Position = UDim2.new(0.5, -110, 0.1, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.BorderColor3 = Color3.fromRGB(255, 215, 0)
MainFrame.BorderSizePixel = 1
MainFrame.Active = true
MainFrame.Draggable = true

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 20)
Title.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
Title.Text = "سكربت يحميك من اول تسونامي او ثاني تسونامي من صنع فارس ( لو صار مشاكل سوي off ثم on) "
Title.TextColor3 = Color3.fromRGB(255, 215, 0)
Title.Font = Enum.Font.SourceSansBold

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(0.8, 0, 0, 40)
ToggleButton.Position = UDim2.new(0.1, 0, 0.35, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(190, 40, 40)
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.Text = "OFF"
ToggleButton.Font = Enum.Font.GothamBold


local GOD_MODE_ENABLED = false
local connections = {}
local original_namecall

local function enableGodMode(char)
    
    local humanoid = char:WaitForChild("Humanoid")

    
    connections.heartbeat = game:GetService("RunService").Heartbeat:Connect(function()
        if humanoid and humanoid.Parent then
            humanoid.MaxHealth = 100
            humanoid.Health = 100
        end
    end)

    
    connections.healthChanged = humanoid.HealthChanged:Connect(function()
        if humanoid.Health < 100 then
            humanoid.Health = 100
        end
    end)

    
    pcall(function()
        local mt = getrawmetatable(humanoid)
        original_namecall = original_namecall or mt.__namecall
        setreadonly(mt, false)
        mt.__namecall = newcclosure(function(self, ...)
            local method = getnamecallmethod()
            if string.find(string.lower(method), "damage") or string.find(string.lower(method), "health") then
                return
            end
            return original_namecall(self, ...)
        end)
        setreadonly(mt, true)
    end)
end

local function disableGodMode()
    for _, conn in pairs(connections) do
        conn:Disconnect()
    end
    connections = {}

    pcall(function()
        local char = game:GetService("Players").LocalPlayer.Character
        local humanoid = char and char:FindFirstChildOfClass("Humanoid")
        if humanoid and original_namecall then
            local mt = getrawmetatable(humanoid)
            setreadonly(mt, false)
            mt.__namecall = original_namecall
            setreadonly(mt, true)
        end
    end)
end

local function onCharacter(char)
    if GOD_MODE_ENABLED then
        
        enableGodMode(char)
    end
end

ToggleButton.MouseButton1Click:Connect(function()
    GOD_MODE_ENABLED = not GOD_MODE_ENABLED
    
    if GOD_MODE_ENABLED then
        ToggleButton.Text = "ON"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(40, 160, 70)
        local char = game:GetService("Players").LocalPlayer.Character
        if char then enableGodMode(char) end
    else
        ToggleButton.Text = "OFF"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(190, 40, 40)
        disableGodMode()
    end
end)


local LocalPlayer = game:GetService("Players").LocalPlayer
if LocalPlayer.Character then
    onCharacter(LocalPlayer.Character)
end
LocalPlayer.CharacterAdded:Connect(onCharacter)
end})
smkTab:CreateSection("© Copyright by FARES")

    local FaresTab = Window:CreateTab("AutoCollect_ByFares", 4483362458)
    
FaresTab:CreateButton({
    Name = "تجميع الفلوس تلقاءي من صنع فارس",
    Callback = function()
        -- سكربت كوليكت




local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

if PlayerGui:FindFirstChild("AutoCollectGUI_Fares") then
    PlayerGui.AutoCollectGUI_Fares:Destroy()
end


local ScreenGui = Instance.new("ScreenGui", PlayerGui); ScreenGui.Name = "AutoCollectGUI_Fares"; ScreenGui.ResetOnSpawn = false; ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
local MainFrame = Instance.new("Frame", ScreenGui); MainFrame.BackgroundColor3 = Color3.fromRGB(30, 32, 38); MainFrame.Size = UDim2.new(0, 240, 0, 155); MainFrame.Position = UDim2.new(0.5, -120, 0.5, -77); MainFrame.Active = true; MainFrame.Draggable = true; Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 8); local stroke = Instance.new("UIStroke", MainFrame); stroke.Color = Color3.fromRGB(80, 82, 90); stroke.Thickness = 1.5
local Header = Instance.new("Frame", MainFrame); Header.BackgroundColor3 = Color3.fromRGB(40, 42, 48); Header.Size = UDim2.new(1, 0, 0, 32); Instance.new("UICorner", Header).CornerRadius = UDim.new(0, 8); local grad = Instance.new("UIGradient", Header); grad.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.fromRGB(55, 58, 64)), ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 42, 48))}); grad.Rotation = 90
local TitleLabel = Instance.new("TextLabel", Header); TitleLabel.BackgroundTransparency = 1; TitleLabel.Size = UDim2.new(1, 0, 1, 0); TitleLabel.Font = Enum.Font.GothamBold; TitleLabel.Text = "Script autocollect by Fares"; TitleLabel.TextColor3 = Color3.fromRGB(220, 221, 222); TitleLabel.TextSize = 16
local ToggleButton = Instance.new("TextButton", MainFrame); ToggleButton.BackgroundColor3 = Color3.fromRGB(231, 76, 60); ToggleButton.Position = UDim2.new(0.5, -50, 0, 42); ToggleButton.Size = UDim2.new(0, 100, 0, 28); ToggleButton.Font = Enum.Font.GothamBold; ToggleButton.Text = "OFF"; ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255); ToggleButton.TextSize = 18; Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 6)
local NoteLabel = Instance.new("TextLabel", MainFrame); NoteLabel.BackgroundTransparency = 1; NoteLabel.Position = UDim2.new(0.05, 0, 0, 78); NoteLabel.Size = UDim2.new(0.9, 0, 0, 48); NoteLabel.Font = Enum.Font.SourceSans; NoteLabel.Text = 'ملاحظة: لازم بيتك يكون كامل ومصمم من 3 أدوار وفي كل دور brainrot، إلا ممكن تحتاج تعمل كتير  (OFF/ON) او هتفضل AFK بس لازم تشغل سكربت antiafk ( حاجه مهمة لازم تكون داخل بيتك عشان يشتغل  بكفاءه و يجمع الفلوس).'; NoteLabel.TextColor3 = Color3.fromRGB(255, 193, 7); NoteLabel.TextSize = 12; NoteLabel.TextWrapped = true; NoteLabel.TextXAlignment = Enum.TextXAlignment.Center


local StatusBar = Instance.new("TextLabel", MainFrame)
StatusBar.Size = UDim2.new(1, 0, 0, 20)
StatusBar.Position = UDim2.new(0, 0, 1, -20) -- Positioned at the very bottom
StatusBar.BackgroundColor3 = Color3.fromRGB(80, 82, 90) -- Neutral color
StatusBar.Font = Enum.Font.Gotham
StatusBar.TextColor3 = Color3.fromRGB(255, 255, 255)
StatusBar.Text = "الحالة: جاهز"
StatusBar.TextSize = 12
local statusCorner = Instance.new("UICorner", StatusBar); statusCorner.CornerRadius = UDim.new(0, 8)


local function updateStatus(text, color)
    StatusBar.Text = "الحالة: " .. text
    StatusBar.BackgroundColor3 = color
end


local COLLECT_ENABLED = false
local TargetBase = nil 
local originalJumpPower = 50
local jumpPowerConnection = nil
local JUMP_THREAD_ACTIVE = false
local originalCollisions = {}
local FlySpeed = 100
local LandingSpeed = 20
local BodyGyro, BodyVelocity

local function setNoclip(state)
    local character = LocalPlayer.Character
    if not character then return end
    if state then
        originalCollisions = {}
        for _, part in ipairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                originalCollisions[part] = part.CanCollide
                part.CanCollide = false
            end
        end
    else
        for part, canCollide in pairs(originalCollisions) do
            if part and part.Parent then part.CanCollide = canCollide end
        end
        originalCollisions = {}
    end
end

local function findBasePlayerIsInside()
    updateStatus("...جاري البحث عن بيتك", Color3.fromRGB(80, 82, 90))
    local character = LocalPlayer.Character
    local hrp = character and character:FindFirstChild("HumanoidRootPart")
    if not hrp then updateStatus("خطأ: لم يتم العثور على شخصيتك", Color3.fromRGB(231, 76, 60)); return nil end

    local basesFolder = Workspace:WaitForChild("Bases", 10)
    if not basesFolder then updateStatus("خطأ: لم يتم العثور على مجلد البيوت", Color3.fromRGB(231, 76, 60)); return nil end

    for _, base in ipairs(basesFolder:GetChildren()) do
        if base:IsA("Model") and #base:GetChildren() > 0 then
            local cframe, size = base:GetBoundingBox()
            local relativePos = cframe:PointToObjectSpace(hrp.Position)
            if (math.abs(relativePos.X) <= size.X / 2) and (math.abs(relativePos.Y) <= size.Y / 2) and (math.abs(relativePos.Z) <= size.Z / 2) then
                updateStatus("تم العثور على بيتك! جاري التجميع...", Color3.fromRGB(46, 204, 113))
                return base
            end
        end
    end

    updateStatus("اذهب إلى بيتك ثم اضغط ON", Color3.fromRGB(255, 193, 7))
    return nil
end

local function flyToTarget(targetPart)
    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart or not targetPart then return end
    if not BodyGyro or not BodyGyro.Parent then BodyGyro = Instance.new("BodyGyro", rootPart); BodyGyro.P = 20000; BodyGyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge) end
    if not BodyVelocity or not BodyVelocity.Parent then BodyVelocity = Instance.new("BodyVelocity", rootPart); BodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge) end
    local approachPosition = targetPart.Position + Vector3.new(0, 8, 0)
    while COLLECT_ENABLED and targetPart and targetPart.Parent and (rootPart.Position - approachPosition).Magnitude > 5 do
        updateStatus("... يتم التجميع الان", Color3.fromRGB(52, 152, 219))
        local direction = (approachPosition - rootPart.Position).Unit; BodyGyro.CFrame = CFrame.new(rootPart.Position, approachPosition); BodyVelocity.Velocity = direction * FlySpeed; RunService.Heartbeat:Wait()
    end
    if not COLLECT_ENABLED then return end
    local targetPosition = targetPart.Position
    while COLLECT_ENABLED and targetPart and targetPart.Parent and (rootPart.Position - targetPosition).Magnitude > 0.5 do
        local direction = (targetPosition - rootPart.Position).Unit; BodyGyro.CFrame = CFrame.new(rootPart.Position, targetPosition); BodyVelocity.Velocity = direction * LandingSpeed; RunService.Heartbeat:Wait()
    end
    if BodyVelocity then BodyVelocity.Velocity = Vector3.new(0, 0, 0) end
end

ToggleButton.MouseButton1Click:Connect(function()
    COLLECT_ENABLED = not COLLECT_ENABLED
    JUMP_THREAD_ACTIVE = COLLECT_ENABLED
    ToggleButton.BackgroundColor3 = COLLECT_ENABLED and Color3.fromRGB(46, 204, 113) or Color3.fromRGB(231, 76, 60)
    ToggleButton.Text = COLLECT_ENABLED and "ON" or "OFF"
    local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end
    setNoclip(COLLECT_ENABLED)
    if COLLECT_ENABLED then
        TargetBase = findBasePlayerIsInside()
        if not TargetBase then
            COLLECT_ENABLED = false; JUMP_THREAD_ACTIVE = false; ToggleButton.BackgroundColor3 = Color3.fromRGB(231, 76, 60); ToggleButton.Text = "OFF"; setNoclip(false); return
        end
        originalJumpPower = humanoid.JumpPower; humanoid.UseJumpPower = true; humanoid.JumpPower = 1
        jumpPowerConnection = humanoid:GetPropertyChangedSignal("JumpPower"):Connect(function() if humanoid.JumpPower ~= 1 then humanoid.JumpPower = 1 end end)
    else
        updateStatus("متوقف", Color3.fromRGB(80, 82, 90))
        TargetBase = nil; if jumpPowerConnection then jumpPowerConnection:Disconnect() end; if BodyGyro then BodyGyro:Destroy() end; if BodyVelocity then BodyVelocity:Destroy() end; humanoid.JumpPower = originalJumpPower
    end
end)


coroutine.wrap(function() local cps = 7; local interval = 1 / cps; while true do if JUMP_THREAD_ACTIVE then local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid"); if humanoid then humanoid:ChangeState(Enum.HumanoidStateType.Jumping) end end; task.wait(interval) end end)()
coroutine.wrap(function() while true do if COLLECT_ENABLED and TargetBase and TargetBase.Parent then local slotsFolder = TargetBase:FindFirstChild("Slots"); if slotsFolder then local slotsTable = slotsFolder:GetChildren(); table.sort(slotsTable, function(a, b) local numA, numB = tonumber(a.Name), tonumber(b.Name); if numA and numB then return numA < numB end; return a.Name < b.Name end); for _, slot in ipairs(slotsTable) do if not COLLECT_ENABLED then break end; local targetPart = slot:FindFirstChild("Collect"); if targetPart and targetPart:IsA("BasePart") then flyToTarget(targetPart); task.wait(0.2) end end end end; task.wait(0.5) end end)()


    end
})


FaresTab:CreateButton({
    Name = "تجميع الفلوس تلقاءي من صنع فارس (نسخة اسرع) ",
    Callback = function()



local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local Workspace = game:GetService("Workspace")

if PlayerGui:FindFirstChild("AutoCollectGUI_Fares") then
    PlayerGui.AutoCollectGUI_Fares:Destroy()
end

local ScreenGui = Instance.new("ScreenGui", PlayerGui)
ScreenGui.Name = "AutoCollectGUI_Fares"
ScreenGui.ResetOnSpawn = false 
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 32, 38)
MainFrame.Size = UDim2.new(0, 240, 0, 130)
MainFrame.Position = UDim2.new(0.5, -120, 0.5, -65)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 8)
Instance.new("UIStroke", MainFrame).Color = Color3.fromRGB(80, 82, 90)
Instance.new("UIStroke", MainFrame).Thickness = 1.5

local Header = Instance.new("Frame", MainFrame)
Header.BackgroundColor3 = Color3.fromRGB(40, 42, 48)
Header.Size = UDim2.new(1, 0, 0, 32)
Instance.new("UICorner", Header).CornerRadius = UDim.new(0, 8)
local UIGradient_Header = Instance.new("UIGradient", Header)
UIGradient_Header.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.fromRGB(55, 58, 64)), ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 42, 48))})
UIGradient_Header.Rotation = 90

local TitleLabel = Instance.new("TextLabel", Header)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Size = UDim2.new(1, 0, 1, 0)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.Text = "Script autocollect by Fares"
TitleLabel.TextColor3 = Color3.fromRGB(220, 221, 222)
TitleLabel.TextSize = 16

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.BackgroundColor3 = Color3.fromRGB(231, 76, 60)
ToggleButton.Position = UDim2.new(0.5, -50, 0, 42)
ToggleButton.Size = UDim2.new(0, 100, 0, 28)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "OFF"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 18
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 6)
local UIStroke_Button = Instance.new("UIStroke", ToggleButton)
UIStroke_Button.Color = Color3.fromRGB(255, 255, 255)
UIStroke_Button.Thickness = 1
UIStroke_Button.Transparency = 0.5

local NoteLabel = Instance.new("TextLabel", MainFrame)
NoteLabel.BackgroundTransparency = 1
NoteLabel.Position = UDim2.new(0.05, 0, 0, 78)
NoteLabel.Size = UDim2.new(0.9, 0, 0, 48)
NoteLabel.Font = Enum.Font.SourceSans

NoteLabel.Text = 'ملاحظة: لازم بيتك يكون كامل ومصمم من 3 أدوار وفي كل دور brainrot، إلا ممكن تحتاج تعمل كتير  (OFF/ON) او هتفضل AFK بس لازم تشغل سكربت antiafk ( حاجه مهمة لازم تكون داخل بيتك عشان يشتغل  بكفاءه و يجمع الفلوس).' 


NoteLabel.TextColor3 = Color3.fromRGB(255, 193, 7)
NoteLabel.TextSize = 12
NoteLabel.TextWrapped = true
NoteLabel.TextXAlignment = Enum.TextXAlignment.Center

local SCRIPT_ENABLED = false
local TargetBase = nil 

local function identifyClosestBase()
    if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then return nil end
    local playerPosition = LocalPlayer.Character.HumanoidRootPart.Position
    local minDistance = math.huge
    local foundBase = nil
    local basesFolder = Workspace:FindFirstChild("Bases")
    if not basesFolder then return nil end
    for _, base in ipairs(basesFolder:GetChildren()) do
        if base:IsA("Model") and base:FindFirstChild("Slots") and base.PrimaryPart then
            local distance = (playerPosition - base.PrimaryPart.Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                foundBase = base
            end
        end
    end
    return foundBase
end

local function teleportToTarget(targetPart)
    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart or not targetPart or not targetPart.Parent then return end
    rootPart.CFrame = CFrame.new(targetPart.Position) * CFrame.new(0, 3, 0)
end

ToggleButton.MouseButton1Click:Connect(function()
    SCRIPT_ENABLED = not SCRIPT_ENABLED
    local onColor = Color3.fromRGB(46, 204, 113)
    local offColor = Color3.fromRGB(231, 76, 60)
    ToggleButton.BackgroundColor3 = SCRIPT_ENABLED and onColor or offColor
    ToggleButton.Text = SCRIPT_ENABLED and "ON" or "OFF"

    if SCRIPT_ENABLED then
        TargetBase = identifyClosestBase()
        if not TargetBase then
            warn(" بتشوف الكونسول لية؟ ") 
        end
    else
        TargetBase = nil
    end
end)

coroutine.wrap(function()
    while true do
        if SCRIPT_ENABLED and TargetBase and TargetBase.Parent then
            local slotsFolder = TargetBase:FindFirstChild("Slots")
            if slotsFolder then
                local slotsTable = slotsFolder:GetChildren()
                table.sort(slotsTable, function(a, b)
                    local numA, numB = tonumber(a.Name), tonumber(b.Name)
                    if numA and numB then return numA < numB end
                    return a.Name < b.Name
                end)
                
                for _, slot in ipairs(slotsTable) do
                    if not SCRIPT_ENABLED then break end
                    local targetPart = slot:FindFirstChild("Collect")
                    if targetPart and targetPart:IsA("BasePart") then
                        
                        
                        teleportToTarget(targetPart)
                        
                        
                        task.wait(0.1) 
                        
                        
                        
                        
                        
                        task.wait(0.1)
                    end
                end
            end
        end
        task.wait(0.1)
    end
end)()
end})

FaresTab:CreateParagraph({
        Title = "  ملاحظة مهمة بخصوص الاوتو كوليكت /التجميع التلقاءي",
        Content = "لازم تكون داخل بيتك و الا راح يصير لك قلتشات ولو رايح تنام و تترك الجهاز يجمع شغل سكربت Antiafk."
    })

FaresTab:CreateSection("© Copyright by FARES")

    local MiscTab = Window:CreateTab("MISC", 4483362458)
    local InfoTab = Window:CreateTab("INFO", 4483362458)

    
    MiscTab:CreateSection("مميزات جديدة! ")
    
    
    MiscTab:CreateButton({
    Name = "تجميع عملات حدث DOOM",
    Callback = function()
    
    

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")

LocalPlayer.CharacterAdded:Connect(function(char)
    Character = char
    HRP = char:WaitForChild("HumanoidRootPart")
end)

local CoreGui = game:GetService("CoreGui")
local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "DoomCollectorGUI_Fares"

local Frame = Instance.new("Frame", MainGui)
Frame.Size = UDim2.new(0, 260, 0, 110)
Frame.Position = UDim2.new(0.5, -130, 0.2, 0)
Frame.BackgroundColor3 = Color3.fromRGB(35,35,45)
Frame.Active = true
Frame.Draggable = true
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0,10)

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1,0,0,30)
Title.BackgroundTransparency = 1
Title.Text = "تجميع عملات دوم من صنع فارس"
Title.Font = Enum.Font.GothamBold
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.TextSize = 10

local Toggle = Instance.new("TextButton", Frame)
Toggle.Size = UDim2.new(1,-20,0,35)
Toggle.Position = UDim2.new(0,10,0,40)
Toggle.BackgroundColor3 = Color3.fromRGB(120,40,40)
Toggle.Text = "ابدا"
Toggle.Font = Enum.Font.GothamBold
Toggle.TextColor3 = Color3.fromRGB(255,255,255)
Toggle.TextSize = 16
Instance.new("UICorner", Toggle).CornerRadius = UDim.new(0,6)

local Status = Instance.new("TextLabel", Frame)
Status.Size = UDim2.new(1,-20,0,20)
Status.Position = UDim2.new(0,10,1,-25)
Status.BackgroundTransparency = 1
Status.Text = "الحالة: واقف"
Status.Font = Enum.Font.Code
Status.TextColor3 = Color3.fromRGB(200,200,255)
Status.TextSize = 12
Status.TextXAlignment = Enum.TextXAlignment.Left


local SPEED = 1000
local STEP = 0.02
local UNDERGROUND_OFFSET = -50
local WAIT_ON_COIN = 1


local function getCoins()
    local coins = {}
    for _, v in ipairs(workspace:GetDescendants()) do
        if v.Name == "Main" and v.Parent and v.Parent.Name == "DoomCoin" then
            table.insert(coins, v)
        end
    end
    return coins
end


local function tweenTo(pos)
    local distance = (HRP.Position - pos).Magnitude
    local time = distance / SPEED

    local tween = TweenService:Create(
        HRP,
        TweenInfo.new(time, Enum.EasingStyle.Linear),
        {CFrame = CFrame.new(pos)}
    )
    tween:Play()
    tween.Completed:Wait()
end


local function collectCoin(coin)
    if not coin or not coin.Parent then return end

    local coinPos = coin.Position

    
    tweenTo(Vector3.new(coinPos.X, coinPos.Y + UNDERGROUND_OFFSET, coinPos.Z))

    
    tweenTo(Vector3.new(coinPos.X, coinPos.Y + 3, coinPos.Z))

    
    pcall(function()
        firetouchinterest(HRP, coin, 0)
        firetouchinterest(HRP, coin, 1)
    end)

    
    task.wait(WAIT_ON_COIN)

    
    tweenTo(Vector3.new(coinPos.X, coinPos.Y + UNDERGROUND_OFFSET, coinPos.Z))
end

local running = false
local loopThread

local function startFarm()
    if loopThread then return end
    loopThread = task.spawn(function()
        while running do
            local coins = getCoins()
            if #coins > 0 then
                for _, coin in ipairs(coins) do
                    if not running then break end
                    if coin and coin.Parent then
                        collectCoin(coin)
                        task.wait(STEP)
                    end
                end
            else
                Status.Text = "في انتظار عملات Doom..."
                task.wait(1)
            end
        end
    end)
end

local function stopFarm()
    running = false
    if loopThread then
        task.cancel(loopThread)
        loopThread = nil
    end
end


Toggle.MouseButton1Click:Connect(function()
    running = not running
    if running then
        Toggle.Text = "وقف"
        Toggle.BackgroundColor3 = Color3.fromRGB(40,120,40)
        Status.Text = "الحالة: نشط"
        startFarm()
    else
        Toggle.Text = "ابدا"
        Toggle.BackgroundColor3 = Color3.fromRGB(120,40,40)
        Status.Text = "الحالة: واقف"
        stopFarm()
    end
end)
end})
    
    MiscTab:CreateButton({
    Name = "تجميع عملات حدث الكاندي | CANDY",
    Callback = function()
    
local COLLECTION_SPEED = 800
local TARGET_FOLDERS = {
    "ValentinesCoinParts",
    "CandyEventParts"
}
local SAFE_POINT = Vector3.new(133.81, 3.27, -45.37)


local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local isChimeraActive = false
local collectionQueue = {}
local watchers = {}


local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Chimera_Test_UI_v3"
MainGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 250, 0, 100)
MainFrame.Position = UDim2.new(0.5, -125, 0.2, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(50, 20, 50)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 8)

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 30)
TitleLabel.BackgroundColor3 = Color3.fromRGB(70, 40, 70)
TitleLabel.Text = "تجميع عملات حدث الكاندي v1 من صنع فارس"
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextSize = 9

local StatusLabel = Instance.new("TextLabel", MainFrame)
StatusLabel.Size = UDim2.new(1, -20, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 1, -25)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.SourceSans
StatusLabel.TextColor3 = Color3.fromRGB(220, 200, 255)
StatusLabel.TextSize = 12
StatusLabel.Text = "الحالة: غير نشط"
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(1, -20, 0, 35)
ToggleButton.Position = UDim2.new(0, 10, 0, 35)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "ابدا"
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.TextSize = 16
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 5)



local function addToQueue(item)
    if item and item.Parent and not table.find(collectionQueue, item) then
        table.insert(collectionQueue, item)
    end
end

local function safeTweenTo(targetPosition)
    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end
    local distance = (rootPart.Position - targetPosition).Magnitude
    local duration = math.max(distance / COLLECTION_SPEED, 0.05)
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(rootPart, tweenInfo, {CFrame = CFrame.new(targetPosition)})
    tween:Play()
    tween.Completed:Wait()
end

local function findNearestInQueue()
    local rootPart = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not rootPart or #collectionQueue == 0 then return nil end

    local nearestTarget, minDistance = nil, math.huge
    for i = #collectionQueue, 1, -1 do
        local target = collectionQueue[i]
        if target and target.Parent and target.PrimaryPart then
            local distance = (rootPart.Position - target.PrimaryPart.Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                nearestTarget = target
            end
        else
            table.remove(collectionQueue, i)
        end
    end
    return nearestTarget
end

local function startWatchers()
    for _, folderName in ipairs(TARGET_FOLDERS) do
        local folder = workspace:FindFirstChild(folderName)
        if folder then
            for _, item in ipairs(folder:GetChildren()) do
                addToQueue(item)
            end
            watchers[folderName] = folder.ChildAdded:Connect(addToQueue)
        end
    end
end

local function stopWatchers()
    for name, conn in pairs(watchers) do
        conn:Disconnect()
    end
    watchers = {}
    collectionQueue = {}
end

local function collectionLoop()
    task.spawn(function()
        while isChimeraActive do
            local character = LocalPlayer.Character
            local rootPart = character and character:FindFirstChild("HumanoidRootPart")
            if not rootPart or (character:FindFirstChild("Humanoid") and character.Humanoid.Health <= 0) then
                StatusLabel.Text = "في انتظار ريسبون الشخصية..."
                task.wait(1)
                continue
            end

            local target = findNearestInQueue()

            if target then
                StatusLabel.Text = "جاري التجميع: " .. target.Name .. " (" .. #collectionQueue .. " متبقي)"
                
                
                if target.Parent.Name == "CandyEventParts" then
                    
                    rootPart.CFrame = target.PrimaryPart.CFrame
                else
                    
                    safeTweenTo(target.PrimaryPart.Position + Vector3.new(0, 3, 0))
                    if target and target.Parent then
                        local touchPart = target.PrimaryPart or target:FindFirstChildWhichIsA("BasePart")
if touchPart and firetouchinterest and touchPart.Parent and rootPart then
    pcall(function()
        

        local oldCanCollide = touchPart.CanCollide
        touchPart.CanCollide = false

        firetouchinterest(rootPart, touchPart, 0)
        task.wait(0.05)
        firetouchinterest(rootPart, touchPart, 1)

        

        if touchPart then
            touchPart.CanCollide = oldCanCollide
        end
    end)
end
                    end
                end
                
                task.wait(0.1) 
            else
                StatusLabel.Text = "هنستني الحاجات تترسبن... "
                task.wait(0.5)
            end
        end
    end)
end

local function toggleChimera(state)
    isChimeraActive = state
    if isChimeraActive then
        ToggleButton.Text = "وقف-_-"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
        startWatchers()
        collectionLoop()
    else
        ToggleButton.Text = "ابدا يبرو"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
        StatusLabel.Text = "الحالة: غير نشط"
        stopWatchers()
    end
end

ToggleButton.MouseButton1Click:Connect(function()
    toggleChimera(not isChimeraActive)
end)
end})
  

MiscTab:CreateButton({
    Name = "تجميع Coins حدث الكاندي فقط",
    Callback = function()
      
local COLLECTION_SPEED = 800
local TARGET_FOLDER = "ValentinesCoinParts"


local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

local isChimeraActive = false
local collectionQueue = {}
local watcher = nil


local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Chimera_Valentines_Only"
MainGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 250, 0, 100)
MainFrame.Position = UDim2.new(0.5, -125, 0.2, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(50, 20, 50)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 8)

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 30)
TitleLabel.BackgroundColor3 = Color3.fromRGB(70, 40, 70)
TitleLabel.Text = "تجميع Coins حدث الكاندي من صنع فارس v2"
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextSize = 9

local StatusLabel = Instance.new("TextLabel", MainFrame)
StatusLabel.Size = UDim2.new(1, -20, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 1, -25)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.SourceSans
StatusLabel.TextColor3 = Color3.fromRGB(220, 200, 255)
StatusLabel.TextSize = 12
StatusLabel.Text = "الحالة: غير نشط"
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(1, -20, 0, 35)
ToggleButton.Position = UDim2.new(0, 10, 0, 35)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "تشغيل الجمع"
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.TextSize = 16
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 5)



local function addToQueue(item)
    if item and item.Parent and not table.find(collectionQueue, item) then
        table.insert(collectionQueue, item)
    end
end

local function safeTweenTo(pos)
    local char = LocalPlayer.Character
    local root = char and char:FindFirstChild("HumanoidRootPart")
    if not root then return end

    local dist = (root.Position - pos).Magnitude
    local time = math.max(dist / COLLECTION_SPEED, 0.05)
    local tween = TweenService:Create(root, TweenInfo.new(time, Enum.EasingStyle.Linear), {
        CFrame = CFrame.new(pos)
    })
    tween:Play()
    tween.Completed:Wait()
end

local function findNearest()
    local char = LocalPlayer.Character
    local root = char and char:FindFirstChild("HumanoidRootPart")
    if not root or #collectionQueue == 0 then return nil end

    local nearest, minDist = nil, math.huge
    for i = #collectionQueue, 1, -1 do
        local obj = collectionQueue[i]
        if obj and obj.Parent and obj.PrimaryPart then
            local d = (root.Position - obj.PrimaryPart.Position).Magnitude
            if d < minDist then
                minDist = d
                nearest = obj
            end
        else
            table.remove(collectionQueue, i)
        end
    end
    return nearest
end

local function startWatcher()
    local folder = workspace:FindFirstChild(TARGET_FOLDER)
    if not folder then
        warn("ValentinesCoinParts not found")
        return
    end

    for _, v in ipairs(folder:GetChildren()) do
        addToQueue(v)
    end

    watcher = folder.ChildAdded:Connect(addToQueue)
end

local function stopWatcher()
    if watcher then
        watcher:Disconnect()
        watcher = nil
    end
    collectionQueue = {}
end

local function loop()
    task.spawn(function()
        while isChimeraActive do
            local char = LocalPlayer.Character
            local root = char and char:FindFirstChild("HumanoidRootPart")

            if not root then
                StatusLabel.Text = "في انتظار ريسبون الشخصية..."
                task.wait(1)
                continue
            end

            local target = findNearest()

            if target then
                StatusLabel.Text = "جمع: " .. target.Name .. " (" .. #collectionQueue .. " باقي)"

                local part = target.PrimaryPart or target:FindFirstChildWhichIsA("BasePart")
                if part then
                    safeTweenTo(part.Position + Vector3.new(0, 3, 0))

                    if firetouchinterest and part.Parent and root then
                        pcall(function()
                            local old = part.CanCollide
                            part.CanCollide = false
                            firetouchinterest(root, part, 0)
                            task.wait(0.05)
                            firetouchinterest(root, part, 1)
                            if part then
                                part.CanCollide = old
                            end
                        end)
                    end
                end

                task.wait(0.1)
            else
                StatusLabel.Text = "في انتظار Coins جديدة..."
                task.wait(0.5)
            end
        end
    end)
end

local function toggle(state)
    isChimeraActive = state
    if state then
        ToggleButton.Text = "إيقاف الجمع"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
        startWatcher()
        loop()
    else
        ToggleButton.Text = "تشغيل الجمع"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
        StatusLabel.Text = "الحالة: غير نشط"
        stopWatcher()
    end
end

ToggleButton.MouseButton1Click:Connect(function()
    toggle(not isChimeraActive)
end)
end})
    
    MiscTab:CreateButton({
    Name = "تجميع عملات الحدث الجديد| Arcade (نسخة محسنة و قوية)",
    Callback = function()
    
    -- نسخة محسنه

local COLLECTION_SPEED = 800


local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

local isChimeraActive = false
local swarmLoopActive = false
local pulseLoopActive = false


local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Chimera_UI_v11"
MainGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 220, 0, 90)
MainFrame.Position = UDim2.new(0.5, -110, 0.2, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(45, 30, 45) -- A hybrid, chimeric purple
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 6)

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 30)
TitleLabel.BackgroundColor3 = Color3.fromRGB(65, 50, 65)
TitleLabel.Text = "سكربت تجميع عملات Arcade من صنع فارس V3"
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextSize = 9

local StatusLabel = Instance.new("TextLabel", MainFrame)
StatusLabel.Size = UDim2.new(1, -20, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 1, -25)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.SourceSans
StatusLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
StatusLabel.TextSize = 12
StatusLabel.Text = "الحالة: غير نشط"
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(1, -20, 0, 35)
ToggleButton.Position = UDim2.new(0, 10, 0, 35)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "ابدا يشبح"
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.TextSize = 16
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 4)




local function safeTweenTo(targetPosition)
    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end
    local distance = (rootPart.Position - targetPosition).Magnitude
    local duration = math.max(distance / COLLECTION_SPEED, 0.05)
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(rootPart, tweenInfo, {CFrame = CFrame.new(targetPosition)})
    tween:Play()
    tween.Completed:Wait()
end

local function getAvailableTargets(folder)
    local targets = {}
    for _, consoleModel in ipairs(folder:GetChildren()) do
        if consoleModel:IsA("Model") then
            local gameConsolePart = consoleModel:FindFirstChild("Game Console")
            if gameConsolePart and gameConsolePart:IsA("BasePart") and gameConsolePart:FindFirstChild("TouchInterest") then
                table.insert(targets, gameConsolePart)
            end
        end
    end
    return targets
end

local function findNearestTarget(currentPos, targets)
    local nearestTarget, minDistance = nil, math.huge
    for i = #targets, 1, -1 do
        local target = targets[i]
        if target and target.Parent then
            local distance = (currentPos - target.Position).Magnitude
            if distance < minDistance then minDistance = distance; nearestTarget = target end
        else
            table.remove(targets, i)
        end
    end
    return nearestTarget
end

local function swarmCycle()
    local harvestFolder = workspace:FindFirstChild("ArcadeEventConsoles")
    if not harvestFolder then StatusLabel.Text = "الحالة: في انتظار بدء الحدث..."; return end

    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end
    
    local startingCFrame = rootPart.CFrame
    local availableTargets = getAvailableTargets(harvestFolder)

    if #availableTargets == 0 then StatusLabel.Text = "الحالة: لا توجد أهداف، جاري البحث..."; return end

    StatusLabel.Text = "الحالة: تم العثور على " .. #availableTargets .. " هدف، جاري التجميع..."

    while isChimeraActive and #availableTargets > 0 do
        rootPart = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not rootPart then break end

        local nearestTarget = findNearestTarget(rootPart.Position, availableTargets)
        
        if nearestTarget then
            safeTweenTo(nearestTarget.Position + Vector3.new(0, 3, 0))
            for i, t in ipairs(availableTargets) do
                if t == nearestTarget then table.remove(availableTargets, i); break end
            end
        else
            break
        end
    end

    rootPart = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if rootPart and rootPart.Parent and isChimeraActive then
        safeTweenTo(startingCFrame.Position)
    end
end


local function pulseCycle()
    local harvestFolder = workspace:FindFirstChild("ArcadeEventConsoles")
    if not harvestFolder or not firetouchinterest then return end

    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end

    for _, consoleModel in ipairs(harvestFolder:GetChildren()) do
        if not isChimeraActive then break end
        if consoleModel:IsA("Model") then
            local gameConsolePart = consoleModel:FindFirstChild("Game Console")
            if gameConsolePart and gameConsolePart:FindFirstChild("TouchInterest") then
                firetouchinterest(rootPart, gameConsolePart, 0)
                task.wait(0.01)
                firetouchinterest(rootPart, gameConsolePart, 1)
            end
        end
    end
end


local function startLoops()
    if swarmLoopActive or pulseLoopActive then return end
    
    swarmLoopActive = true
    task.spawn(function()
        while isChimeraActive do
            swarmCycle()
            task.wait(1)
        end
        swarmLoopActive = false
    end)

    pulseLoopActive = true
    task.spawn(function()
        while isChimeraActive do
            pulseCycle()
            task.wait(0.2)
        end
        pulseLoopActive = false
    end)
end

local function toggleChimera(state)
    isChimeraActive = state
    if isChimeraActive then
        ToggleButton.Text = "وقف يا شيبس"; ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
        startLoops()
    else
        ToggleButton.Text = "ابدا يزماله"; ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
        StatusLabel.Text = "الحالة: غير نشط"
    end
end

ToggleButton.MouseButton1Click:Connect(function() toggleChimera(not isChimeraActive) end)
LocalPlayer.CharacterAdded:Connect(function(character) task.wait(2); if isChimeraActive then startLoops() end end)
end})
    
    MiscTab:CreateButton({
    Name = "تجميع عملات الحدث الجديد| Arcade ",
    Callback = function()
    
    
local COLLECTION_SPEED = 800


local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

local isHarvesting = false
local harvestLoopActive = false


local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Sentinel_UI_v10"
MainGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 220, 0, 90)
MainFrame.Position = UDim2.new(0.5, -110, 0.2, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 6)

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 30)
TitleLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
TitleLabel.Text = "سكربت تج٠ميع عملات الحدث الجديد من صنع فارسv2| اذا حدث خطا عيد تشغيله من صفحه Misc"
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextSize = 8.6

local StatusLabel = Instance.new("TextLabel", MainFrame)
StatusLabel.Size = UDim2.new(1, -20, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 1, -25)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.SourceSans
StatusLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
StatusLabel.TextSize = 12
StatusLabel.Text = "الحالة: غير نشط"
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(1, -20, 0, 35)
ToggleButton.Position = UDim2.new(0, 10, 0, 35)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "تفعيل التجميع"
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.TextSize = 16
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 4)



local function safeTweenTo(targetPosition)
    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end
    local distance = (rootPart.Position - targetPosition).Magnitude
    local duration = math.max(distance / COLLECTION_SPEED, 0.05)
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(rootPart, tweenInfo, {CFrame = CFrame.new(targetPosition)})
    tween:Play()
    tween.Completed:Wait()
end

local function getAvailableTargets(folder)
    local targets = {}
    for _, consoleModel in ipairs(folder:GetChildren()) do
        if consoleModel:IsA("Model") then
            local gameConsolePart = consoleModel:FindFirstChild("Game Console")
            if gameConsolePart and gameConsolePart:IsA("BasePart") and gameConsolePart:FindFirstChild("TouchInterest") then
                table.insert(targets, gameConsolePart)
            end
        end
    end
    return targets
end

local function findNearestTarget(currentPos, targets)
    local nearestTarget, minDistance = nil, math.huge
    for i = #targets, 1, -1 do
        local target = targets[i]
        if target and target.Parent then
            local distance = (currentPos - target.Position).Magnitude
            if distance < minDistance then minDistance = distance; nearestTarget = target end
        else
            table.remove(targets, i)
        end
    end
    return nearestTarget
end

local function harvestCycle()
    
    local harvestFolder = workspace:FindFirstChild("ArcadeEventConsoles")
    if not harvestFolder then
        StatusLabel.Text = "الحالة: في انتظار بدء الحدث..."
        task.wait(2) -- Wait 2 seconds before checking again
        return
    end

    if not firetouchinterest then warn("Sentinel Error: firetouchinterest not available."); isHarvesting = false; return end
    
    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end
    
    local startingCFrame = rootPart.CFrame
    local availableTargets = getAvailableTargets(harvestFolder)

    if #availableTargets == 0 then
        StatusLabel.Text = "الحالة: لا توجد أهداف، جاري البحث..."
        task.wait(1)
        return
    end

    StatusLabel.Text = "الحالة: تم العثور على " .. #availableTargets .. " هدف، جاري التجميع .."

    while isHarvesting and #availableTargets > 0 do
        rootPart = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not rootPart then break end

        local nearestTarget = findNearestTarget(rootPart.Position, availableTargets)
        
        if nearestTarget then
            safeTweenTo(nearestTarget.Position + Vector3.new(0, 3, 0))
            
            rootPart = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if not rootPart then break end
            
            firetouchinterest(rootPart, nearestTarget, 0); task.wait(0.05); firetouchinterest(rootPart, nearestTarget, 1)
            
            for i, t in ipairs(availableTargets) do
                if t == nearestTarget then table.remove(availableTargets, i); break end
            end
            task.wait(0.1)
        else
            break
        end
    end

    rootPart = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if rootPart and rootPart.Parent and isHarvesting then
        safeTweenTo(startingCFrame.Position)
    end
end

local function startHarvestLoop()
    if harvestLoopActive then return end
    harvestLoopActive = true
    
    task.spawn(function()
        while isHarvesting do
            harvestCycle()
            task.wait(0.5) -- Wait before starting the next full sweep
        end
        harvestLoopActive = false
    end)
end

local function toggleHarvesting(state)
    isHarvesting = state
    if isHarvesting then
        ToggleButton.Text = "وقف التجميع"; ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
        startHarvestLoop()
    else
        ToggleButton.Text = "تفعيل التجميع"; ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
        StatusLabel.Text = "الحالة: غير نشط"
    end
end

ToggleButton.MouseButton1Click:Connect(function() toggleHarvesting(not isHarvesting) end)
LocalPlayer.CharacterAdded:Connect(function(character) task.wait(2); if isHarvesting then startHarvestLoop() end end)

-- بدايه السكربت التاني

local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

local isHarvesting = false
local HARVEST_FOLDER

if workspace:FindFirstChild("ArcadeEventConsoles") then
    HARVEST_FOLDER = workspace:FindFirstChild("ArcadeEventConsoles")
else
    HARVEST_FOLDER = workspace:WaitForChild("ArcadeEventConsoles")
end

 
local MainGui = Instance.new("ScreenGui", CoreGui)
MainGui.Name = "Harvester_UI_v1"
MainGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", MainGui)
MainFrame.Size = UDim2.new(0, 200, 0, 80)
MainFrame.Position = UDim2.new(0.5, -100, 0.2, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 30, 15)
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 5)
local stroke = Instance.new("UIStroke", MainFrame); stroke.Color = Color3.fromRGB(0, 255, 127); stroke.Thickness = 1

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 25)
TitleLabel.BackgroundColor3 = Color3.fromRGB(20, 50, 30)
TitleLabel.Text = "المساعد القوي للتجميع | v1"
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextSize = 16

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(1, -20, 0, 35)
ToggleButton.Position = UDim2.new(0, 10, 0, 35)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "شغل التجميع🫩"
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.TextSize = 16
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 4)



local function harvestConsoles()
    if not firetouchinterest then
        warn("غير هاكك الضعيف ههههههههههههههههههههه.")
        isHarvesting = false -- Stop the loop if the function doesn't exist
        return
    end

    local character = LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end

    for _, consoleModel in ipairs(HARVEST_FOLDER:GetChildren()) do
        if consoleModel:IsA("Model") then
            
            local gameConsolePart = consoleModel:FindFirstChild("Game Console")
            if gameConsolePart then
                local touchInterest = gameConsolePart:FindFirstChild("TouchInterest")
                if touchInterest then
                    
                    firetouchinterest(rootPart, gameConsolePart, 0)
                    task.wait(0.05)
                    firetouchinterest(rootPart, gameConsolePart, 1)
                end
            end
        end
    end
end

local function toggleHarvesting(state)
    isHarvesting = state
    if isHarvesting then
        ToggleButton.Text = "وقف المساعد القوي"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
        
        
        task.spawn(function()
            while isHarvesting do
                harvestConsoles()
                task.wait(0.2) 
            end
        end)
    else
        ToggleButton.Text = "تشغيل التجميع"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
    end
end

ToggleButton.MouseButton1Click:Connect(function()
    toggleHarvesting(not isHarvesting)
end)
end})
    
    MiscTab:CreateButton({
    Name = "تفادي التسونامي V3.1 تم الاصلاح ",
    Callback = function()
    -- تفادي المناخ


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")


local LocalPlayer = Players.LocalPlayer


local SAFE_POINTS = {
    Vector3.new(199.60, -2.82, -6.53),
    Vector3.new(284.93, -2.82, 8.38),
    Vector3.new(396.99, -2.82, 8.23),
    Vector3.new(540.65, -2.82, 18.45),
    Vector3.new(754.31, -2.82, 2.02),
    Vector3.new(1072.14, -2.82, 15.34),
    Vector3.new(1559.02, -2.82, 18.66),
    Vector3.new(2246.13, -2.82, -7.86),
    Vector3.new(2600.88, -2.82, -11.53)
}


local DETECTION_RANGE = 250
local MOVEMENT_SPEED = 1500 
local isDodgingEnabled = false
local isCurrentlyMoving = false
local movementConnection = nil




function findNearestTsunami()
    local activeTsunamisFolder = workspace:FindFirstChild("ActiveTsunamis")
    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    
    if not activeTsunamisFolder or #activeTsunamisFolder:GetChildren() == 0 or not hrp then
        return nil 
    end

    local nearestTsunami = nil
    local minDistance = DETECTION_RANGE + 1 

    for _, model in ipairs(activeTsunamisFolder:GetChildren()) do
        if model:IsA("Model") then
            local tsunamiCenter = model.PrimaryPart and model.PrimaryPart.Position or model:GetBoundingBox().p
            local distance = (hrp.Position - tsunamiCenter).Magnitude
            if distance < minDistance then
                minDistance = distance
                nearestTsunami = model
            end
        end
    end
    
    
    
    if minDistance <= DETECTION_RANGE then
        return nearestTsunami
    end
    
    return nil
end



function moveToPosition(targetPosition)
    if isCurrentlyMoving then return end

    local char = LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    isCurrentlyMoving = true
    

    if movementConnection then movementConnection:Disconnect() end

    movementConnection = RunService.Heartbeat:Connect(function(deltaTime)
    
  
        
        if not isDodgingEnabled or not findNearestTsunami() then
            
            isCurrentlyMoving = false
            movementConnection:Disconnect()
            movementConnection = nil
            return
        end

        local currentPos = hrp.Position
        local direction = (targetPosition - currentPos).Unit
        local distance = (targetPosition - currentPos).Magnitude
        local step = MOVEMENT_SPEED * deltaTime

        if distance > step then
            hrp.CFrame = CFrame.new(currentPos + direction * step)
        else
            hrp.CFrame = CFrame.new(targetPosition)
            isCurrentlyMoving = false
            movementConnection:Disconnect()
            movementConnection = nil
            
            task.wait(0.5)
        end
    end)
end

function dodgeToNearestSafePoint()
    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    local nearestPoint = nil
    local minDistance = math.huge

    for _, point in ipairs(SAFE_POINTS) do
        local distance = (hrp.Position - point).Magnitude
        if distance < minDistance then
            minDistance = distance
            nearestPoint = point
        end
    end

    if nearestPoint then
        moveToPosition(nearestPoint)
    end
end



if CoreGui:FindFirstChild("TsunamiDodgerGUI_Fares") then
    CoreGui.TsunamiDodgerGUI_Fares:Destroy()
end

local TsunamiDodgerGui = Instance.new("ScreenGui")
TsunamiDodgerGui.Name = "TsunamiDodgerGUI_Fares"
TsunamiDodgerGui.Parent = CoreGui
TsunamiDodgerGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", TsunamiDodgerGui)
MainFrame.Size = UDim2.new(0, 250, 0, 100)
MainFrame.Position = UDim2.new(0.5, -125, 0.1, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(40, 25, 60)
MainFrame.BorderColor3 = Color3.fromRGB(140, 80, 255)
MainFrame.BorderSizePixel = 2
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 8)

local TitleLabel = Instance.new("TextLabel", MainFrame)
TitleLabel.Size = UDim2.new(1, 0, 0, 30)
TitleLabel.BackgroundColor3 = Color3.fromRGB(140, 80, 255)
TitleLabel.Text = "تفادي التسوناخي | من صنع فارس V3"
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 16

local ToggleButton = Instance.new("TextButton", MainFrame)
ToggleButton.Size = UDim2.new(0.8, 0, 0, 40)
ToggleButton.Position = UDim2.new(0.1, 0, 0.45, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
ToggleButton.Text = "تفعيل التسوناخي ابن المناخي"
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 18
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 6)



ToggleButton.MouseButton1Click:Connect(function()
    isDodgingEnabled = not isDodgingEnabled
    if isDodgingEnabled then
        ToggleButton.Text = "شغال! "
        ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
    else
        ToggleButton.Text = "تفعيل تفادي التسوناخي ابن المناخي"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
        if movementConnection then
            movementConnection:Disconnect()
            movementConnection = nil
        end
        isCurrentlyMoving = false
    end
end)

RunService.Heartbeat:Connect(function()
    if not isDodgingEnabled or isCurrentlyMoving then return end
    
    local nearestTsunami = findNearestTsunami()
    if nearestTsunami then
        
        dodgeToNearestSafePoint()
    end
end)
end})
    
    MiscTab:CreateToggle({Name = " لا تشغلة)", CurrentValue = false, Callback = function(v) isGuarding = v; if v then isInstantGuarding = false; Rayfield:Notify({Title="تفادي التسونامي العادي", Content="تم التفعيل (عمو فارس بيحبك)!", Duration=3}) end end})
    MiscTab:CreateToggle({Name = "لا تشغلة", CurrentValue = false, Callback = function(v) isInstantGuarding = v; if v then isGuarding = false; Rayfield:Notify({Title="تفادي التسونامي السريع فشخ", Content="تم التفعيل (عمو فارس بيحبك) ", Duration=3}) end end})
    
    
    





local isCollectingMoney = false
local MONEY_COLLECTOR_SPEED = 800

local function genericTweenTeleport(targetPosition, speed)
    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end
    local distance = (hrp.Position - targetPosition).Magnitude
    if distance < 3 then
        hrp.CFrame = CFrame.new(targetPosition)
        return true
    end
    local duration = math.max(distance / speed, 0.05)
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(hrp, tweenInfo, {CFrame = CFrame.new(targetPosition)})
    tween:Play()
    local startTime = tick()
    while (hrp.Position - targetPosition).Magnitude > 2 and (tick() - startTime) < duration + 0.2 do
        if not isCollectingMoney then
            tween:Cancel()
            break
        end
        task.wait()
    end
    hrp.CFrame = CFrame.new(targetPosition)
    return true
end

local function findMoneyCoinCores()
    local cores = {}
    local moneyFolder = workspace:FindFirstChild("MoneyEventParts")
    if moneyFolder then
        for _, model in pairs(moneyFolder:GetChildren()) do
            if model:IsA("Model") and model.Name == "GoldBar" then
                local corePart = model:FindFirstChild("Main")
                if corePart and corePart:IsA("BasePart") then
                    table.insert(cores, corePart)
                end
            end
        end
    end
    return cores
end

local function startMoneyCoinCollectorLoop()
    task.spawn(function()
        while isCollectingMoney do
            local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if not hrp or (LocalPlayer.Character:FindFirstChild("Humanoid") and LocalPlayer.Character.Humanoid.Health <= 0) then
                task.wait(1)
                continue
            end

            local cores = findMoneyCoinCores()
            local nearestCore = nil
            local minDistance = math.huge

            for _, core in pairs(cores) do
                if core and core.Parent then
                    local distance = (hrp.Position - core.Position).Magnitude
                    if distance < minDistance then
                        minDistance = distance
                        nearestCore = core
                    end
                end
            end

            if nearestCore then
                genericTweenTeleport(nearestCore.Position, MONEY_COLLECTOR_SPEED)
            else
                if (hrp.Position - SAFE_POINT).Magnitude > 20 then
                    genericTweenTeleport(SAFE_POINT, MONEY_COLLECTOR_SPEED)
                end
                task.wait(0.5)
            end
            
            task.wait(0.05)
        end
    end)
end

MiscTab:CreateToggle({
    Name = "تجميع عملات حدث ال money", 
    CurrentValue = false, 
    Callback = function(v) 
        isCollectingMoney = v; 
        if v then 
            startMoneyCoinCollectorLoop(); 
            Rayfield:Notify({Title="MONEY COIN COLLECTOR ON", Content="شغال!", Duration=3}) 
        else 
            Rayfield:Notify({Title="MONEY COIN COLLECTOR OFF", Content="واقف", Duration=2}) 
        end 
    end
})

MiscTab:CreateSlider({
    Name = "سرعة تجميع الـ Money", 
    Range = {500, 4000}, 
    Increment = 100, 
    CurrentValue = 800,
    Callback = function(v) 
        MONEY_COLLECTOR_SPEED = v; 
        Rayfield:Notify({Title="Money Collector Speed", Content="تم ضبط السرعة على: " .. v, Duration=2}) 
    end
})





local UFO_COLLECTOR_SPEED = 800 



local function findUfoCoinHitboxes()
    local hitboxes = {}
    for _, part in pairs(workspace:GetDescendants()) do
        if part.Name == "Hitbox" and part:IsA("BasePart") then
            if part.Parent and part.Parent.Name == "UFO Coin" and part.Parent:IsA("Model") then
                table.insert(hitboxes, part)
            end
        end
    end
    return hitboxes
end



local function findNearestUfoHitbox()
    local char = LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    if not hrp then return nil, nil end
    
    local hitboxes = findUfoCoinHitboxes()
    
    local nearestHitbox = nil
    local minDistance = math.huge
    for _, hitbox in pairs(hitboxes) do
        if hitbox and hitbox.Parent then
            local distance = (hrp.Position - hitbox.Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                nearestHitbox = hitbox
            end
        end
    end
    return nearestHitbox, minDistance
end



local function ufoTweenTeleport(targetPosition)
    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end
    local distance = (hrp.Position - targetPosition).Magnitude
    if distance < 3 then
        hrp.CFrame = CFrame.new(targetPosition)
        return true
    end
    
    local duration = math.max(distance / UFO_COLLECTOR_SPEED, 0.05)
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(hrp, tweenInfo, {CFrame = CFrame.new(targetPosition)})
    tween:Play()
    local startTime = tick()
    while (hrp.Position - targetPosition).Magnitude > 2 and (tick() - startTime) < duration + 0.2 do
        task.wait()
    end
    hrp.CFrame = CFrame.new(targetPosition)
    return true
end


local isCollectingUfoCoins = false



local function startUfoCollectorLoop()
    task.spawn(function()
        while isCollectingUfoCoins do
            local success, err = pcall(function()
                local char = LocalPlayer.Character
                if not char then return end
                local hrp = char:FindFirstChild("HumanoidRootPart")
                if not hrp then return end
                
                local nearestHitbox, dist = findNearestUfoHitbox()
                
                if nearestHitbox and nearestHitbox.Parent then
                    local teleported = ufoTweenTeleport(nearestHitbox.Position)
                    if teleported then
                        hrp.Velocity = Vector3.zero
                        firetouchinterest(hrp, nearestHitbox, 0)
                        task.wait(0.02)
                        firetouchinterest(hrp, nearestHitbox, 1)
                        task.wait(0.05)
                    end
                else
                    if (hrp.Position - SAFE_POINT).Magnitude > 30 then
                        ufoTweenTeleport(SAFE_POINT)
                    end
                    task.wait(0.5)
                end
            end)
            if not success then
                warn("بتشوف الكونسول صح")
            end
            task.wait(0.03)
        end
    end)
end


MiscTab:CreateParagraph({
    Title = " ملاحظة مهمة بخصوص جمع عملات ال money او UFO او  Radioactive",
    Content = "شغل سكربت الحمايه من تسونامي لضمان تجربه افضل و اجعل سرعة 800"
})

MiscTab:CreateToggle({
    Name = "تجميع عملات حدث الـ UFO", 
    CurrentValue = false, 
    Callback = function(v) 
        isCollectingUfoCoins = v; 
        if v then 
            startUfoCollectorLoop(); 
            Rayfield:Notify({Title="UFO COLLECTOR (R.E.) ON", Content="شغال!", Duration=3}) 
        else 
            Rayfield:Notify({Title="UFO COLLECTOR (R.E.) OFF", Content="واقف", Duration=2}) 
        end 
    end
})

MiscTab:CreateSlider({
    Name = "سرعة تجميع الـ UFO", 
    Range = {500, 4000}, 
    Increment = 100, 
    CurrentValue = 800, 
    Callback = function(v) 
        UFO_COLLECTOR_SPEED = v; 
        Rayfield:Notify({Title="UFO Collector Speed", Content="تم ضبط السرعة على: " .. v, Duration=2}) 
    end
})




    MiscTab:CreateToggle({Name = "تجميع عملات حدث الراديو اكتف تلقائي", CurrentValue = false, Callback = function(v) isCollectingCoins = v; if v then startFlashCollectorLoop(); Rayfield:Notify({Title="FLASH COLLECTOR ON", Content="شغال " .. COLLECTOR_SPEED .. " studs/s!", Duration=3}) else Rayfield:Notify({Title="FLASH COLLECTOR OFF", Content="واقف", Duration=2}) end end})
    MiscTab:CreateSlider({Name = "سرعة التجميع", Range = {500, 3000}, Increment = 100, CurrentValue = 2000, Callback = function(v) COLLECTOR_SPEED = v; Rayfield:Notify({Title="Collector Speed", Content="تم ضبط السرعة على: " .. v, Duration=2}) end})
    MiscTab:CreateToggle({Name = "/instant grab شيل الشخصيات ب سرعة ", CurrentValue = false, Callback = function(v) isInstaGrabActive = v; if v then Rayfield:Notify({Title="شيل الشخصيات بسرعه", Content="تم التفعيل!", Duration=3}) end end})
    MiscTab:CreateSection("© Script by Fares")

    
    InfoTab:CreateSection("معلومات السكربت")
    InfoTab:CreateParagraph({Title = "نسخة السكربت", Content = "هذا الاصدار .v31.\n تم تحسين بعض المشاكلوويعمل  بكفاءه اقوي و تمت اضافة VIP مجاناو تم اضافة Max Luck   و تم اضافة ESP لاكي بلوكس و تم اضافة مضاد الضرب  و تمت اضافة تجميع عملات حدث ال Arcade  و تمت  اضافة الانتقال الى اخر الماب مع شرح  و تم اضافة كشف اماكن التيكتات و تم اضافه تسونامي مرئي  و تم اضافه انك تقدر تاخذ الشخصيات تلقائي  و تم حل مشكله التنقل في سكربت Gaps و تم تطوير ميزة الانتقال الى اخر الماب و تم اضافة تجميع الشخصيات تلقائي  يمكنك تجميع فوق 30 clesteal و تم اصلاح و اضافة الانتقالبدون جهد منك و تمت اضافه  تخطي الباركور و تم اضافة مميزات  و اضافة سكربتات جديدة و قوية و اضافة auto collect و العديد من المميزات اكتشفها بنفسك (اذا اكتشفت اي مشاكل في السكربت تواصل معي في التيك توك علي الخاص  ._.f.o_  ) و تمت اضافة مميزات حصرية و  تم اضافة تجميع عملات حدث ال Money و تمت اضافه عدم الموت من تسونامي و تمت اضافة التنقل عبر جدار Vip و تم اصلاح تفادي التسونامي و تطويرة و تمت اضافة  جمع العملات UFO الجديدة و و عدم الموت تمت اضافته و تم اضافة التنقل الى اخر الماب التجريبي و  تم   اضافه تجميع عملات حدث DOOM و تم اضافه تجميع Trial Tower  و اصلاح الثغرة و سكربتات رائعه و تم تحسين بعض المشاكل في الاداءو تم اضافة سكربت يحسن الاداء  وواضافه misc.\nالسكربت هذا تم تطويره من FARES."})
    
    InfoTab:CreateParagraph({Title = "Script Version", Content = "This is the release v31\n Problems have been improved, new features have been added,god mod has been added and script Fix Lag Has been added, and anti hit has been added, and new protection from Tsunami  has been added,And collect ArcadeCoins has been added, and Free Vip has been added and auto collect DOOM coins has been added and Auto Collect TRIALTOWER has been added  and ESP LUCKYBLOCKS has been added and Tp in Vip walls has been added UPDATED Script Misc has been added,and MAX LUCK has been added, and AutoSteal/AutoGrab has been added, and ESP TICKETS has been added, and Tsunami visual has been added, and fixed Gaps Script  problem, and auto collect has been added, and SKIP PARKOUR has been added, and auto collect coins event Money has been added,  and collect  UFO coins has been added and teleport to end of map has been added  and fixed the Teleporter and script exclusive features has been added  and Auto collect brainrots has been added so u can get 30 clesteal and fixed  some problems and exclusive features has been added and protection from tsunami has been added and  fixed the teleport to end of map fixed some glitchs and problems  if you had any problems dm me in tiktok (._.f.o_)  and added more taps more scripts take a LOOK by yourself, and the script  works more efficiently on phones.\nThis script has been developed by FARES."})
    
    InfoTab:CreateParagraph({Title = "المطور / Developer", Content = "FARES (egyptiandeveloper)"})

    InfoTab:CreateParagraph({Title = "ملاحظات / Notes", Content = "السكربت هذا تم تطويره من FARES.\nBESTCHEAT Like and Follow للعلم السكربت لا يعمل جيدا علي PC يرجى استخدام هاتف."})
    InfoTab:CreateSection("© Copyright by FARES")
    MainTab:CreateSection(" المميزات")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local UpgradeCarryRemote = ReplicatedStorage.RemoteFunctions.UpgradeCarry
local AutoCarry = false


MainTab:CreateToggle({
    Name = "تطوير ال Carry تلقتءي V2",
    CurrentValue = false,
    Flag = "AutoUpgradeCarry",
    Callback = function(Value)
        AutoCarry = Value

        if AutoCarry then
            task.spawn(function()
                while AutoCarry do
                    local success, err = pcall(function()
                        UpgradeCarryRemote:InvokeServer()
                    end)
                    if not success then
                        warn("Carry Error:", err)
                    end
                    task.wait(1)
                end
            end)
        end
    end,
})

  MainTab:CreateToggle({Name = "تطوير السرعة تلقائي", CurrentValue = false, Callback = function(v) getgenv().Aus = v end})
    MainTab:CreateToggle({Name = "لا تشغلة", CurrentValue = false, Callback = function(v) getgenv().Auc = v end})
    MainTab:CreateToggle({Name = "اوتو ريبيرث", CurrentValue = false, Callback = function(v) getgenv().Ar = v end})
    MainTab:CreateToggle({Name = "تغيير السرعة", CurrentValue = false, Callback = function(v) getgenv().Sc = v end})
    MainTab:CreateSlider({Name = "قيمة السرعة", Range = {16, 1000}, Increment = 1, CurrentValue = 16, Callback = function(v) getgenv().Scv = v end})
    MainTab:CreateSection("©  Copyright by Fares")

    -- لوبات القايمه رايسيه
    

  

  
    RunService.Stepped:Connect(function() if isCollectingCoins then local char = LocalPlayer.Character; if char then for _, part in pairs(char:GetDescendants()) do if part:IsA("BasePart") then part.CanCollide = false end end end end end)
    task.spawn(function() while task.wait(0.5) do if getgenv().Sc then pcall(speedchanger) end end end)
    task.spawn(function() while task.wait(1) do if getgenv().Aus then pcall(upgradespeed) end; if getgenv().Auc then pcall(upgradecarry) end; if getgenv().Ar then pcall(rebirth) end end end)
    task.spawn(function() while task.wait(1) do if isInstaGrabActive then for _, prompt in pairs(workspace:GetDescendants()) do if prompt:IsA("ProximityPrompt") then prompt.HoldDuration = 0 end end end end end)
    RunService.Heartbeat:Connect(function() local shouldRun = isGuarding or isInstantGuarding; if shouldRun and not isDodging then local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart"); if not hrp then return end; local waves = findTsunamiWaves(); for _, wave in pairs(waves) do if (hrp.Position - wave.Position).Magnitude <= DETECTION_RANGE then findAndTeleportToGap(isInstantGuarding); break end end end end)
end


local gui = Instance.new("ScreenGui")
gui.Name = "FaresKeySystem"
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer:WaitForChild("PlayerGui")
local main = Instance.new("Frame")
main.Size = UDim2.new(0, 380, 0, 270)
main.Position = UDim2.new(0.5, 0, 0.5, 0)
main.AnchorPoint = Vector2.new(0.5, 0.5)
main.BackgroundColor3 = DARK_GLASS
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
main.Parent = gui
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 14)
local stroke = Instance.new("UIStroke", main)
stroke.Color = BLUE_ACCENT
stroke.Thickness = 1.5
stroke.Transparency = 0.4
local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, 0, 0, 50)
title.BackgroundTransparency = 1
title.Text = " Key gui by 3mk Fares"
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextColor3 = TEXT_COLOR
local desc = Instance.new("TextLabel", main)
desc.Size = UDim2.new(1, -30, 0, 80)
desc.Position = UDim2.new(0, 15, 0, 50)
desc.BackgroundTransparency = 1
desc.TextWrapped = true
desc.TextYAlignment = Enum.TextYAlignment.Top
desc.Text = "نورت سكربت من صنع فارس\nانت اكيد بتدور علي المفتاح\nولا تزعل المفتاح اهو Hiimfares"
desc.Font = Enum.Font.GothamBold
desc.TextSize = 13
desc.TextColor3 = SUBTITLE_COLOR
local keyBox = Instance.new("TextBox", main)
keyBox.Size = UDim2.new(0.85, 0, 0, 42)
keyBox.Position = UDim2.new(0.5, 0, 0.6, 0)
keyBox.AnchorPoint = Vector2.new(0.5, 0.5)
keyBox.BackgroundColor3 = FIELD_BG
keyBox.TextColor3 = TEXT_COLOR
keyBox.PlaceholderText = "اكتب المفتاح هنا..."
keyBox.Font = Enum.Font.Gotham
keyBox.TextSize = 14
Instance.new("UICorner", keyBox).CornerRadius = UDim.new(0, 8)
local verify = Instance.new("TextButton", main)
verify.Size = UDim2.new(0.5, 0, 0, 38)
verify.Position = UDim2.new(0.25, 0, 0.78, 0)
verify.BackgroundColor3 = BLUE_ACCENT
verify.Text = "تفعيل السكربت"
verify.Font = Enum.Font.GothamBold
verify.TextSize = 14
verify.TextColor3 = TEXT_COLOR
Instance.new("UICorner", verify).CornerRadius = UDim.new(0, 8)
local status = Instance.new("TextLabel", main)
status.Size = UDim2.new(1, 0, 0, 25)
status.Position = UDim2.new(0, 0, 0.9, 0)
status.BackgroundTransparency = 1
status.Text = "في انتظار إدخال المفتاح"
status.Font = Enum.Font.Gotham
status.TextSize = 11
status.TextColor3 = SUBTITLE_COLOR
verify.MouseButton1Click:Connect(function()
    if keyBox.Text == correctKey then
        status.Text = " تم التفعيل بنجاح"
        status.TextColor3 = Color3.fromRGB(80, 220, 140)
        TweenService:Create(stroke, TweenInfo.new(0.4), {Color = Color3.fromRGB(80, 220, 140)}):Play()
        task.wait(1)
        gui:Destroy()
        ExecuteHub()
    else
        status.Text = "المفتاح غير صحيح"
        status.TextColor3 = Color3.fromRGB(220, 80, 80)
        keyBox.Text = ""
    end
end)




local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local ContextActionService = game:GetService("ContextActionService")
local UserInputService = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer
local camera = workspace.CurrentCamera


task.spawn(function()
	StarterGui:SetCore("SendNotification", {
		Title = "Shiftlock",
		Text = "Shiftlock Enabled | By فارس",
		Duration = 4
	})
end)

local ShiftlockStarterGui
local ImageButton

local character
local humanoid
local rootPos = Vector3.new(0,0,0)

local MAX_LENGTH = 900000
local ENABLED_OFFSET = CFrame.new(1.5, 0.75, 0)
local DISABLED_OFFSET = CFrame.new(-1.5, 0, 0)

local active = nil

local states = {
	OFF = "rbxasset://textures/ui/mouseLock_off@2x.png",
	ON  = "rbxasset://textures/ui/mouseLock_on@2x.png"
}

local function UpdatePos()
	if humanoid and humanoid.RootPart then
		rootPos = humanoid.RootPart.Position
	end
end

local function UpdateImage(state)
	if ImageButton then
		ImageButton.Image = states[state]
	end
end

local function UpdateAutoRotate(state)
	if humanoid then
		humanoid.AutoRotate = state
	end
end

local function GetUpdatedCameraCFrame()
	return CFrame.new(
		rootPos,
		Vector3.new(
			camera.CFrame.LookVector.X * MAX_LENGTH,
			rootPos.Y,
			camera.CFrame.LookVector.Z * MAX_LENGTH
		)
	)
end

local function EnableShiftlock()
	UpdatePos()
	UpdateAutoRotate(false)
	UpdateImage("ON")

	if humanoid and humanoid.RootPart then
		humanoid.RootPart.CFrame = GetUpdatedCameraCFrame()
	end

	camera.CFrame = camera.CFrame * ENABLED_OFFSET
end

local function DisableShiftlock()
	UpdateAutoRotate(true)
	UpdateImage("OFF")

	camera.CFrame = camera.CFrame * DISABLED_OFFSET

	if active then
		active:Disconnect()
		active = nil
	end
end

local function ToggleShiftlock()
	if not active then
		active = RunService.RenderStepped:Connect(EnableShiftlock)
	else
		DisableShiftlock()
	end
end

local function createGUI()
	if player.PlayerGui:FindFirstChild("Shiftlock (StarterGui)") then
		player.PlayerGui["Shiftlock (StarterGui)"]:Destroy()
	end

	ShiftlockStarterGui = Instance.new("ScreenGui")
	ShiftlockStarterGui.Name = "Shiftlock (StarterGui)"
	ShiftlockStarterGui.ResetOnSpawn = false
	ShiftlockStarterGui.Parent = player.PlayerGui

	ImageButton = Instance.new("ImageButton")
	ImageButton.Parent = ShiftlockStarterGui
	ImageButton.Active = true
	ImageButton.Draggable = true
	ImageButton.BackgroundTransparency = 1
	ImageButton.Position = UDim2.new(0.921914339, 0, 0.552375436, 0)
	ImageButton.Size = UDim2.new(0.0636147112, 0, 0.0661305636, 0)
	ImageButton.SizeConstraint = Enum.SizeConstraint.RelativeXX

	
	ImageButton.Image = "http://www.roblox.com/asset/?id=182223762"
	ImageButton.Visible = UserInputService.TouchEnabled

	UpdateImage("OFF")
	ImageButton.MouseButton1Click:Connect(ToggleShiftlock)

	ContextActionService:BindAction(
		"ShiftLOCK",
		function(_, state)
			if state == Enum.UserInputState.Begin then
				ToggleShiftlock()
			end
		end,
		false,
		Enum.KeyCode.LeftShift
	)
end

local function onCharacterAdded(char)
	character = char
	humanoid = character:WaitForChild("Humanoid")
	task.wait(0.05)
	createGUI()
end

if player.Character then
	onCharacterAdded(player.Character)
end

player.CharacterAdded:Connect(onCharacterAdded)
 

